define(["angular"],function(e){return function(e,a,t,n){e.controller("rechargeAndCashCtrl",["$scope","navData","cService","G","httpService","$state","$cookieStore",function(e,a,t,n,c,r,s){var m=s.get("curUser");e.page1=1,e.page2=1,e.pageSize=5,e.formData1={status:"",time:"-1"},e.formData2={status:"",time:"-1"},c.get({url:"account/getBalanceAvailable"}).success(function(a,t,n,c){e.balanceAvailable=parseInt(a);var r=(a-e.balanceAvailable).toFixed(2);e.balanceAvailable_decimal=r.substr(r.indexOf(".")+1,2)}),e.jump=function(e){5!=m.realNameStatus||1!=m.userType&&2!=m.userType?1==e?r.go("account.recharge"):r.go("account.withdrawals"):alert("请等待平台运营人员进行企业信息核实",{closeBtn:!0})},e.changeTime1=function(){if(""==e.formData1.time)e.searchDate1=!0;else{e.searchDate1=!1;var a=document.getElementById("startTime"),t=document.getElementById("endTime");a.value="",t.value=""}},e.changeTime2=function(){if(""==e.formData2.time)e.searchDate2=!0;else{e.searchDate2=!1;var a=document.getElementById("cash-startTime"),t=document.getElementById("cash-endTime");a.value="",t.value=""}};var i,o,u,l,g=e.formData1.time,d=e.formData2.time;e.change1=function(a){var n=arguments[1],c=document.getElementById("startTime"),r=document.getElementById("endTime");n||(g=e.formData1.time,i=c.value,o=r.value),t.ajax({url:"account/recharge/rechargeList",params:{page:a,rows:5,status:e.formData1.status,time:g,startTime:i,endTime:o}}).success(function(a,t,c,r){e.innerData1=a.rows,e.total1=a.total,1!=n&&(e.page1=1)})},e.change1(1),e.change2=function(a){var n=arguments[1],c=document.getElementById("cash-startTime"),r=document.getElementById("cash-endTime");n||(d=e.formData2.time,u=c.value,l=r.value),t.ajax({url:"account/cash/cashList",params:{page:a,rows:5,status:e.formData2.status,time:d,startTime:u,endTime:l}}).success(function(a,t,c,r){e.innerData2=a.rows,e.total2=a.total,1!=n&&(e.page2=1)})},e.change2(1)}])}});