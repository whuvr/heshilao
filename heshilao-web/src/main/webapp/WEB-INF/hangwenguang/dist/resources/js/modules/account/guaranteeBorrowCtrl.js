define(["angular"],function(e){return function(e,t,n,o){e.controller("guaranteeBorrowCtrl",["$scope","$rootScope","navData","cService","popupDialog",function(e,t,n,o,a){"use strict";e.navDate=n[0].subState;var r=null;e.status="",e.time=-1,e.changeTime=function(){if(""==e.time)e.searchDate=!0;else{e.searchDate=!1;var t=document.getElementById("startTime"),n=document.getElementById("endTime");t.value="",n.value=""}};var i,c,u=e.time;e.change=function(t,n){var o=document.getElementById("startTime"),a=document.getElementById("endTime");n||(u=e.time,i=o.value,c=a.value)},e.seeDetail=function(t){r=t,a("template_detail",e,{type:"no-icon",buttons:[],css:{width:"1000px"},ajax:function(){var t=this;return o.ajax({url:"borrows/borrowProtocolPreview",method:"get",params:{borrowId:r.id,isBorrowProtocol:1}}).success(function(n){t.prepend('<div id="protocol">'+n+"</div>"),e.investmentId=r.id})},wrapClass:"payment"})}}])}});