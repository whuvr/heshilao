define(["angular"],function(e){return function(e,a,t,n){e.controller("accountRecordCtrl",["$scope","cService","navData",function(e,a,t){"use strict";e.navDate=t[0].subState,e.pageSize=10,e.page=1,e.time=-1,e.changeTime=function(){if(""!=e.time){e.searchDate=!1;var a=document.getElementById("startTime"),t=document.getElementById("endTime");a.value="",t.value=""}else e.searchDate=!0};var n,r,c=e.time;e.change=function(t,u){var m=document.getElementById("startTime"),o=document.getElementById("endTime");u||(c=e.time,n=m.value,r=o.value),a.ajax({method:"post",url:"account/accountlogs",params:{page:t,rows:10,time:c,startTime:n,endTime:r}}).success(function(a,t,n,r){e.data=a.rows,e.total=a.total,1!=u&&(e.page=1);for(var c=0;c<e.data.length;c++){var m=e.data[c].remark,o=/([^\[]*?)(\[.*?\])(.*)/,l=o.exec(m);null!=l&&(e.data[c].remark1=l[1],e.data[c].remark2=l[2],e.data[c].remark3=l[3]);var d=e.data[c].type,i=/^((?!体验金).)*$/,s=i.exec(d);null==s?e.data[c].url=!0:e.data[c].url=!1}})},e.change(1)}])}});