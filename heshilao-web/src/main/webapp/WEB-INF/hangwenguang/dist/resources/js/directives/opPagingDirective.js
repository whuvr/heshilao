define(["angular"],function(){return function(a,e,t,s){a.directive("paging",function(){function a(a,e){a.List=[],a.Hide=!1,a.page=parseInt(a.page)||1,a.total=parseInt(a.total)||0,a.dots=a.dots||"...",a.ulClass=a.ulClass||"pagination",a.adjacent=parseInt(a.adjacent)||2,a.activeClass=a.activeClass||"active",a.disabledClass=a.disabledClass||"disabled",a.scrollTop=a.$eval(e.scrollTop),a.hideIfEmpty=a.$eval(e.hideIfEmpty),a.showPrevNext=a.$eval(e.showPrevNext),a.bShowValue=0!=a.$eval(e.showValue)}function e(a,e){a.page>e&&(a.page=e),a.page<=0&&(a.page=1),a.adjacent<=0&&(a.adjacent=2),1>=e&&(a.Hide=a.hideIfEmpty)}function t(a,e){a.page!=e&&(a.page=e,a.pagingAction({page:e}),a.$eval(a.scrollTop)&&scrollTo(0,0))}function s(a,e,s){var i=0;for(i=a;e>=i;i++){var l={value:i,title:"Page "+i,liClass:s.page==i?s.activeClass:"",action:function(){t(s,this.value)}};s.List.push(l)}}function i(a){a.List.push({value:a.dots})}function l(a){s(1,2,a),i(a)}function n(a,e){i(e),s(a-1,a,e)}function o(a,e){if(a.showPrevNext&&!(1>e)){var s=a.page-1<=0,i=a.page-1<=0?1:a.page-1;({value:"首页",title:"First Page",liClass:s?a.disabledClass:"",action:function(){s||t(a,1)}}),{value:"上一页",title:"Previous Page",liClass:s?a.disabledClass:"",action:function(){s||t(a,i)}}}}function c(a,e){if(a.showPrevNext&&!(1>e)){var s=a.page+1>e,i=a.page+1>=e?e:a.page+1;({value:"最后一页",title:"Last Page",liClass:s?a.disabledClass:"",action:function(){s||t(a,e)}}),{value:"下一页",title:"Next Page",liClass:s?a.disabledClass:"",action:function(){s||t(a,i)}}}}function g(t,i){if(0==t.total?t.noData=!0:t.noData=!1,t.pageSize&&!(t.pageSize<0)){a(t,i);var g,p=2*t.adjacent,u=Math.ceil(t.total/t.pageSize);if(e(t,u),o(t,u),5+p>=u)g=1,s(g,u,t);else{var d;t.page<=1+p?(g=1,d=2+p+(t.adjacent-1),s(g,d,t),n(u,t)):u-p>t.page&&t.page>p?(g=t.page-t.adjacent,d=t.page+t.adjacent,l(t),s(g,d,t),n(u,t)):(g=u-(1+p+(t.adjacent-1)),d=u,l(t),s(g,d,t))}c(t,u)}}return{restrict:"EA",scope:{page:"=",pageSize:"=",total:"=",dots:"@",hideIfEmpty:"@",ulClass:"@",activeClass:"@",disabledClass:"@",adjacent:"@",scrollTop:"@",showPrevNext:"@",pagingAction:"&"},template:'<div ng-show="noData" class="no-data" ng-class="noData">暂时没有数据</div><ul style="float: right" ng-hide="Hide" ng-class="ulClass"><li ng-class="Item.liClass" ng-click="Item.action()" ng-repeat="Item in List"> <span style="cursor:pointer" ng-show="bShowValue != false" ng-bind="Item.value"></span> </ul>',link:function(a,e,t){var s=a,i=t;a.noData=!0,a.$watch("page",function(a){s.page=a,g(s,i)}),a.$watch("total",function(a){s.total=a,g(s,i)})}}})}});