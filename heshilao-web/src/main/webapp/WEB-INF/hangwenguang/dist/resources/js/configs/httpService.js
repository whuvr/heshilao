define(["angular"],function(t){var e=[];return function(t){t.factory("httpService",["$rootScope","$http",function(t,e){function n(t){var e=[];for(var n in t)e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")}return{post:function(t){var r=n(r);return e({method:"post",url:t.url,data:t.data,headers:{"Content-Type":"application/x-www-form-urlencoded","x-requested-with":"XMLHttpRequest"}})},get:function(t){return e({method:"get",url:t.url,params:t.params,headers:{"Content-Type":"application/x-www-form-urlencoded","x-requested-with":"XMLHttpRequest"}})}}}]).factory("cService",["$http","$q","$location","$anchorScroll",function(t,n,r,o){var a={deepExtend:function(t,e){for(var n in e)e[n]&&e[n].constructor&&e[n].constructor===Object?(t[n]=t[n]||{},arguments.callee(t[n],e[n])):t[n]=e[n];return t},ajax:function(n){function r(){o&&(o.status="pending",u&&o.elm.html(u),i&&o.elm.val(i),o.elm.attr("disabled",""))}for(var o=null,u="",i="",l="<span>...</span>",c=0;c<e.length;c++){var s=e[c];if(s.url==n.url){o=s,o.status="running",o.elm.attr("disabled","disabled"),u=o.elm.html(),i=o.elm.val(),u&&o.elm.html(u+l),i&&o.elm.val(i+"...");break}}var d={method:"get",headers:{"Content-Type":"application/x-www-form-urlencoded","x-requested-with":"XMLHttpRequest"}};return n=a.deepExtend(d,n),t(n).success(function(){r()}).error(function(){r()})},gotoAnchor:function(t){r.hash(t),o()}};return a}]).directive("ajaxbutton",function(){return{priority:100,terminal:!0,link:function(t,n,r,o){var a={elm:n,status:"pending",url:t.$eval(r.ajaxbutton)?t.$eval(r.ajaxbutton):r.ajaxbutton};e.push(a),n.on("click",function(e){if("running"==a.status);else{var n=r.ngClick;t.$eval(n)}})}}})}});