define([angular],function(){return function(e,t,s,n){"use strict";e.directive("p2pArea",["$http",function(e){return{scope:{jsonUrl:"@jsonUrl",p2pProvince:"=p2pProvince",p2pCity:"=p2pCity"},restrict:"A",template:'<select ng-change="setCity( )" class="form-control" ng-model="selected" ng-disabled="opProvinceDis" ng-options="list.p for list in areas"></select><select id="city" class="form-control" ng-disabled="opCityDis" ng-model="selected1" ng-options="list.n for list in selected.c"></select>',link:function(t,s,n){e({url:t.jsonUrl,headers:{"Content-Type":"application/x-www-form-urlencoded","x-requested-with":"XMLHttpRequest"}}).success(function(e,s,n,c){t.areas=e.citylist,t.selected=t.areas[0],t.selected1=t.selected.c[0],t.setCity=function(){t.selected1=t.selected.c[0]}}),t.$watch("selected1",function(e,s){e&&(t.p2pProvince=t.selected.p,t.p2pCity=t.selected1.n)})}}}])}});