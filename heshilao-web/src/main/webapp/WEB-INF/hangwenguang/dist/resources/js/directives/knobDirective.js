define(["angular","excanvas"],function(){return function(t,e,n,i){t.directive("knob",["G",function(t){return{link:function(e,n,i){function a(t){!t&&(t=0);var e=t*Math.PI/47;r.clearRect(0,0,h,o),r.beginPath(),r.strokeStyle=l,r.lineWidth=c,r.arc(h/2,o/2,h/2-r.lineWidth,0,2*Math.PI,!1),r.stroke(),0!=e&&(r.beginPath(),r.strokeStyle=d,r.lineWidth=c||3,r.arc(h/2,o/2,h/2-r.lineWidth,0,e,!1),r.stroke())}var r,h=i.width||65,o=i.height||65,c=i.lineWidth||3,l="#e3e3e3",d="#f7745e",u=document.createElement("canvas");u.setAttribute("width",h),u.setAttribute("height",o),t.isIE8()&&G_vmlCanvasManager.initElement(u),n.prepend(u),r=u.getContext("2d"),e.$watch(i.knob,function(){a(e.$eval(i.knob))}),i.rdShow&&e.$watch(i.rdShow,function(){a(e.$eval(i.knob))})}}}])}});