/**
 * @license AngularJS v1.2.27
 * (c) 2010-2014 Google, Inc. http://angularjs.org
 * License: MIT
 */

/**
 * @license AngularJS v1.2.14
 * (c) 2010-2014 Google, Inc. http://angularjs.org
 * License: MIT
 */

/**
 * State-based routing for AngularJS
 * @version v0.2.13
 * @link http://angular-ui.github.com/
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */

/*
 * angular-auto-validate - v1.10.21 - 2014-11-13
 * https://github.com/jonsamwell/angular-auto-validate
 * Copyright (c) 2014 Jon Samwell (http://www.jonsamwell.com)
 */

/**
 * @license RequireJS text 2.0.12 Copyright (c) 2010-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/text for details
 */

/**
 * mOxie - multi-runtime File API & XMLHttpRequest L2 Polyfill
 * v1.2.0
 *
 * Copyright 2013, Moxiecode Systems AB
 * Released under GPL License.
 *
 * License: http://www.plupload.com/license
 * Contributing: http://www.plupload.com/contributing
 *
 * Date: 2014-01-16
 */

/**
 * Plupload - multi-runtime File Uploader
 * v2.1.1
 *
 * Copyright 2013, Moxiecode Systems AB
 * Released under GPL License.
 *
 * License: http://www.plupload.com/license
 * Contributing: http://www.plupload.com/contributing
 *
 * Date: 2014-01-16
 */

// Copyright 1998-2005 David Shapiro.

function QiniuJsSDK(){var e;e="https:"===window.location.protocol?"https://up.qbox.me":"http://upload.qiniu.com",this.detectIEVersion=function(){for(var e=4,t=document.createElement("div"),n=t.getElementsByTagName("i");t.innerHTML="<!--[if gt IE "+e+"]><i></i><![endif]-->",n[0];)e++;return e>4?e:!1},this.isImage=function(e){var t,n="",r=["png","jpg","jpeg","gif","bmp"],i=/\.([a-zA-Z0-9]+)(\?|\@|$)/;if(!e||!i.test(e))return!1;t=i.exec(e),n=t[1].toLowerCase();for(var a=0,o=r.length;o>a;a++)if(n===r[a])return!0;return!1},this.getFileExtension=function(e){var t,n=e.split(".");return t=1===n.length||""===n[0]&&2===n.length?"":n.pop().toLowerCase()},this.utf8_encode=function(e){if(null===e||"undefined"==typeof e)return"";var t,n,r=e+"",i="",a=0;t=n=0,a=r.length;for(var o=0;a>o;o++){var s=r.charCodeAt(o),c=null;if(128>s)n++;else if(s>127&&2048>s)c=String.fromCharCode(s>>6|192,63&s|128);else if(63488&s^!0)c=String.fromCharCode(s>>12|224,s>>6&63|128,63&s|128);else{if(64512&s^!0)throw new RangeError("Unmatched trail surrogate at "+o);var l=r.charCodeAt(++o);if(64512&l^!0)throw new RangeError("Unmatched lead surrogate at "+(o-1));s=((1023&s)<<10)+(1023&l)+65536,c=String.fromCharCode(s>>18|240,s>>12&63|128,s>>6&63|128,63&s|128)}null!==c&&(n>t&&(i+=r.slice(t,n)),i+=c,t=n=o+1)}return n>t&&(i+=r.slice(t,a)),i},this.base64_encode=function(e){var t,n,r,i,a,o,s,c,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u=0,d=0,p="",f=[];if(!e)return e;e=this.utf8_encode(e+"");do t=e.charCodeAt(u++),n=e.charCodeAt(u++),r=e.charCodeAt(u++),c=t<<16|n<<8|r,i=c>>18&63,a=c>>12&63,o=c>>6&63,s=63&c,f[d++]=l.charAt(i)+l.charAt(a)+l.charAt(o)+l.charAt(s);while(u<e.length);switch(p=f.join(""),e.length%3){case 1:p=p.slice(0,-2)+"==";break;case 2:p=p.slice(0,-1)+"="}return p},this.URLSafeBase64Encode=function(e){return e=this.base64_encode(e),e.replace(/\//g,"_").replace(/\+/g,"-")},this.createAjax=function(e){var t={};return t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")},this.parseJSON=function(e){return window.JSON&&window.JSON.parse?window.JSON.parse(e):null===e?e:"string"==typeof e&&(e=this.trim(e),e&&/^[\],:{}\s]*$/.test(e.replace(/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,"@").replace(/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))?function(){return e}():void 0},this.trim=function(e){return null===e?"":e.replace(/^\s+|\s+$/g,"")};var t=this;this.uploader=function(n){if(!n.domain)throw"uptoken_url or domain is required!";if(!n.browse_button)throw"browse_button is required!";var r={},i=n.init&&n.init.Error,a=n.init&&n.init.FileUploaded;n.init.Error=function(){},n.init.FileUploaded=function(){},t.uptoken_url=n.uptoken_url,t.token="",t.key_handler="function"==typeof n.init.Key?n.init.Key:"",this.domain=n.domain;var o="",s={isResumeUpload:!1,resumeFilesize:0,startTime:"",currentTime:""},c=function(){var e,r,i,a=t.detectIEVersion(),o="Safari"===mOxie.Env.browser&&mOxie.Env.version<=5&&"Windows"===mOxie.Env.os&&"7"===mOxie.Env.osVersion||"Safari"===mOxie.Env.browser&&"iOS"===mOxie.Env.os&&"7"===mOxie.Env.osVersion;a&&9>=a&&n.chunk_size&&n.runtimes.indexOf("flash")>=0?n.chunk_size=0:o?n.chunk_size=0:(e=20,r=4<<e,i=plupload.parseSize(n.chunk_size),i>r&&(n.chunk_size=r))};c();var l=function(){if(n.uptoken)t.token=n.uptoken;else{var e=t.createAjax();e.open("GET",t.uptoken_url,!0),e.setRequestHeader("If-Modified-Since","0"),e.onreadystatechange=function(){if(4===e.readyState&&200===e.status){var n=t.parseJSON(e.responseText);t.token=n.uptoken}},e.send()}},u=function(e,r,i){var a="",o=!1;if(!n.save_key)if(o=e.getOption&&e.getOption("unique_names"),o=o||e.settings&&e.settings.unique_names){var s=t.getFileExtension(r.name);a=s?r.id+"."+s:r.id}else a="function"==typeof i?i(e,r):r.name;return a};plupload.extend(r,n,{url:e,multipart_params:{token:""}});var d=new plupload.Uploader(r);return d.bind("Init",function(e,t){l()}),d.init(),d.bind("FilesAdded",function(e,t){var n=e.getOption&&e.getOption("auto_start");n=n||e.settings&&e.settings.auto_start,n&&plupload.each(t,function(t,n){e.start()}),e.refresh()}),d.bind("BeforeUpload",function(r,i){i.speed=i.speed||0,o="",n.get_new_uptoken&&l();var a=function(r,i,a){s.startTime=(new Date).getTime();var o;o=n.save_key?{token:t.token}:{key:u(r,i,a),token:t.token};var c=n.x_vars;if(void 0!==c&&"object"==typeof c)for(var l in c)c.hasOwnProperty(l)&&("function"==typeof c[l]?o["x:"+l]=c[l](r,i):"object"!=typeof c[l]&&(o["x:"+l]=c[l]));r.setOption({url:e,multipart:!0,chunk_size:void 0,multipart_params:o})},c=r.getOption&&r.getOption("chunk_size");if(c=c||r.settings&&r.settings.chunk_size,"html5"===d.runtime&&c)if(i.size<c)a(r,i,t.key_handler);else{var p=localStorage.getItem(i.name),f=c;if(p){p=JSON.parse(p);var m=(new Date).getTime(),h=p.time||0,g=864e5;g>m-h&&100!==p.percent&&i.size===p.total?(i.percent=p.percent,i.loaded=p.offset,o=p.ctx,s.isResumeUpload=!0,s.resumeFilesize=p.offset,p.offset+f>i.size&&(f=i.size-p.offset)):localStorage.removeItem(i.name)}s.startTime=(new Date).getTime(),r.setOption({url:e+"/mkblk/"+f,multipart:!1,chunk_size:c,required_features:"chunks",headers:{Authorization:"UpToken "+t.token},multipart_params:{}})}else a(r,i,t.key_handler)}),d.bind("UploadProgress",function(e,t){s.currentTime=(new Date).getTime();var n=s.currentTime-s.startTime,r=t.loaded||0;s.isResumeUpload&&(r=t.loaded-s.resumeFilesize),t.speed=(r/n*1e3).toFixed(0)||0}),d.bind("ChunkUploaded",function(n,r,i){var a=t.parseJSON(i.response);o=o?o+","+a.ctx:a.ctx;var s=i.total-i.offset,c=n.getOption&&n.getOption("chunk_size");c=c||n.settings&&n.settings.chunk_size,c>s&&n.setOption({url:e+"/mkblk/"+s}),localStorage.setItem(r.name,JSON.stringify({ctx:o,percent:r.percent,total:i.total,offset:i.offset,time:(new Date).getTime()}))}),d.bind("Error",function(e){return function(n,r){var i="",a=r.file;if(a){switch(r.code){case plupload.FAILED:i="上传失败。请稍后再试。";break;case plupload.FILE_SIZE_ERROR:var o=n.getOption&&n.getOption("max_file_size");o=o||n.settings&&n.settings.max_file_size,i="浏览器最大可上传"+o+"。更大文件请使用命令行工具。";break;case plupload.FILE_EXTENSION_ERROR:i="文件验证失败。请稍后重试。";break;case plupload.HTTP_ERROR:if(""===r.response){i=r.message||"未知网络错误。";break}var s=t.parseJSON(r.response),c=s.error;switch(r.status){case 400:i="请求报文格式错误。";break;case 401:i="客户端认证授权失败。请重试或提交反馈。";break;case 405:i="客户端请求错误。请重试或提交反馈。";break;case 579:i="资源上传成功，但回调失败。";break;case 599:i="网络连接异常。请重试或提交反馈。";break;case 614:i="文件已存在。";try{s=t.parseJSON(s.error),c=s.error||"file exists"}catch(l){c=s.error||"file exists"}break;case 631:i="指定空间不存在。";break;case 701:i="上传数据块校验出错。请重试或提交反馈。";break;default:i="未知错误。"}i=i+"("+r.status+"："+c+")";break;case plupload.SECURITY_ERROR:i="安全配置错误。请联系网站管理员。";break;case plupload.GENERIC_ERROR:i="上传失败。请稍后再试。";break;case plupload.IO_ERROR:i="上传失败。请稍后再试。";break;case plupload.INIT_ERROR:i="网站配置错误。请联系网站管理员。",d.destroy();break;default:i=r.message+r.details}e&&e(n,r,i)}n.refresh()}}(i)),d.bind("FileUploaded",function(r){return function(i,a,s){var c=function(e,i,a){if(n.downtoken_url){var o=t.createAjax();o.open("POST",n.downtoken_url,!0),o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.onreadystatechange=function(){if(4===o.readyState)if(200===o.status){var n;try{n=t.parseJSON(o.responseText)}catch(s){throw"invalid json format"}var c={};plupload.extend(c,t.parseJSON(a),n),r&&r(e,i,JSON.stringify(c))}else d.trigger("Error",{status:o.status,response:o.responseText,file:i,code:plupload.HTTP_ERROR})},o.send("key="+t.parseJSON(a).key+"&domain="+n.domain)}else r&&r(e,i,a)},l=t.parseJSON(s.response);if(o=o?o:l.ctx){var p="";n.save_key||(p=u(i,a,t.key_handler),p=p?"/key/"+t.URLSafeBase64Encode(p):"");var f="/fname/"+t.URLSafeBase64Encode(a.name),m=n.x_vars,h="",g="";if(void 0!==m&&"object"==typeof m)for(var v in m)m.hasOwnProperty(v)&&("function"==typeof m[v]?h=t.URLSafeBase64Encode(m[v](i,a)):"object"!=typeof m[v]&&(h=t.URLSafeBase64Encode(m[v])),g+="/x:"+v+"/"+h);var b=e+"/mkfile/"+a.size+p+f+g,w=t.createAjax();w.open("POST",b,!0),w.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),w.setRequestHeader("Authorization","UpToken "+t.token),w.onreadystatechange=function(){if(4===w.readyState)if(localStorage.removeItem(a.name),200===w.status){var e=w.responseText;c(i,a,e)}else d.trigger("Error",{status:w.status,response:w.responseText,file:a,code:-200})},w.send(o)}else c(i,a,s.response)}}(a)),d},this.getUrl=function(e){if(!e)return!1;e=encodeURI(e);var t=this.domain;return"/"!==t.slice(t.length-1)&&(t+="/"),t+e},this.imageView2=function(e,t){var n=e.mode||"",r=e.w||"",i=e.h||"",a=e.q||"",o=e.format||"";if(!n)return!1;if(!r&&!i)return!1;var s="imageView2/"+n;return s+=r?"/w/"+r:"",s+=i?"/h/"+i:"",s+=a?"/q/"+a:"",s+=o?"/format/"+o:"",t&&(s=this.getUrl(t)+"?"+s),s},this.imageMogr2=function(e,t){var n=e["auto-orient"]||"",r=e.thumbnail||"",i=e.strip||"",a=e.gravity||"",o=e.crop||"",s=e.quality||"",c=e.rotate||"",l=e.format||"",u=e.blur||"",d="imageMogr2";return d+=n?"/auto-orient":"",d+=r?"/thumbnail/"+r:"",d+=i?"/strip":"",d+=a?"/gravity/"+a:"",d+=s?"/quality/"+s:"",d+=o?"/crop/"+o:"",d+=c?"/rotate/"+c:"",d+=l?"/format/"+l:"",d+=u?"/blur/"+u:"",t&&(d=this.getUrl(t)+"?"+d),d},this.watermark=function(e,t){var n=e.mode;if(!n)return!1;var r="watermark/"+n;if(1===n){var i=e.image||"";if(!i)return!1;r+=i?"/image/"+this.URLSafeBase64Encode(i):""}else{if(2!==n)return!1;var a=e.text?e.text:"",o=e.font?e.font:"",s=e.fontsize?e.fontsize:"",c=e.fill?e.fill:"";if(!a)return!1;r+=a?"/text/"+this.URLSafeBase64Encode(a):"",r+=o?"/font/"+this.URLSafeBase64Encode(o):"",r+=s?"/fontsize/"+s:"",r+=c?"/fill/"+this.URLSafeBase64Encode(c):""}var l=e.dissolve||"",u=e.gravity||"",d=e.dx||"",p=e.dy||"";return r+=l?"/dissolve/"+l:"",r+=u?"/gravity/"+u:"",r+=d?"/dx/"+d:"",r+=p?"/dy/"+p:"",t&&(r=this.getUrl(t)+"?"+r),r},this.imageInfo=function(e){if(!e)return!1;var t,n=this.getUrl(e)+"?imageInfo",r=this.createAjax(),i=this;return r.open("GET",n,!1),r.onreadystatechange=function(){4===r.readyState&&200===r.status&&(t=i.parseJSON(r.responseText))},r.send(),t},this.exif=function(e){if(!e)return!1;var t,n=this.getUrl(e)+"?exif",r=this.createAjax(),i=this;return r.open("GET",n,!1),r.onreadystatechange=function(){4===r.readyState&&200===r.status&&(t=i.parseJSON(r.responseText))},r.send(),t},this.get=function(e,t){return t&&e?"exif"===e?this.exif(t):"imageInfo"===e?this.imageInfo(t):!1:!1},this.pipeline=function(e,t){var n,r,i="[object Array]"===Object.prototype.toString.call(e),a="";if(i){for(var o=0,s=e.length;s>o;o++){if(n=e[o],!n.fop)return!1;switch(n.fop){case"watermark":a+=this.watermark(n)+"|";break;case"imageView2":a+=this.imageView2(n)+"|";break;case"imageMogr2":a+=this.imageMogr2(n)+"|";break;default:r=!0}if(r)return!1}if(t){a=this.getUrl(t)+"?"+a;var c=a.length;"|"===a.slice(c-1)&&(a=a.slice(0,c-1))}return a}return!1}}function BarrettMu(e){this.modulus=biCopy(e),this.k=biHighIndex(this.modulus)+1;var t=new BigInt;t.digits[2*this.k]=1,this.mu=biDivide(t,this.modulus),this.bkplus1=new BigInt,this.bkplus1.digits[this.k+1]=1,this.modulo=BarrettMu_modulo,this.multiplyMod=BarrettMu_multiplyMod,this.powMod=BarrettMu_powMod}function BarrettMu_modulo(e){var t=biDivideByRadixPower(e,this.k-1),n=biMultiply(t,this.mu),r=biDivideByRadixPower(n,this.k+1),i=biModuloByRadixPower(e,this.k+1),a=biMultiply(r,this.modulus),o=biModuloByRadixPower(a,this.k+1),s=biSubtract(i,o);s.isNeg&&(s=biAdd(s,this.bkplus1));for(var c=biCompare(s,this.modulus)>=0;c;)s=biSubtract(s,this.modulus),c=biCompare(s,this.modulus)>=0;return s}function BarrettMu_multiplyMod(e,t){var n=biMultiply(e,t);return this.modulo(n)}function BarrettMu_powMod(e,t){var n=new BigInt;n.digits[0]=1;for(var r=e,i=t;;){if(0!=(1&i.digits[0])&&(n=this.multiplyMod(n,r)),i=biShiftRight(i,1),0==i.digits[0]&&0==biHighIndex(i))break;r=this.multiplyMod(r,r)}return n}function setMaxDigits(e){maxDigits=e,ZERO_ARRAY=new Array(maxDigits);for(var t=0;t<ZERO_ARRAY.length;t++)ZERO_ARRAY[t]=0;bigZero=new BigInt,bigOne=new BigInt,bigOne.digits[0]=1}function BigInt(e){"boolean"==typeof e&&1==e?this.digits=null:this.digits=ZERO_ARRAY.slice(0),this.isNeg=!1}function biFromDecimal(e){for(var t,n="-"==e.charAt(0),r=n?1:0;r<e.length&&"0"==e.charAt(r);)++r;if(r==e.length)t=new BigInt;else{var i=e.length-r,a=i%dpl10;for(0==a&&(a=dpl10),t=biFromNumber(Number(e.substr(r,a))),r+=a;r<e.length;)t=biAdd(biMultiply(t,lr10),biFromNumber(Number(e.substr(r,dpl10)))),r+=dpl10;t.isNeg=n}return t}function biCopy(e){var t=new BigInt(!0);return t.digits=e.digits.slice(0),t.isNeg=e.isNeg,t}function biFromNumber(e){var t=new BigInt;t.isNeg=0>e,e=Math.abs(e);for(var n=0;e>0;)t.digits[n++]=e&maxDigitVal,e=Math.floor(e/biRadix);return t}function reverseStr(e){for(var t="",n=e.length-1;n>-1;--n)t+=e.charAt(n);return t}function biToString(e,t){var n=new BigInt;n.digits[0]=t;for(var r=biDivideModulo(e,n),i=hexatrigesimalToChar[r[1].digits[0]];1==biCompare(r[0],bigZero);)r=biDivideModulo(r[0],n),digit=r[1].digits[0],i+=hexatrigesimalToChar[r[1].digits[0]];return(e.isNeg?"-":"")+reverseStr(i)}function biToDecimal(e){var t=new BigInt;t.digits[0]=10;for(var n=biDivideModulo(e,t),r=String(n[1].digits[0]);1==biCompare(n[0],bigZero);)n=biDivideModulo(n[0],t),r+=String(n[1].digits[0]);return(e.isNeg?"-":"")+reverseStr(r)}function digitToHex(e){var t=15,n="";for(i=0;i<4;++i)n+=hexToChar[e&t],e>>>=4;return reverseStr(n)}function biToHex(e){for(var t="",n=(biHighIndex(e),biHighIndex(e));n>-1;--n)t+=digitToHex(e.digits[n]);return t}function charToHex(e){var t,n=48,r=n+9,i=97,a=i+25,o=65,s=90;return t=e>=n&&r>=e?e-n:e>=o&&s>=e?10+e-o:e>=i&&a>=e?10+e-i:0}function hexToDigit(e){for(var t=0,n=Math.min(e.length,4),r=0;n>r;++r)t<<=4,t|=charToHex(e.charCodeAt(r));return t}function biFromHex(e){for(var t=new BigInt,n=e.length,r=n,i=0;r>0;r-=4,++i)t.digits[i]=hexToDigit(e.substr(Math.max(r-4,0),Math.min(r,4)));return t}function biFromString(e,t){var n="-"==e.charAt(0),r=n?1:0,i=new BigInt,a=new BigInt;a.digits[0]=1;for(var o=e.length-1;o>=r;o--){var s=e.charCodeAt(o),c=charToHex(s),l=biMultiplyDigit(a,c);i=biAdd(i,l),a=biMultiplyDigit(a,t)}return i.isNeg=n,i}function biDump(e){return(e.isNeg?"-":"")+e.digits.join(" ")}function biAdd(e,t){var n;if(e.isNeg!=t.isNeg)t.isNeg=!t.isNeg,n=biSubtract(e,t),t.isNeg=!t.isNeg;else{n=new BigInt;for(var r,i=0,a=0;a<e.digits.length;++a)r=e.digits[a]+t.digits[a]+i,n.digits[a]=r%biRadix,i=Number(r>=biRadix);n.isNeg=e.isNeg}return n}function biSubtract(e,t){var n;if(e.isNeg!=t.isNeg)t.isNeg=!t.isNeg,n=biAdd(e,t),t.isNeg=!t.isNeg;else{n=new BigInt;var r,i;i=0;for(var a=0;a<e.digits.length;++a)r=e.digits[a]-t.digits[a]+i,n.digits[a]=r%biRadix,n.digits[a]<0&&(n.digits[a]+=biRadix),i=0-Number(0>r);if(-1==i){i=0;for(var a=0;a<e.digits.length;++a)r=0-n.digits[a]+i,n.digits[a]=r%biRadix,n.digits[a]<0&&(n.digits[a]+=biRadix),i=0-Number(0>r);n.isNeg=!e.isNeg}else n.isNeg=e.isNeg}return n}function biHighIndex(e){for(var t=e.digits.length-1;t>0&&0==e.digits[t];)--t;return t}function biNumBits(e){var t,n=biHighIndex(e),r=e.digits[n],i=(n+1)*bitsPerDigit;for(t=i;t>i-bitsPerDigit&&0==(32768&r);--t)r<<=1;return t}function biMultiply(e,t){for(var n,r,i,a=new BigInt,o=biHighIndex(e),s=biHighIndex(t),c=0;s>=c;++c){for(n=0,i=c,j=0;j<=o;++j,++i)r=a.digits[i]+e.digits[j]*t.digits[c]+n,a.digits[i]=r&maxDigitVal,n=r>>>biRadixBits;a.digits[c+o+1]=n}return a.isNeg=e.isNeg!=t.isNeg,a}function biMultiplyDigit(e,t){var n,r,i;result=new BigInt,n=biHighIndex(e),r=0;for(var a=0;n>=a;++a)i=result.digits[a]+e.digits[a]*t+r,result.digits[a]=i&maxDigitVal,r=i>>>biRadixBits;return result.digits[1+n]=r,result}function arrayCopy(e,t,n,r,i){for(var a=Math.min(t+i,e.length),o=t,s=r;a>o;++o,++s)n[s]=e[o]}function biShiftLeft(e,t){var n=Math.floor(t/bitsPerDigit),r=new BigInt;arrayCopy(e.digits,0,r.digits,n,r.digits.length-n);for(var i=t%bitsPerDigit,a=bitsPerDigit-i,o=r.digits.length-1,s=o-1;o>0;--o,--s)r.digits[o]=r.digits[o]<<i&maxDigitVal|(r.digits[s]&highBitMasks[i])>>>a;return r.digits[0]=r.digits[o]<<i&maxDigitVal,r.isNeg=e.isNeg,r}function biShiftRight(e,t){var n=Math.floor(t/bitsPerDigit),r=new BigInt;arrayCopy(e.digits,n,r.digits,0,e.digits.length-n);for(var i=t%bitsPerDigit,a=bitsPerDigit-i,o=0,s=o+1;o<r.digits.length-1;++o,++s)r.digits[o]=r.digits[o]>>>i|(r.digits[s]&lowBitMasks[i])<<a;return r.digits[r.digits.length-1]>>>=i,r.isNeg=e.isNeg,r}function biMultiplyByRadixPower(e,t){var n=new BigInt;return arrayCopy(e.digits,0,n.digits,t,n.digits.length-t),n}function biDivideByRadixPower(e,t){var n=new BigInt;return arrayCopy(e.digits,t,n.digits,0,n.digits.length-t),n}function biModuloByRadixPower(e,t){var n=new BigInt;return arrayCopy(e.digits,0,n.digits,0,t),n}function biCompare(e,t){if(e.isNeg!=t.isNeg)return 1-2*Number(e.isNeg);for(var n=e.digits.length-1;n>=0;--n)if(e.digits[n]!=t.digits[n])return e.isNeg?1-2*Number(e.digits[n]>t.digits[n]):1-2*Number(e.digits[n]<t.digits[n]);return 0}function biDivideModulo(e,t){var n,r,i=biNumBits(e),a=biNumBits(t),o=t.isNeg;if(a>i)return e.isNeg?(n=biCopy(bigOne),n.isNeg=!t.isNeg,e.isNeg=!1,t.isNeg=!1,r=biSubtract(t,e),e.isNeg=!0,t.isNeg=o):(n=new BigInt,r=biCopy(e)),new Array(n,r);n=new BigInt,r=e;for(var s=Math.ceil(a/bitsPerDigit)-1,c=0;t.digits[s]<biHalfRadix;)t=biShiftLeft(t,1),++c,++a,s=Math.ceil(a/bitsPerDigit)-1;r=biShiftLeft(r,c),i+=c;for(var l=Math.ceil(i/bitsPerDigit)-1,u=biMultiplyByRadixPower(t,l-s);-1!=biCompare(r,u);)++n.digits[l-s],r=biSubtract(r,u);for(var d=l;d>s;--d){var p=d>=r.digits.length?0:r.digits[d],f=d-1>=r.digits.length?0:r.digits[d-1],m=d-2>=r.digits.length?0:r.digits[d-2],h=s>=t.digits.length?0:t.digits[s],g=s-1>=t.digits.length?0:t.digits[s-1];p==h?n.digits[d-s-1]=maxDigitVal:n.digits[d-s-1]=Math.floor((p*biRadix+f)/h);for(var v=n.digits[d-s-1]*(h*biRadix+g),b=p*biRadixSquared+(f*biRadix+m);v>b;)--n.digits[d-s-1],v=n.digits[d-s-1]*(h*biRadix|g),b=p*biRadix*biRadix+(f*biRadix+m);u=biMultiplyByRadixPower(t,d-s-1),r=biSubtract(r,biMultiplyDigit(u,n.digits[d-s-1])),r.isNeg&&(r=biAdd(r,u),--n.digits[d-s-1])}return r=biShiftRight(r,c),n.isNeg=e.isNeg!=o,e.isNeg&&(n=o?biAdd(n,bigOne):biSubtract(n,bigOne),t=biShiftRight(t,c),r=biSubtract(t,r)),0==r.digits[0]&&0==biHighIndex(r)&&(r.isNeg=!1),new Array(n,r)}function biDivide(e,t){return biDivideModulo(e,t)[0]}function biModulo(e,t){return biDivideModulo(e,t)[1]}function biMultiplyMod(e,t,n){return biModulo(biMultiply(e,t),n)}function biPow(e,t){for(var n=bigOne,r=e;;){if(0!=(1&t)&&(n=biMultiply(n,r)),t>>=1,0==t)break;r=biMultiply(r,r)}return n}function biPowMod(e,t,n){for(var r=bigOne,i=e,a=t;;){if(0!=(1&a.digits[0])&&(r=biMultiplyMod(r,i,n)),a=biShiftRight(a,1),0==a.digits[0]&&0==biHighIndex(a))break;i=biMultiplyMod(i,i,n)}return r}function RSAKeyPair(e,t,n){this.e=biFromHex(e),this.d=biFromHex(t),this.m=biFromHex(n),this.chunkSize=2*biHighIndex(this.m),this.radix=16,this.barrett=new BarrettMu(this.m)}function twoDigit(e){return(10>e?"0":"")+String(e)}function encryptedString(e,t){for(var n=new Array,r=t.length,i=0;r>i;)n[i]=t.charCodeAt(i),i++;for(;n.length%e.chunkSize!=0;)n[i++]=0;var a,o,s,c=n.length,l="";for(i=0;c>i;i+=e.chunkSize){for(s=new BigInt,a=0,o=i;o<i+e.chunkSize;++a)s.digits[a]=n[o++],s.digits[a]+=n[o++]<<8;var u=e.barrett.powMod(s,e.e),d=16==e.radix?biToHex(u):biToString(u,e.radix);l+=d+" "}return l.substring(0,l.length-1)}function decryptedString(e,t){var n,r,i,a=t.split(" "),o="";for(n=0;n<a.length;++n){var s;for(s=16==e.radix?biFromHex(a[n]):biFromString(a[n],e.radix),i=e.barrett.powMod(s,e.d),r=0;r<=biHighIndex(i);++r)o+=String.fromCharCode(255&i.digits[r],i.digits[r]>>8)}return 0==o.charCodeAt(o.length-1)&&(o=o.substring(0,o.length-1)),o}function fieldRSA(e){setMaxDigits(130);var t=new RSAKeyPair("10001","","a8b9e78fc207eb05477e7e24f415ba719b5e5605eb5c58da1cdfef2e004a2d9a7041a06d80958135dd57b448e1dcbdeeeff07db471a19657bd62fa7d0f210aaeda2f67bdb0958733d5bc5210dddbe278409b1dd82400f0be71694173251e37634c07bf14f59368dc00f9c57123539baf872d98c66e72d44aeeb7b802775f543d"),n=e.val(),r=encryptedString(t,encodeURIComponent(n));return r}!function(e,t,n){"use strict";function r(e){return function(){var t,n,r=arguments[0],i="["+(e?e+":":"")+r+"] ",a=arguments[1],o=arguments,s=function(e){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof e?"undefined":"string"!=typeof e?JSON.stringify(e):e};for(t=i+a.replace(/\{\d+\}/g,function(e){var t,n=+e.slice(1,-1);return n+2<o.length?(t=o[n+2],"function"==typeof t?t.toString().replace(/ ?\{[\s\S]*$/,""):"undefined"==typeof t?"undefined":"string"!=typeof t?U(t):t):e}),t=t+"\nhttp://errors.angularjs.org/1.2.27/"+(e?e+"/":"")+r,n=2;n<arguments.length;n++)t=t+(2==n?"?":"&")+"p"+(n-2)+"="+encodeURIComponent(s(arguments[n]));return new Error(t)}}function i(e){if(null==e||_(e))return!1;var t=e.length;return 1===e.nodeType&&t?!0:y(e)||An(e)||0===t||"number"==typeof t&&t>0&&t-1 in e}function a(e,t,n){var r;if(e)if(S(e))for(r in e)"prototype"==r||"length"==r||"name"==r||e.hasOwnProperty&&!e.hasOwnProperty(r)||t.call(n,e[r],r);else if(An(e)||i(e))for(r=0;r<e.length;r++)t.call(n,e[r],r);else if(e.forEach&&e.forEach!==a)e.forEach(t,n);else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r);return e}function o(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t.sort()}function s(e,t,n){for(var r=o(e),i=0;i<r.length;i++)t.call(n,e[r[i]],r[i]);return r}function c(e){return function(t,n){e(n,t)}}function l(){for(var e,t=Cn.length;t;){if(t--,e=Cn[t].charCodeAt(0),57==e)return Cn[t]="A",Cn.join("");if(90!=e)return Cn[t]=String.fromCharCode(e+1),Cn.join("");Cn[t]="0"}return Cn.unshift("0"),Cn.join("")}function u(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function d(e){var t=e.$$hashKey;return a(arguments,function(t){t!==e&&a(t,function(t,n){e[n]=t})}),u(e,t),e}function p(e){return parseInt(e,10)}function f(e,t){return d(new(d(function(){},{prototype:e})),t)}function m(){}function h(e){return e}function g(e){return function(){return e}}function v(e){return"undefined"==typeof e}function b(e){return"undefined"!=typeof e}function w(e){return null!=e&&"object"==typeof e}function y(e){return"string"==typeof e}function $(e){return"number"==typeof e}function x(e){return"[object Date]"===kn.call(e)}function S(e){return"function"==typeof e}function D(e){return"[object RegExp]"===kn.call(e)}function _(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function E(e){return e&&e.$evalAsync&&e.$watch}function k(e){return"[object File]"===kn.call(e)}function R(e){return"[object Blob]"===kn.call(e)}function I(e){return e&&S(e.then)}function C(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function A(e,t,n){var r=[];return a(e,function(e,i,a){r.push(t.call(n,e,i,a))}),r}function T(e,t){return-1!=P(e,t)}function P(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(t===e[n])return n;return-1}function M(e,t){var n=P(e,t);return n>=0&&e.splice(n,1),t}function N(e,t,n,r){if(_(e)||E(e))throw Rn("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(t){if(e===t)throw Rn("cpi","Can't copy! Source and destination are identical.");if(n=n||[],r=r||[],w(e)){var i=P(n,e);if(-1!==i)return r[i];n.push(e),r.push(t)}var o;if(An(e)){t.length=0;for(var s=0;s<e.length;s++)o=N(e[s],null,n,r),w(e[s])&&(n.push(e[s]),r.push(o)),t.push(o)}else{var c=t.$$hashKey;An(t)?t.length=0:a(t,function(e,n){delete t[n]});for(var l in e)o=N(e[l],null,n,r),w(e[l])&&(n.push(e[l]),r.push(o)),t[l]=o;u(t,c)}}else t=e,e&&(An(e)?t=N(e,[],n,r):x(e)?t=new Date(e.getTime()):D(e)?(t=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]),t.lastIndex=e.lastIndex):w(e)&&(t=N(e,{},n,r)));return t}function O(e,t){if(An(e)){t=t||[];for(var n=0;n<e.length;n++)t[n]=e[n]}else if(w(e)){t=t||{};for(var r in e)!gn.call(e,r)||"$"===r.charAt(0)&&"$"===r.charAt(1)||(t[r]=e[r])}return t||e}function B(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var r,i,a,o=typeof e,s=typeof t;if(o==s&&"object"==o){if(!An(e)){if(x(e))return x(t)?isNaN(e.getTime())&&isNaN(t.getTime())||e.getTime()===t.getTime():!1;if(D(e)&&D(t))return e.toString()==t.toString();if(E(e)||E(t)||_(e)||_(t)||An(t))return!1;a={};for(i in e)if("$"!==i.charAt(0)&&!S(e[i])){if(!B(e[i],t[i]))return!1;a[i]=!0}for(i in t)if(!a.hasOwnProperty(i)&&"$"!==i.charAt(0)&&t[i]!==n&&!S(t[i]))return!1;return!0}if(!An(t))return!1;if((r=e.length)==t.length){for(i=0;r>i;i++)if(!B(e[i],t[i]))return!1;return!0}}return!1}function L(e,t,n){return e.concat(_n.call(t,n))}function j(e,t){return _n.call(e,t||0)}function F(e,t){var n=arguments.length>2?j(arguments,2):[];return!S(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,n.concat(_n.call(arguments,0))):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function q(e,r){var i=r;return"string"==typeof e&&"$"===e.charAt(0)?i=n:_(r)?i="$WINDOW":r&&t===r?i="$DOCUMENT":E(r)&&(i="$SCOPE"),i}function U(e,t){return"undefined"==typeof e?n:JSON.stringify(e,q,t?"  ":null)}function H(e){return y(e)?JSON.parse(e):e}function V(e){if("function"==typeof e)e=!0;else if(e&&0!==e.length){var t=hn(""+e);e=!("f"==t||"0"==t||"false"==t||"no"==t||"n"==t||"[]"==t)}else e=!1;return e}function z(e){e=$n(e).clone();try{e.empty()}catch(t){}var n=3,r=$n("<div>").append(e).html();try{return e[0].nodeType===n?hn(r):r.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+hn(t)})}catch(t){return hn(r)}}function G(e){try{return decodeURIComponent(e)}catch(t){}}function X(e){var t,n,r={};return a((e||"").split("&"),function(e){if(e&&(t=e.replace(/\+/g,"%20").split("="),n=G(t[0]),b(n))){var i=b(t[1])?G(t[1]):!0;gn.call(r,n)?An(r[n])?r[n].push(i):r[n]=[r[n],i]:r[n]=i}}),r}function W(e){var t=[];return a(e,function(e,n){An(e)?a(e,function(e){t.push(J(n,!0)+(e===!0?"":"="+J(e,!0)))}):t.push(J(n,!0)+(e===!0?"":"="+J(e,!0)))}),t.length?t.join("&"):""}function Y(e){return J(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function J(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}function Z(e,n){function r(e){e&&s.push(e)}var i,o,s=[e],c=["ng:app","ng-app","x-ng-app","data-ng-app"],l=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/;a(c,function(n){c[n]=!0,r(t.getElementById(n)),n=n.replace(":","\\:"),e.querySelectorAll&&(a(e.querySelectorAll("."+n),r),a(e.querySelectorAll("."+n+"\\:"),r),a(e.querySelectorAll("["+n+"]"),r))}),a(s,function(e){if(!i){var t=" "+e.className+" ",n=l.exec(t);n?(i=e,o=(n[2]||"").replace(/\s+/g,",")):a(e.attributes,function(t){!i&&c[t.name]&&(i=e,o=t.value)})}}),i&&n(i,o?[o]:[])}function K(n,r){var i=function(){if(n=$n(n),n.injector()){var e=n[0]===t?"document":z(n);throw Rn("btstrpd","App Already Bootstrapped with this Element '{0}'",e.replace(/</,"&lt;").replace(/>/,"&gt;"))}r=r||[],r.unshift(["$provide",function(e){e.value("$rootElement",n)}]),r.unshift("ng");var i=Pe(r);return i.invoke(["$rootScope","$rootElement","$compile","$injector","$animate",function(e,t,n,r,i){e.$apply(function(){t.data("$injector",r),n(t)(e)})}]),i},o=/^NG_DEFER_BOOTSTRAP!/;return e&&!o.test(e.name)?i():(e.name=e.name.replace(o,""),void(In.resumeBootstrap=function(e){a(e,function(e){r.push(e)}),i()}))}function Q(e,t){return t=t||"_",e.replace(Mn,function(e,n){return(n?t:"")+e.toLowerCase()})}function ee(){xn=e.jQuery,xn&&xn.fn.on?($n=xn,d(xn.fn,{scope:Wn.scope,isolateScope:Wn.isolateScope,controller:Wn.controller,injector:Wn.injector,inheritedData:Wn.inheritedData}),ue("remove",!0,!0,!1),ue("empty",!1,!1,!1),ue("html",!1,!1,!0)):$n=me,In.element=$n}function te(e,t,n){if(!e)throw Rn("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function ne(e,t,n){return n&&An(e)&&(e=e[e.length-1]),te(S(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function re(e,t){if("hasOwnProperty"===e)throw Rn("badname","hasOwnProperty is not a valid {0} name",t)}function ie(e,t,n){if(!t)return e;for(var r,i=t.split("."),a=e,o=i.length,s=0;o>s;s++)r=i[s],e&&(e=(a=e)[r]);return!n&&S(e)?F(a,e):e}function ae(e){var t=e[0],n=e[e.length-1];if(t===n)return $n(t);var r=t,i=[r];do{if(r=r.nextSibling,!r)break;i.push(r)}while(r!==n);return $n(i)}function oe(e){function t(e,t,n){return e[t]||(e[t]=n())}var n=r("$injector"),i=r("ng"),a=t(e,"angular",Object);return a.$$minErr=a.$$minErr||r,t(a,"module",function(){var e={};return function(r,a,o){var s=function(e,t){if("hasOwnProperty"===e)throw i("badname","hasOwnProperty is not a valid {0} name",t)};return s(r,"module"),a&&e.hasOwnProperty(r)&&(e[r]=null),t(e,r,function(){function e(e,n,r){return function(){return t[r||"push"]([e,n,arguments]),c}}if(!a)throw n("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",r);var t=[],i=[],s=e("$injector","invoke"),c={_invokeQueue:t,_runBlocks:i,requires:a,name:r,provider:e("$provide","provider"),factory:e("$provide","factory"),service:e("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),animation:e("$animateProvider","register"),filter:e("$filterProvider","register"),controller:e("$controllerProvider","register"),directive:e("$compileProvider","directive"),config:s,run:function(e){return i.push(e),this}};return o&&s(o),c})}})}function se(t){d(t,{bootstrap:K,copy:N,extend:d,equals:B,element:$n,forEach:a,injector:Pe,noop:m,bind:F,toJson:U,fromJson:H,identity:h,isUndefined:v,isDefined:b,isString:y,isFunction:S,isObject:w,isNumber:$,isElement:C,isArray:An,version:Nn,isDate:x,lowercase:hn,uppercase:vn,callbacks:{counter:0},$$minErr:r,$$csp:Pn}),Sn=oe(e);try{Sn("ngLocale")}catch(n){Sn("ngLocale",[]).provider("$locale",nt)}Sn("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:Ct}),e.provider("$compile",Fe).directive({a:Tr,input:Hr,textarea:Hr,form:Or,script:_i,select:Ri,style:Ci,option:Ii,ngBind:ti,ngBindHtml:ri,ngBindTemplate:ni,ngClass:ii,ngClassEven:oi,ngClassOdd:ai,ngCloak:si,ngController:ci,ngForm:Br,ngHide:wi,ngIf:di,ngInclude:pi,ngInit:mi,ngNonBindable:hi,ngPluralize:gi,ngRepeat:vi,ngShow:bi,ngStyle:yi,ngSwitch:$i,ngSwitchWhen:xi,ngSwitchDefault:Si,ngOptions:ki,ngTransclude:Di,ngModel:Yr,ngList:Kr,ngChange:Jr,required:Zr,ngRequired:Zr,ngValue:ei}).directive({ngInclude:fi}).directive(Pr).directive(li),e.provider({$anchorScroll:Me,$animate:rr,$browser:Be,$cacheFactory:Le,$controller:He,$document:Ve,$exceptionHandler:ze,$filter:qt,$interpolate:et,$interval:tt,$http:Je,$httpBackend:Ke,$location:ht,$log:gt,$parse:_t,$rootScope:It,$q:Et,$sce:Nt,$sceDelegate:Mt,$sniffer:Ot,$templateCache:je,$timeout:Bt,$window:Ft,$$rAF:Rt,$$asyncCallback:Ne})}])}function ce(){return++Bn}function le(e){return e.replace(Fn,function(e,t,n,r){return r?n.toUpperCase():n}).replace(qn,"Moz$1")}function ue(e,t,n,r){function i(e){var i,o,s,c,l,u,d,p=n&&e?[this.filter(e)]:[this],f=t;if(!r||null!=e)for(;p.length;)for(i=p.shift(),o=0,s=i.length;s>o;o++)for(c=$n(i[o]),f?c.triggerHandler("$destroy"):f=!f,l=0,u=(d=c.children()).length;u>l;l++)p.push(xn(d[l]));return a.apply(this,arguments)}var a=xn.fn[e];a=a.$original||a,i.$original=a,xn.fn[e]=i}function de(e){return!Vn.test(e)}function pe(e,t){var n,r,i,a,o,s,c=t.createDocumentFragment(),l=[];if(de(e))l.push(t.createTextNode(e));else{for(n=c.appendChild(t.createElement("div")),r=(zn.exec(e)||["",""])[1].toLowerCase(),i=Xn[r]||Xn._default,n.innerHTML="<div>&#160;</div>"+i[1]+e.replace(Gn,"<$1></$2>")+i[2],n.removeChild(n.firstChild),a=i[0];a--;)n=n.lastChild;for(o=0,s=n.childNodes.length;s>o;++o)l.push(n.childNodes[o]);n=c.firstChild,n.textContent=""}return c.textContent="",c.innerHTML="",l}function fe(e,n){n=n||t;var r;return(r=Hn.exec(e))?[n.createElement(r[1])]:pe(e,n)}function me(e){if(e instanceof me)return e;if(y(e)&&(e=Tn(e)),!(this instanceof me)){if(y(e)&&"<"!=e.charAt(0))throw Un("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");
return new me(e)}if(y(e)){De(this,fe(e));var n=$n(t.createDocumentFragment());n.append(this)}else De(this,e)}function he(e){return e.cloneNode(!0)}function ge(e){be(e);for(var t=0,n=e.childNodes||[];t<n.length;t++)ge(n[t])}function ve(e,t,n,r){if(b(r))throw Un("offargs","jqLite#off() does not support the `selector` argument");var i=we(e,"events"),o=we(e,"handle");o&&(v(t)?a(i,function(t,n){jn(e,n,t),delete i[n]}):a(t.split(" "),function(t){v(n)?(jn(e,t,i[t]),delete i[t]):M(i[t]||[],n)}))}function be(e,t){var r=e.ng339,i=On[r];if(i){if(t)return void delete On[r].data[t];i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),ve(e)),delete On[r],e.ng339=n}}function we(e,t,n){var r=e.ng339,i=On[r||-1];return b(n)?(i||(e.ng339=r=ce(),i=On[r]={}),void(i[t]=n)):i&&i[t]}function ye(e,t,n){var r=we(e,"data"),i=b(n),a=!i&&b(t),o=a&&!w(t);if(r||o||we(e,"data",r={}),i)r[t]=n;else{if(!a)return r;if(o)return r&&r[t];d(r,t)}}function $e(e,t){return e.getAttribute?(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1:!1}function xe(e,t){t&&e.setAttribute&&a(t.split(" "),function(t){e.setAttribute("class",Tn((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Tn(t)+" "," ")))})}function Se(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");a(t.split(" "),function(e){e=Tn(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",Tn(n))}}function De(e,t){if(t){t=t.nodeName||!b(t.length)||_(t)?[t]:t;for(var n=0;n<t.length;n++)e.push(t[n])}}function _e(e,t){return Ee(e,"$"+(t||"ngController")+"Controller")}function Ee(e,t,r){9==e.nodeType&&(e=e.documentElement);for(var i=An(t)?t:[t];e;){for(var a=0,o=i.length;o>a;a++)if((r=$n.data(e,i[a]))!==n)return r;e=e.parentNode||11===e.nodeType&&e.host}}function ke(e){for(var t=0,n=e.childNodes;t<n.length;t++)ge(n[t]);for(;e.firstChild;)e.removeChild(e.firstChild)}function Re(e,t){var n=Yn[t.toLowerCase()];return n&&Jn[e.nodeName]&&n}function Ie(e,n){var r=function(r,i){if(r.preventDefault||(r.preventDefault=function(){r.returnValue=!1}),r.stopPropagation||(r.stopPropagation=function(){r.cancelBubble=!0}),r.target||(r.target=r.srcElement||t),v(r.defaultPrevented)){var o=r.preventDefault;r.preventDefault=function(){r.defaultPrevented=!0,o.call(r)},r.defaultPrevented=!1}r.isDefaultPrevented=function(){return r.defaultPrevented||r.returnValue===!1};var s=O(n[i||r.type]||[]);a(s,function(t){t.call(e,r)}),8>=yn?(r.preventDefault=null,r.stopPropagation=null,r.isDefaultPrevented=null):(delete r.preventDefault,delete r.stopPropagation,delete r.isDefaultPrevented)};return r.elem=e,r}function Ce(e,t){var r,i=typeof e;return"function"==i||"object"==i&&null!==e?"function"==typeof(r=e.$$hashKey)?r=e.$$hashKey():r===n&&(r=e.$$hashKey=(t||l)()):r=e,i+":"+r}function Ae(e,t){if(t){var n=0;this.nextUid=function(){return++n}}a(e,this.put,this)}function Te(e){var t,n,r,i;return"function"==typeof e?(t=e.$inject)||(t=[],e.length&&(n=e.toString().replace(er,""),r=n.match(Zn),a(r[1].split(Kn),function(e){e.replace(Qn,function(e,n,r){t.push(r)})})),e.$inject=t):An(e)?(i=e.length-1,ne(e[i],"fn"),t=e.slice(0,i)):ne(e,"fn",!0),t}function Pe(e){function t(e){return function(t,n){return w(t)?void a(t,c(e)):e(t,n)}}function n(e,t){if(re(e,"service"),(S(t)||An(t))&&(t=$.instantiate(t)),!t.$get)throw tr("pget","Provider '{0}' must define $get factory method.",e);return b[e+f]=t}function r(e,t){return n(e,{$get:t})}function i(e,t){return r(e,["$injector",function(e){return e.instantiate(t)}])}function o(e,t){return r(e,g(t))}function s(e,t){re(e,"constant"),b[e]=t,x[e]=t}function l(e,t){var n=$.get(e+f),r=n.$get;n.$get=function(){var e=D.invoke(r,n);return D.invoke(t,null,{$delegate:e})}}function u(e){var t,n,r,i,o=[];return a(e,function(e){if(!v.get(e)){v.put(e,!0);try{if(y(e))for(t=Sn(e),o=o.concat(u(t.requires)).concat(t._runBlocks),n=t._invokeQueue,r=0,i=n.length;i>r;r++){var a=n[r],s=$.get(a[0]);s[a[1]].apply(s,a[2])}else S(e)?o.push($.invoke(e)):An(e)?o.push($.invoke(e)):ne(e,"module")}catch(c){throw An(e)&&(e=e[e.length-1]),c.message&&c.stack&&-1==c.stack.indexOf(c.message)&&(c=c.message+"\n"+c.stack),tr("modulerr","Failed to instantiate module {0} due to:\n{1}",e,c.stack||c.message||c)}}}),o}function d(e,t){function n(n){if(e.hasOwnProperty(n)){if(e[n]===p)throw tr("cdep","Circular dependency found: {0}",n+" <- "+h.join(" <- "));return e[n]}try{return h.unshift(n),e[n]=p,e[n]=t(n)}catch(r){throw e[n]===p&&delete e[n],r}finally{h.shift()}}function r(e,t,r){var i,a,o,s=[],c=Te(e);for(a=0,i=c.length;i>a;a++){if(o=c[a],"string"!=typeof o)throw tr("itkn","Incorrect injection token! Expected service name as string, got {0}",o);s.push(r&&r.hasOwnProperty(o)?r[o]:n(o))}return An(e)&&(e=e[i]),e.apply(t,s)}function i(e,t){var n,i,a=function(){};return a.prototype=(An(e)?e[e.length-1]:e).prototype,n=new a,i=r(e,n,t),w(i)||S(i)?i:n}return{invoke:r,instantiate:i,get:n,annotate:Te,has:function(t){return b.hasOwnProperty(t+f)||e.hasOwnProperty(t)}}}var p={},f="Provider",h=[],v=new Ae([],!0),b={$provide:{provider:t(n),factory:t(r),service:t(i),value:t(o),constant:t(s),decorator:l}},$=b.$injector=d(b,function(){throw tr("unpr","Unknown provider: {0}",h.join(" <- "))}),x={},D=x.$injector=d(x,function(e){var t=$.get(e+f);return D.invoke(t.$get,t)});return a(u(e),function(e){D.invoke(e||m)}),D}function Me(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,r){function i(e){var t=null;return a(e,function(e){t||"a"!==hn(e.nodeName)||(t=e)}),t}function o(){var e,r=n.hash();r?(e=s.getElementById(r))?e.scrollIntoView():(e=i(s.getElementsByName(r)))?e.scrollIntoView():"top"===r&&t.scrollTo(0,0):t.scrollTo(0,0)}var s=t.document;return e&&r.$watch(function(){return n.hash()},function(){r.$evalAsync(o)}),o}]}function Ne(){this.$get=["$$rAF","$timeout",function(e,t){return e.supported?function(t){return e(t)}:function(e){return t(e,0,!1)}}]}function Oe(e,t,r,i){function o(e){try{e.apply(null,j(arguments,1))}finally{if(b--,0===b)for(;w.length;)try{w.pop()()}catch(t){r.error(t)}}}function s(e,t){!function n(){a(x,function(e){e()}),$=t(n,e)}()}function c(){S!=l.url()&&(S=l.url(),a(E,function(e){e(l.url())}))}var l=this,u=t[0],d=e.location,p=e.history,f=e.setTimeout,h=e.clearTimeout,g={};l.isMock=!1;var b=0,w=[];l.$$completeOutstandingRequest=o,l.$$incOutstandingRequestCount=function(){b++},l.notifyWhenNoOutstandingRequests=function(e){a(x,function(e){e()}),0===b?e():w.push(e)};var $,x=[];l.addPollFn=function(e){return v($)&&s(100,f),x.push(e),e};var S=d.href,D=t.find("base"),_=null;l.url=function(t,n){if(d!==e.location&&(d=e.location),p!==e.history&&(p=e.history),t){if(S==t)return;var r=S&&st(S)===st(t);return S=t,!r&&i.history?n?p.replaceState(null,"",t):(p.pushState(null,"",t),D.attr("href",D.attr("href"))):(r||(_=t),n?d.replace(t):d.href=t),l}return _||d.href.replace(/%27/g,"'")};var E=[],k=!1;l.onUrlChange=function(t){return k||(i.history&&$n(e).on("popstate",c),i.hashchange?$n(e).on("hashchange",c):l.addPollFn(c),k=!0),E.push(t),t},l.$$checkUrlChange=c,l.baseHref=function(){var e=D.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var R={},I="",C=l.baseHref();l.cookies=function(e,t){var i,a,o,s,c;if(!e){if(u.cookie!==I)for(I=u.cookie,a=I.split("; "),R={},s=0;s<a.length;s++)o=a[s],c=o.indexOf("="),c>0&&(e=unescape(o.substring(0,c)),R[e]===n&&(R[e]=unescape(o.substring(c+1))));return R}t===n?u.cookie=escape(e)+"=;path="+C+";expires=Thu, 01 Jan 1970 00:00:00 GMT":y(t)&&(i=(u.cookie=escape(e)+"="+escape(t)+";path="+C).length+1,i>4096&&r.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+i+" > 4096 bytes)!"))},l.defer=function(e,t){var n;return b++,n=f(function(){delete g[n],o(e)},t||0),g[n]=!0,n},l.defer.cancel=function(e){return g[e]?(delete g[e],h(e),o(m),!0):!1}}function Be(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,r){return new Oe(e,r,t,n)}]}function Le(){this.$get=function(){function e(e,n){function i(e){e!=p&&(f?f==e&&(f=e.n):f=e,a(e.n,e.p),a(e,p),p=e,p.n=null)}function a(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw r("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var o=0,s=d({},n,{id:e}),c={},l=n&&n.capacity||Number.MAX_VALUE,u={},p=null,f=null;return t[e]={put:function(e,t){if(l<Number.MAX_VALUE){var n=u[e]||(u[e]={key:e});i(n)}if(!v(t))return e in c||o++,c[e]=t,o>l&&this.remove(f.key),t},get:function(e){if(l<Number.MAX_VALUE){var t=u[e];if(!t)return;i(t)}return c[e]},remove:function(e){if(l<Number.MAX_VALUE){var t=u[e];if(!t)return;t==p&&(p=t.p),t==f&&(f=t.n),a(t.n,t.p),delete u[e]}delete c[e],o--},removeAll:function(){c={},o=0,u={},p=f=null},destroy:function(){c=null,s=null,u=null,delete t[e]},info:function(){return d({},s,{size:o})}}}var t={};return e.info=function(){var e={};return a(t,function(t,n){e[n]=t.info()}),e},e.get=function(e){return t[e]},e}}function je(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function Fe(e,r){var i={},o="Directive",s=/^\s*directive\:\s*([\d\w_\-]+)\s+(.*)$/,l=/(([\d\w_\-]+)(?:\:([^;]+))?;?)/,u=/^(on[a-z]+|formaction)$/;this.directive=function p(t,n){return re(t,"directive"),y(t)?(te(n,"directiveFactory"),i.hasOwnProperty(t)||(i[t]=[],e.factory(t+o,["$injector","$exceptionHandler",function(e,n){var r=[];return a(i[t],function(i,a){try{var o=e.invoke(i);S(o)?o={compile:g(o)}:!o.compile&&o.link&&(o.compile=g(o.link)),o.priority=o.priority||0,o.index=a,o.name=o.name||t,o.require=o.require||o.controller&&o.name,o.restrict=o.restrict||"A",r.push(o)}catch(s){n(s)}}),r}])),i[t].push(n)):a(t,c(p)),this},this.aHrefSanitizationWhitelist=function(e){return b(e)?(r.aHrefSanitizationWhitelist(e),this):r.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return b(e)?(r.imgSrcSanitizationWhitelist(e),this):r.imgSrcSanitizationWhitelist()},this.$get=["$injector","$interpolate","$exceptionHandler","$http","$templateCache","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(e,r,c,p,m,g,v,b,$,x,D,_){function E(e,t,n,r,i){e instanceof $n||(e=$n(e)),a(e,function(t,n){3==t.nodeType&&t.nodeValue.match(/\S+/)&&(e[n]=t=$n(t).wrap("<span></span>").parent()[0])});var o=R(e,t,e,n,r,i);return k(e,"ng-scope"),function(t,n,r,i){te(t,"scope");var s=n?Wn.clone.call(e):e;a(r,function(e,t){s.data("$"+t+"Controller",e)});for(var c=0,l=s.length;l>c;c++){var u=s[c],d=u.nodeType;(1===d||9===d)&&s.eq(c).data("$scope",t)}return n&&n(s,t),o&&o(t,s,s,i),s}}function k(e,t){try{e.addClass(t)}catch(n){}}function R(e,t,r,i,a,o){function s(e,r,i,a){var o,s,c,l,u,d,p,f,h=r.length,g=new Array(h);for(u=0;h>u;u++)g[u]=r[u];for(u=0,p=0,d=m.length;d>u;p++)c=g[p],o=m[u++],s=m[u++],o?(o.scope?(l=e.$new(),$n.data(c,"$scope",l)):l=e,f=o.transcludeOnThisElement?I(e,o.transclude,a):!o.templateOnThisElement&&a?a:!a&&t?I(e,t):null,o(s,l,c,i,f)):s&&s(e,c.childNodes,n,a)}for(var c,l,u,d,p,f,m=[],h=0;h<e.length;h++)c=new Y,l=C(e[h],[],c,0===h?i:n,a),u=l.length?P(l,e[h],c,t,r,null,[],[],o):null,u&&u.scope&&k(c.$$element,"ng-scope"),p=u&&u.terminal||!(d=e[h].childNodes)||!d.length?null:R(d,u?(u.transcludeOnThisElement||!u.templateOnThisElement)&&u.transclude:t),m.push(u,p),f=f||u||p,o=null;return f?s:null}function I(e,t,n){var r=function(r,i,a){var o=!1;r||(r=e.$new(),r.$$transcluded=!0,o=!0);var s=t(r,i,a,n);return o&&s.on("$destroy",function(){r.$destroy()}),s};return r}function C(e,t,n,r,i){var a,o,c=e.nodeType,u=n.$attr;switch(c){case 1:N(t,qe(Dn(e).toLowerCase()),"E",r,i);for(var d,p,f,m,h,g,v=e.attributes,b=0,w=v&&v.length;w>b;b++){var $=!1,x=!1;if(d=v[b],!yn||yn>=8||d.specified){p=d.name,h=Tn(d.value),m=qe(p),(g=ee.test(m))&&(p=Q(m.substr(6),"-"));var S=m.replace(/(Start|End)$/,"");m===S+"Start"&&($=p,x=p.substr(0,p.length-5)+"end",p=p.substr(0,p.length-6)),f=qe(p.toLowerCase()),u[f]=p,(g||!n.hasOwnProperty(f))&&(n[f]=h,Re(e,f)&&(n[f]=!0)),G(e,t,h,f),N(t,f,"A",r,i,$,x)}}if(o=e.className,y(o)&&""!==o)for(;a=l.exec(o);)f=qe(a[2]),N(t,f,"C",r,i)&&(n[f]=Tn(a[3])),o=o.substr(a.index+a[0].length);break;case 3:H(t,e.nodeValue);break;case 8:try{a=s.exec(e.nodeValue),a&&(f=qe(a[1]),N(t,f,"M",r,i)&&(n[f]=Tn(a[2])))}catch(D){}}return t.sort(q),t}function A(e,t,n){var r=[],i=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw ir("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);1==e.nodeType&&(e.hasAttribute(t)&&i++,e.hasAttribute(n)&&i--),r.push(e),e=e.nextSibling}while(i>0)}else r.push(e);return $n(r)}function T(e,t,n){return function(r,i,a,o,s){return i=A(i[0],t,n),e(r,i,a,o,s)}}function P(e,i,o,s,l,u,d,p,f){function m(e,t,n,r){e&&(n&&(e=T(e,n,r)),e.require=x.require,e.directiveName=D,(q===x||x.$$isolateScope)&&(e=W(e,{isolateScope:!0})),d.push(e)),t&&(n&&(t=T(t,n,r)),t.require=x.require,t.directiveName=D,(q===x||x.$$isolateScope)&&(t=W(t,{isolateScope:!0})),p.push(t))}function h(e,t,n,r){var i,o="data",s=!1;if(y(t)){for(;"^"==(i=t.charAt(0))||"?"==i;)t=t.substr(1),"^"==i&&(o="inheritedData"),s=s||"?"==i;if(i=null,r&&"data"===o&&(i=r[t]),i=i||n[o]("$"+t+"Controller"),!i&&!s)throw ir("ctreq","Controller '{0}', required by directive '{1}', can't be found!",t,e);return i}return An(t)&&(i=[],a(t,function(t){i.push(h(e,t,n,r))})),i}function b(e,t,s,l,u){function f(e,t){var r;return arguments.length<2&&(t=e,e=n),Z&&(r=_),u(e,t,r)}var m,b,w,y,$,x,S,D,_={};if(m=i===s?o:O(o,new Y($n(s),o.$attr)),b=m.$$element,q){var E=/^\s*([@=&])(\??)\s*(\w*)\s*$/;S=t.$new(!0),!H||H!==q&&H!==q.$$originalDirective?b.data("$isolateScopeNoTemplate",S):b.data("$isolateScope",S),k(b,"ng-isolate-scope"),a(q.scope,function(e,n){var i,a,o,s,c=e.match(E)||[],l=c[3]||n,u="?"==c[2],d=c[1];switch(S.$$isolateBindings[n]=d+l,d){case"@":m.$observe(l,function(e){S[n]=e}),m.$$observers[l].$$scope=t,m[l]&&(S[n]=r(m[l])(t));break;case"=":if(u&&!m[l])return;a=g(m[l]),s=a.literal?B:function(e,t){return e===t||e!==e&&t!==t},o=a.assign||function(){throw i=S[n]=a(t),ir("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",m[l],q.name)},i=S[n]=a(t),S.$watch(function(){var e=a(t);return s(e,S[n])||(s(e,i)?o(t,e=S[n]):S[n]=e),i=e},null,a.literal);break;case"&":a=g(m[l]),S[n]=function(e){return a(t,e)};break;default:throw ir("iscp","Invalid isolate scope definition for directive '{0}'. Definition: {... {1}: '{2}' ...}",q.name,n,e)}})}for(D=u&&f,N&&a(N,function(e){var n,r={$scope:e===q||e.$$isolateScope?S:t,$element:b,$attrs:m,$transclude:D};x=e.controller,"@"==x&&(x=m[e.name]),n=v(x,r),_[e.name]=n,Z||b.data("$"+e.name+"Controller",n),e.controllerAs&&(r.$scope[e.controllerAs]=n)}),w=0,y=d.length;y>w;w++)try{$=d[w],$($.isolateScope?S:t,b,m,$.require&&h($.directiveName,$.require,b,_),D)}catch(R){c(R,z(b))}var I=t;for(q&&(q.template||null===q.templateUrl)&&(I=S),e&&e(I,s.childNodes,n,u),w=p.length-1;w>=0;w--)try{$=p[w],$($.isolateScope?S:t,b,m,$.require&&h($.directiveName,$.require,b,_),D)}catch(R){c(R,z(b))}}f=f||{};for(var $,x,D,_,R,I,P=-Number.MAX_VALUE,N=f.controllerDirectives,q=f.newIsolateScopeDirective,H=f.templateDirective,V=f.nonTlbTranscludeDirective,G=!1,J=!1,Z=f.hasElementTranscludeDirective,Q=o.$$element=$n(i),ee=u,te=s,ne=0,re=e.length;re>ne;ne++){x=e[ne];var ie=x.$$start,ae=x.$$end;if(ie&&(Q=A(i,ie,ae)),_=n,P>x.priority)break;if((I=x.scope)&&($=$||x,x.templateUrl||(U("new/isolated scope",q,x,Q),w(I)&&(q=x))),D=x.name,!x.templateUrl&&x.controller&&(I=x.controller,N=N||{},U("'"+D+"' controller",N[D],x,Q),N[D]=x),(I=x.transclude)&&(G=!0,x.$$tlb||(U("transclusion",V,x,Q),V=x),"element"==I?(Z=!0,P=x.priority,_=Q,Q=o.$$element=$n(t.createComment(" "+D+": "+o[D]+" ")),i=Q[0],X(l,j(_),i),te=E(_,s,P,ee&&ee.name,{nonTlbTranscludeDirective:V})):(_=$n(he(i)).contents(),Q.empty(),te=E(_,s))),x.template)if(J=!0,U("template",H,x,Q),H=x,I=S(x.template)?x.template(Q,o):x.template,I=K(I),x.replace){if(ee=x,_=de(I)?[]:$n(Tn(I)),i=_[0],1!=_.length||1!==i.nodeType)throw ir("tplrt","Template for directive '{0}' must have exactly one root element. {1}",D,"");X(l,Q,i);var oe={$attr:{}},se=C(i,[],oe),ce=e.splice(ne+1,e.length-(ne+1));q&&M(se),e=e.concat(se).concat(ce),L(o,oe),re=e.length}else Q.html(I);if(x.templateUrl)J=!0,U("template",H,x,Q),H=x,x.replace&&(ee=x),b=F(e.splice(ne,e.length-ne),Q,o,l,G&&te,d,p,{controllerDirectives:N,newIsolateScopeDirective:q,templateDirective:H,nonTlbTranscludeDirective:V}),re=e.length;else if(x.compile)try{R=x.compile(Q,o,te),S(R)?m(null,R,ie,ae):R&&m(R.pre,R.post,ie,ae)}catch(le){c(le,z(Q))}x.terminal&&(b.terminal=!0,P=Math.max(P,x.priority))}return b.scope=$&&$.scope===!0,b.transcludeOnThisElement=G,b.templateOnThisElement=J,b.transclude=te,f.hasElementTranscludeDirective=Z,b}function M(e){for(var t=0,n=e.length;n>t;t++)e[t]=f(e[t],{$$isolateScope:!0})}function N(t,r,a,s,l,u,d){if(r===l)return null;var p=null;if(i.hasOwnProperty(r))for(var m,h=e.get(r+o),g=0,v=h.length;v>g;g++)try{m=h[g],(s===n||s>m.priority)&&-1!=m.restrict.indexOf(a)&&(u&&(m=f(m,{$$start:u,$$end:d})),t.push(m),p=m)}catch(b){c(b)}return p}function L(e,t){var n=t.$attr,r=e.$attr,i=e.$$element;a(e,function(r,i){"$"!=i.charAt(0)&&(t[i]&&t[i]!==r&&(r+=("style"===i?";":" ")+t[i]),e.$set(i,r,!0,n[i]))}),a(t,function(t,a){"class"==a?(k(i,t),e["class"]=(e["class"]?e["class"]+" ":"")+t):"style"==a?(i.attr("style",i.attr("style")+";"+t),e.style=(e.style?e.style+";":"")+t):"$"==a.charAt(0)||e.hasOwnProperty(a)||(e[a]=t,r[a]=n[a])})}function F(e,t,n,r,i,o,s,c){var l,u,f=[],h=t[0],g=e.shift(),v=d({},g,{templateUrl:null,transclude:null,replace:null,$$originalDirective:g}),b=S(g.templateUrl)?g.templateUrl(t,n):g.templateUrl;return t.empty(),p.get(x.getTrustedResourceUrl(b),{cache:m}).success(function(d){var p,m,y,$;if(d=K(d),g.replace){if(y=de(d)?[]:$n(Tn(d)),p=y[0],1!=y.length||1!==p.nodeType)throw ir("tplrt","Template for directive '{0}' must have exactly one root element. {1}",g.name,b);m={$attr:{}},X(r,t,p);var x=C(p,[],m);w(g.scope)&&M(x),e=x.concat(e),L(n,m)}else p=h,t.html(d);for(e.unshift(v),l=P(e,p,n,i,t,g,o,s,c),a(r,function(e,n){e==p&&(r[n]=t[0])}),u=R(t[0].childNodes,i);f.length;){var S=f.shift(),D=f.shift(),_=f.shift(),E=f.shift(),A=t[0];if(D!==h){var T=D.className;c.hasElementTranscludeDirective&&g.replace||(A=he(p)),X(_,$n(D),A),k($n(A),T)}$=l.transcludeOnThisElement?I(S,l.transclude,E):E,l(u,S,A,r,$)}f=null}).error(function(e,t,n,r){throw ir("tpload","Failed to load template: {0}",r.url)}),function(e,t,n,r,i){var a=i;f?(f.push(t),f.push(n),f.push(r),f.push(a)):(l.transcludeOnThisElement&&(a=I(t,l.transclude,i)),l(u,t,n,r,a))}}function q(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function U(e,t,n,r){if(t)throw ir("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",t.name,n.name,e,z(r))}function H(e,t){var n=r(t,!0);n&&e.push({priority:0,compile:function(e){var t=e.parent(),r=t.length;return r&&k(e.parent(),"ng-binding"),function(e,t){var i=t.parent(),a=i.data("$binding")||[];a.push(n),i.data("$binding",a),r||k(i,"ng-binding"),e.$watch(n,function(e){t[0].nodeValue=e})}}})}function V(e,t){if("srcdoc"==t)return x.HTML;var n=Dn(e);return"xlinkHref"==t||"FORM"==n&&"action"==t||"IMG"!=n&&("src"==t||"ngSrc"==t)?x.RESOURCE_URL:void 0}function G(e,t,n,i){var a=r(n,!0);if(a){if("multiple"===i&&"SELECT"===Dn(e))throw ir("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",z(e));t.push({priority:100,compile:function(){return{pre:function(t,n,o){var s=o.$$observers||(o.$$observers={});if(u.test(i))throw ir("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");a=r(o[i],!0,V(e,i)),a&&(o[i]=a(t),(s[i]||(s[i]=[])).$$inter=!0,(o.$$observers&&o.$$observers[i].$$scope||t).$watch(a,function(e,t){"class"===i&&e!=t?o.$updateClass(e,t):o.$set(i,e)}))}}}})}}function X(e,n,r){var i,a,o=n[0],s=n.length,c=o.parentNode;if(e)for(i=0,a=e.length;a>i;i++)if(e[i]==o){e[i++]=r;for(var l=i,u=l+s-1,d=e.length;d>l;l++,u++)d>u?e[l]=e[u]:delete e[l];e.length-=s-1;break}c&&c.replaceChild(r,o);var p=t.createDocumentFragment();p.appendChild(o),r[$n.expando]=o[$n.expando];for(var f=1,m=n.length;m>f;f++){var h=n[f];$n(h).remove(),p.appendChild(h),delete n[f]}n[0]=r,n.length=1}function W(e,t){return d(function(){return e.apply(null,arguments)},e,t)}var Y=function(e,t){this.$$element=e,this.$attr=t||{}};Y.prototype={$normalize:qe,$addClass:function(e){e&&e.length>0&&D.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&D.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=Ue(e,t),r=Ue(t,e);0===n.length?D.removeClass(this.$$element,r):0===r.length?D.addClass(this.$$element,n):D.setClass(this.$$element,n,r)},$set:function(e,t,r,i){var o,s=Re(this.$$element[0],e);s&&(this.$$element.prop(e,t),i=s),this[e]=t,i?this.$attr[e]=i:(i=this.$attr[e],i||(this.$attr[e]=i=Q(e,"-"))),o=Dn(this.$$element),("A"===o&&"href"===e||"IMG"===o&&"src"===e)&&(this[e]=t=_(t,"src"===e)),r!==!1&&(null===t||t===n?this.$$element.removeAttr(i):this.$$element.attr(i,t));var l=this.$$observers;l&&a(l[e],function(e){try{e(t)}catch(n){c(n)}})},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers={}),i=r[e]||(r[e]=[]);return i.push(t),b.$evalAsync(function(){i.$$inter||t(n[e])}),t}};var J=r.startSymbol(),Z=r.endSymbol(),K="{{"==J||"}}"==Z?h:function(e){return e.replace(/\{\{/g,J).replace(/}}/g,Z)},ee=/^ngAttr[A-Z]/;return E}]}function qe(e){return le(e.replace(ar,""))}function Ue(e,t){var n="",r=e.split(/\s+/),i=t.split(/\s+/);e:for(var a=0;a<r.length;a++){for(var o=r[a],s=0;s<i.length;s++)if(o==i[s])continue e;n+=(n.length>0?" ":"")+o}return n}function He(){var e={},t=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(t,n){re(t,"controller"),w(t)?d(e,t):e[t]=n},this.$get=["$injector","$window",function(n,i){return function(a,o){var s,c,l,u;if(y(a)&&(c=a.match(t),l=c[1],u=c[3],a=e.hasOwnProperty(l)?e[l]:ie(o.$scope,l,!0)||ie(i,l,!0),ne(a,l,!0)),s=n.instantiate(a,o),u){if(!o||"object"!=typeof o.$scope)throw r("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",l||a.name,u);o.$scope[u]=s}return s}}]}function Ve(){this.$get=["$window",function(e){return $n(e.document)}]}function ze(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function Ge(e){var t,n,r,i={};return e?(a(e.split("\n"),function(e){r=e.indexOf(":"),t=hn(Tn(e.substr(0,r))),n=Tn(e.substr(r+1)),t&&(i[t]=i[t]?i[t]+", "+n:n)}),i):i}function Xe(e){var t=w(e)?e:n;return function(n){return t||(t=Ge(e)),n?t[hn(n)]||null:t}}function We(e,t,n){return S(n)?n(e,t):(a(n,function(n){e=n(e,t)}),e)}function Ye(e){return e>=200&&300>e}function Je(){var e=/^\s*(\[|\{[^\{])/,t=/[\}\]]\s*$/,r=/^\)\]\}',?\n/,i={"Content-Type":"application/json;charset=utf-8"},o=this.defaults={transformResponse:[function(n){return y(n)&&(n=n.replace(r,""),e.test(n)&&t.test(n)&&(n=H(n))),n}],transformRequest:[function(e){return!w(e)||k(e)||R(e)?e:U(e)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:O(i),put:O(i),patch:O(i)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},c=this.interceptors=[],l=this.responseInterceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(e,t,r,i,u,p){function f(e){function t(e){var t=d({},e,{data:We(e.data,e.headers,i.transformResponse)});return Ye(e.status)?t:u.reject(t)}function r(e){function t(e){var t;a(e,function(n,r){S(n)&&(t=n(),null!=t?e[r]=t:delete e[r])})}var n,r,i,s=o.headers,c=d({},e.headers);s=d({},s.common,s[hn(e.method)]);e:for(n in s){r=hn(n);for(i in c)if(hn(i)===r)continue e;c[n]=s[n]}return t(c),c}var i={method:"get",transformRequest:o.transformRequest,transformResponse:o.transformResponse},s=r(e);d(i,e),i.headers=s,i.method=vn(i.method);var c=function(e){s=e.headers;var n=We(e.data,Xe(s),e.transformRequest);return v(n)&&a(s,function(e,t){"content-type"===hn(t)&&delete s[t]}),v(e.withCredentials)&&!v(o.withCredentials)&&(e.withCredentials=o.withCredentials),g(e,n,s).then(t,t)},l=[c,n],p=u.when(i);for(a(_,function(e){(e.request||e.requestError)&&l.unshift(e.request,e.requestError),(e.response||e.responseError)&&l.push(e.response,e.responseError)});l.length;){var f=l.shift(),m=l.shift();p=p.then(f,m)}return p.success=function(e){return p.then(function(t){e(t.data,t.status,t.headers,i)}),p},p.error=function(e){return p.then(null,function(t){e(t.data,t.status,t.headers,i)}),p},p}function m(e){a(arguments,function(e){f[e]=function(t,n){return f(d(n||{},{method:e,url:t}))}})}function h(e){a(arguments,function(e){f[e]=function(t,n,r){return f(d(r||{},{method:e,url:t,data:n}))}})}function g(r,a,s){function c(e,t,n,r){p&&(Ye(e)?p.put(y,[e,t,Ge(n),r]):p.remove(y)),l(t,e,n,r),i.$$phase||i.$apply()}function l(e,t,n,i){t=Math.max(t,0),(Ye(t)?h.resolve:h.reject)({data:e,status:t,headers:Xe(n),config:r,statusText:i})}function d(){var e=P(f.pendingRequests,r);-1!==e&&f.pendingRequests.splice(e,1)}var p,m,h=u.defer(),g=h.promise,y=$(r.url,r.params);if(f.pendingRequests.push(r),g.then(d,d),!r.cache&&!o.cache||r.cache===!1||"GET"!==r.method&&"JSONP"!==r.method||(p=w(r.cache)?r.cache:w(o.cache)?o.cache:D),p)if(m=p.get(y),b(m)){if(I(m))return m.then(d,d),m;An(m)?l(m[1],m[0],O(m[2]),m[3]):l(m,200,{},"OK")}else p.put(y,g);if(v(m)){var x=jt(r.url)?t.cookies()[r.xsrfCookieName||o.xsrfCookieName]:n;x&&(s[r.xsrfHeaderName||o.xsrfHeaderName]=x),e(r.method,y,a,c,s,r.timeout,r.withCredentials,r.responseType)}return g}function $(e,t){if(!t)return e;var n=[];return s(t,function(e,t){null===e||v(e)||(An(e)||(e=[e]),a(e,function(e){w(e)&&(e=x(e)?e.toISOString():U(e)),n.push(J(t)+"="+J(e))}))}),n.length>0&&(e+=(-1==e.indexOf("?")?"?":"&")+n.join("&")),e}var D=r("$http"),_=[];return a(c,function(e){_.unshift(y(e)?p.get(e):p.invoke(e))}),a(l,function(e,t){var n=y(e)?p.get(e):p.invoke(e);_.splice(t,0,{response:function(e){return n(u.when(e))},responseError:function(e){return n(u.reject(e))}})}),f.pendingRequests=[],m("get","delete","head","jsonp"),h("post","put","patch"),f.defaults=o,f}]}function Ze(t){if(8>=yn&&(!t.match(/^(get|post|head|put|delete|options)$/i)||!e.XMLHttpRequest))return new e.ActiveXObject("Microsoft.XMLHTTP");if(e.XMLHttpRequest)return new e.XMLHttpRequest;throw r("$httpBackend")("noxhr","This browser does not support XMLHttpRequest.")}function Ke(){this.$get=["$browser","$window","$document",function(e,t,n){return Qe(e,Ze,e.defer,t.angular.callbacks,n[0])}]}function Qe(e,t,n,r,i){function o(e,t,n){var a=i.createElement("script"),o=null;return a.type="text/javascript",a.src=e,a.async=!0,o=function(e){jn(a,"load",o),jn(a,"error",o),i.body.removeChild(a),a=null;var s=-1,c="unknown";e&&("load"!==e.type||r[t].called||(e={type:"error"}),c=e.type,s="error"===e.type?404:200),n&&n(s,c)},Ln(a,"load",o),Ln(a,"error",o),8>=yn&&(a.onreadystatechange=function(){y(a.readyState)&&/loaded|complete/.test(a.readyState)&&(a.onreadystatechange=null,o({type:"load"}))}),i.body.appendChild(a),o}var s=-1;return function(i,c,l,u,d,p,f,h){function g(){w=s,$&&$(),x&&x.abort()}function v(t,r,i,a,o){D&&n.cancel(D),$=x=null,0===r&&(r=i?200:"file"==Lt(c).protocol?404:0),r=1223===r?204:r,o=o||"",t(r,i,a,o),e.$$completeOutstandingRequest(m)}var w;if(e.$$incOutstandingRequestCount(),c=c||e.url(),"jsonp"==hn(i)){var y="_"+(r.counter++).toString(36);r[y]=function(e){r[y].data=e,r[y].called=!0};var $=o(c.replace("JSON_CALLBACK","angular.callbacks."+y),y,function(e,t){v(u,e,r[y].data,"",t),r[y]=m})}else{var x=t(i);if(x.open(i,c,!0),a(d,function(e,t){b(e)&&x.setRequestHeader(t,e)}),x.onreadystatechange=function(){if(x&&4==x.readyState){var e=null,t=null,n="";w!==s&&(e=x.getAllResponseHeaders(),t="response"in x?x.response:x.responseText),w===s&&10>yn||(n=x.statusText),v(u,w||x.status,t,e,n)}},f&&(x.withCredentials=!0),h)try{x.responseType=h}catch(S){if("json"!==h)throw S}x.send(l||null)}if(p>0)var D=n(g,p);else I(p)&&p.then(g)}}function et(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function a(a,c,l){for(var u,d,p,f,m=0,h=[],g=a.length,v=!1,b=[];g>m;)-1!=(u=a.indexOf(e,m))&&-1!=(d=a.indexOf(t,u+o))?(m!=u&&h.push(a.substring(m,u)),h.push(p=n(f=a.substring(u+o,d))),p.exp=f,m=d+s,v=!0):(m!=g&&h.push(a.substring(m)),m=g);if((g=h.length)||(h.push(""),g=1),l&&h.length>1)throw or("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",a);return!c||v?(b.length=g,p=function(e){try{for(var t,n=0,o=g;o>n;n++){if("function"==typeof(t=h[n]))if(t=t(e),t=l?i.getTrusted(l,t):i.valueOf(t),null==t)t="";else switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=U(t)}b[n]=t}return b.join("")}catch(s){var c=or("interr","Can't interpolate: {0}\n{1}",a,s.toString());r(c)}},p.exp=a,p.parts=h,p):void 0}var o=e.length,s=t.length;return a.startSymbol=function(){return e},a.endSymbol=function(){return t},a}]}function tt(){this.$get=["$rootScope","$window","$q",function(e,t,n){function r(r,a,o,s){var c=t.setInterval,l=t.clearInterval,u=n.defer(),d=u.promise,p=0,f=b(s)&&!s;return o=b(o)?o:0,d.then(null,null,r),d.$$intervalId=c(function(){u.notify(p++),o>0&&p>=o&&(u.resolve(p),l(d.$$intervalId),delete i[d.$$intervalId]),f||e.$apply()},a),i[d.$$intervalId]=u,d}var i={};return r.cancel=function(e){return e&&e.$$intervalId in i?(i[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete i[e.$$intervalId],!0):!1},r}]}function nt(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(e){return 1===e?"one":"other"}}}}function rt(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=Y(t[n]);return t.join("/")}function it(e,t,n){var r=Lt(e,n);t.$$protocol=r.protocol,t.$$host=r.hostname,t.$$port=p(r.port)||cr[r.protocol]||null}function at(e,t,n){var r="/"!==e.charAt(0);r&&(e="/"+e);var i=Lt(e,n);t.$$path=decodeURIComponent(r&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),t.$$search=X(i.search),t.$$hash=decodeURIComponent(i.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function ot(e,t){return 0===t.indexOf(e)?t.substr(e.length):void 0}function st(e){var t=e.indexOf("#");return-1==t?e:e.substr(0,t)}function ct(e){return e.substr(0,st(e).lastIndexOf("/")+1)}function lt(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function ut(e,t){this.$$html5=!0,t=t||"";var r=ct(e);it(e,this,e),this.$$parse=function(t){var n=ot(r,t);if(!y(n))throw lr("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,r);at(n,this,e),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=W(this.$$search),t=this.$$hash?"#"+Y(this.$$hash):"";this.$$url=rt(this.$$path)+(e?"?"+e:"")+t,this.$$absUrl=r+this.$$url.substr(1)},this.$$parseLinkUrl=function(i,a){var o,s,c;return(o=ot(e,i))!==n?(s=o,c=(o=ot(t,o))!==n?r+(ot("/",o)||o):e+s):(o=ot(r,i))!==n?c=r+o:r==i+"/"&&(c=r),c&&this.$$parse(c),!!c}}function dt(e,t){var n=ct(e);it(e,this,e),this.$$parse=function(r){function i(e,t,n){var r,i=/^\/[A-Z]:(\/.*)/;
return 0===t.indexOf(n)&&(t=t.replace(n,"")),i.exec(t)?e:(r=i.exec(e),r?r[1]:e)}var a=ot(e,r)||ot(n,r),o="#"==a.charAt(0)?ot(t,a):this.$$html5?a:"";if(!y(o))throw lr("ihshprfx",'Invalid url "{0}", missing hash prefix "{1}".',r,t);at(o,this,e),this.$$path=i(this.$$path,o,e),this.$$compose()},this.$$compose=function(){var n=W(this.$$search),r=this.$$hash?"#"+Y(this.$$hash):"";this.$$url=rt(this.$$path)+(n?"?"+n:"")+r,this.$$absUrl=e+(this.$$url?t+this.$$url:"")},this.$$parseLinkUrl=function(t,n){return st(e)==st(t)?(this.$$parse(t),!0):!1}}function pt(e,t){this.$$html5=!0,dt.apply(this,arguments);var n=ct(e);this.$$parseLinkUrl=function(r,i){var a,o;return e==st(r)?a=r:(o=ot(n,r))?a=e+t+o:n===r+"/"&&(a=n),a&&this.$$parse(a),!!a},this.$$compose=function(){var n=W(this.$$search),r=this.$$hash?"#"+Y(this.$$hash):"";this.$$url=rt(this.$$path)+(n?"?"+n:"")+r,this.$$absUrl=e+t+this.$$url}}function ft(e){return function(){return this[e]}}function mt(e,t){return function(n){return v(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function ht(){var t="",n=!1;this.hashPrefix=function(e){return b(e)?(t=e,this):t},this.html5Mode=function(e){return b(e)?(n=e,this):n},this.$get=["$rootScope","$browser","$sniffer","$rootElement",function(r,i,a,o){function s(e){r.$broadcast("$locationChangeSuccess",c.absUrl(),e)}var c,l,u,d=i.baseHref(),p=i.url();n?(u=lt(p)+(d||"/"),l=a.history?ut:pt):(u=st(p),l=dt),c=new l(u,"#"+t),c.$$parseLinkUrl(p,p);var f=/^\s*(javascript|mailto):/i;o.on("click",function(t){if(!t.ctrlKey&&!t.metaKey&&2!=t.which){for(var n=$n(t.target);"a"!==hn(n[0].nodeName);)if(n[0]===o[0]||!(n=n.parent())[0])return;var a=n.prop("href"),s=n.attr("href")||n.attr("xlink:href");w(a)&&"[object SVGAnimatedString]"===a.toString()&&(a=Lt(a.animVal).href),f.test(a)||!a||n.attr("target")||t.isDefaultPrevented()||c.$$parseLinkUrl(a,s)&&(t.preventDefault(),c.absUrl()!=i.url()&&(r.$apply(),e.angular["ff-684208-preventDefault"]=!0))}}),c.absUrl()!=p&&i.url(c.absUrl(),!0),i.onUrlChange(function(e){c.absUrl()!=e&&(r.$evalAsync(function(){var t=c.absUrl();c.$$parse(e),r.$broadcast("$locationChangeStart",e,t).defaultPrevented?(c.$$parse(t),i.url(t)):s(t)}),r.$$phase||r.$digest())});var m=0;return r.$watch(function(){var e=i.url(),t=c.$$replace;return m&&e==c.absUrl()||(m++,r.$evalAsync(function(){r.$broadcast("$locationChangeStart",c.absUrl(),e).defaultPrevented?c.$$parse(e):(i.url(c.absUrl(),t),s(e))})),c.$$replace=!1,m}),c}]}function gt(){var e=!0,t=this;this.debugEnabled=function(t){return b(t)?(e=t,this):e},this.$get=["$window",function(n){function r(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function i(e){var t=n.console||{},i=t[e]||t.log||m,o=!1;try{o=!!i.apply}catch(s){}return o?function(){var e=[];return a(arguments,function(t){e.push(r(t))}),i.apply(t,e)}:function(e,t){i(e,null==t?"":t)}}return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:function(){var n=i("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function vt(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw dr("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",t);return e}function bt(e,t){if(e){if(e.constructor===e)throw dr("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e.document&&e.location&&e.alert&&e.setInterval)throw dr("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw dr("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",t);if(e===Object)throw dr("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",t)}return e}function wt(e,t){if(e){if(e.constructor===e)throw dr("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e===fr||e===mr||hr&&e===hr)throw dr("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",t)}}function yt(e,t,r,i,a){bt(e,i),a=a||{};for(var o,s=t.split("."),c=0;s.length>1;c++){o=vt(s.shift(),i);var l=bt(e[o],i);l||(l={},e[o]=l),e=l,e.then&&a.unwrapPromises&&(ur(i),"$$v"in e||!function(e){e.then(function(t){e.$$v=t})}(e),e.$$v===n&&(e.$$v={}),e=e.$$v)}return o=vt(s.shift(),i),bt(e[o],i),e[o]=r,r}function $t(e){return"constructor"==e}function xt(e,t,r,i,a,o,s){vt(e,o),vt(t,o),vt(r,o),vt(i,o),vt(a,o);var c=function(e){return bt(e,o)},l=s.expensiveChecks,u=l||$t(e)?c:h,d=l||$t(t)?c:h,p=l||$t(r)?c:h,f=l||$t(i)?c:h,m=l||$t(a)?c:h;return s.unwrapPromises?function(s,c){var l,h=c&&c.hasOwnProperty(e)?c:s;return null==h?h:(h=u(h[e]),h&&h.then&&(ur(o),"$$v"in h||(l=h,l.$$v=n,l.then(function(e){l.$$v=u(e)})),h=u(h.$$v)),t?null==h?n:(h=d(h[t]),h&&h.then&&(ur(o),"$$v"in h||(l=h,l.$$v=n,l.then(function(e){l.$$v=d(e)})),h=d(h.$$v)),r?null==h?n:(h=p(h[r]),h&&h.then&&(ur(o),"$$v"in h||(l=h,l.$$v=n,l.then(function(e){l.$$v=p(e)})),h=p(h.$$v)),i?null==h?n:(h=f(h[i]),h&&h.then&&(ur(o),"$$v"in h||(l=h,l.$$v=n,l.then(function(e){l.$$v=f(e)})),h=f(h.$$v)),a?null==h?n:(h=m(h[a]),h&&h.then&&(ur(o),"$$v"in h||(l=h,l.$$v=n,l.then(function(e){l.$$v=m(e)})),h=m(h.$$v)),h):h):h):h):h)}:function(o,s){var c=s&&s.hasOwnProperty(e)?s:o;return null==c?c:(c=u(c[e]),t?null==c?n:(c=d(c[t]),r?null==c?n:(c=p(c[r]),i?null==c?n:(c=f(c[i]),a?null==c?n:c=m(c[a]):c):c):c):c)}}function St(e,t){return function(n,r){return e(n,r,ur,bt,t)}}function Dt(e,t,r){var i=t.expensiveChecks,o=i?$r:yr;if(o.hasOwnProperty(e))return o[e];var s,c=e.split("."),l=c.length;if(t.csp)s=6>l?xt(c[0],c[1],c[2],c[3],c[4],r,t):function(e,i){var a,o=0;do a=xt(c[o++],c[o++],c[o++],c[o++],c[o++],r,t)(e,i),i=n,e=a;while(l>o);return a};else{var u="var p;\n";i&&(u+="s = eso(s, fe);\nl = eso(l, fe);\n");var d=i;a(c,function(e,n){vt(e,r);var a=(n?"s":'((l&&l.hasOwnProperty("'+e+'"))?l:s)')+'["'+e+'"]',o=i||$t(e);o&&(a="eso("+a+", fe)",d=!0),u+="if(s == null) return undefined;\ns="+a+";\n",t.unwrapPromises&&(u+='if (s && s.then) {\n pw("'+r.replace(/(["\r\n])/g,"\\$1")+'");\n if (!("$$v" in s)) {\n p=s;\n p.$$v = undefined;\n p.then(function(v) {p.$$v='+(o?"eso(v)":"v")+";});\n}\n s="+(o?"eso(s.$$v)":"s.$$v")+"\n}\n")}),u+="return s;";var p=new Function("s","l","pw","eso","fe",u);p.toString=g(u),(d||t.unwrapPromises)&&(p=St(p,r)),s=p}return"hasOwnProperty"!==e&&(o[e]=s),s}function _t(){var e={},t={},n={csp:!1,unwrapPromises:!1,logPromiseWarnings:!0,expensiveChecks:!1};this.unwrapPromises=function(e){return b(e)?(n.unwrapPromises=!!e,this):n.unwrapPromises},this.logPromiseWarnings=function(e){return b(e)?(n.logPromiseWarnings=e,this):n.logPromiseWarnings},this.$get=["$filter","$sniffer","$log",function(r,i,a){n.csp=i.csp;var o={csp:n.csp,unwrapPromises:n.unwrapPromises,logPromiseWarnings:n.logPromiseWarnings,expensiveChecks:!0};return ur=function(e){n.logPromiseWarnings&&!pr.hasOwnProperty(e)&&(pr[e]=!0,a.warn("[$parse] Promise found in the expression `"+e+"`. Automatic unwrapping of promises in Angular expressions is deprecated."))},function(i,a){var s;switch(typeof i){case"string":var c=a?t:e;if(c.hasOwnProperty(i))return c[i];var l=a?o:n,u=new br(l),d=new wr(u,r,l);return s=d.parse(i),"hasOwnProperty"!==i&&(c[i]=s),s;case"function":return i;default:return m}}}]}function Et(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return kt(function(t){e.$evalAsync(t)},t)}]}function kt(e,t){function r(e){return e}function i(e){return l(e)}function o(e){var t=s(),n=0,r=An(e)?[]:{};return a(e,function(e,i){n++,c(e).then(function(e){r.hasOwnProperty(i)||(r[i]=e,--n||t.resolve(r))},function(e){r.hasOwnProperty(i)||t.reject(e)})}),0===n&&t.resolve(r),t.promise}var s=function(){var a,o,l=[];return o={resolve:function(t){if(l){var r=l;l=n,a=c(t),r.length&&e(function(){for(var e,t=0,n=r.length;n>t;t++)e=r[t],a.then(e[0],e[1],e[2])})}},reject:function(e){o.resolve(u(e))},notify:function(t){if(l){var n=l;l.length&&e(function(){for(var e,r=0,i=n.length;i>r;r++)e=n[r],e[2](t)})}},promise:{then:function(e,n,o){var c=s(),u=function(n){try{c.resolve((S(e)?e:r)(n))}catch(i){c.reject(i),t(i)}},d=function(e){try{c.resolve((S(n)?n:i)(e))}catch(r){c.reject(r),t(r)}},p=function(e){try{c.notify((S(o)?o:r)(e))}catch(n){t(n)}};return l?l.push([u,d,p]):a.then(u,d,p),c.promise},"catch":function(e){return this.then(null,e)},"finally":function(e){function t(e,t){var n=s();return t?n.resolve(e):n.reject(e),n.promise}function n(n,i){var a=null;try{a=(e||r)()}catch(o){return t(o,!1)}return I(a)?a.then(function(){return t(n,i)},function(e){return t(e,!1)}):t(n,i)}return this.then(function(e){return n(e,!0)},function(e){return n(e,!1)})}}}},c=function(t){return I(t)?t:{then:function(n){var r=s();return e(function(){r.resolve(n(t))}),r.promise}}},l=function(e){var t=s();return t.reject(e),t.promise},u=function(n){return{then:function(r,a){var o=s();return e(function(){try{o.resolve((S(a)?a:i)(n))}catch(e){o.reject(e),t(e)}}),o.promise}}},d=function(n,a,o,u){var d,p=s(),f=function(e){try{return(S(a)?a:r)(e)}catch(n){return t(n),l(n)}},m=function(e){try{return(S(o)?o:i)(e)}catch(n){return t(n),l(n)}},h=function(e){try{return(S(u)?u:r)(e)}catch(n){t(n)}};return e(function(){c(n).then(function(e){d||(d=!0,p.resolve(c(e).then(f,m,h)))},function(e){d||(d=!0,p.resolve(m(e)))},function(e){d||p.notify(h(e))})}),p.promise};return{defer:s,reject:l,when:d,all:o}}function Rt(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame,r=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,i=!!n,a=i?function(e){var t=n(e);return function(){r(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return a.supported=i,a}]}function It(){var e=10,t=r("$rootScope"),n=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(r,o,s,c){function u(){this.$id=l(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this["this"]=this.$root=this,this.$$destroyed=!1,this.$$asyncQueue=[],this.$$postDigestQueue=[],this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings={}}function d(e){if(v.$$phase)throw t("inprog","{0} already in progress",v.$$phase);v.$$phase=e}function p(){v.$$phase=null}function f(e,t){var n=s(e);return ne(n,t),n}function h(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function g(){}u.prototype={constructor:u,$new:function(e){var t;return e?(t=new u,t.$root=this.$root,t.$$asyncQueue=this.$$asyncQueue,t.$$postDigestQueue=this.$$postDigestQueue):(this.$$childScopeClass||(this.$$childScopeClass=function(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$id=l(),this.$$childScopeClass=null},this.$$childScopeClass.prototype=this),t=new this.$$childScopeClass),t["this"]=t,t.$parent=this,t.$$prevSibling=this.$$childTail,this.$$childHead?(this.$$childTail.$$nextSibling=t,this.$$childTail=t):this.$$childHead=this.$$childTail=t,t},$watch:function(e,t,r){var i=this,a=f(e,"watch"),o=i.$$watchers,s={fn:t,last:g,get:a,exp:e,eq:!!r};if(n=null,!S(t)){var c=f(t||m,"listener");s.fn=function(e,t,n){c(n)}}if("string"==typeof e&&a.constant){var l=s.fn;s.fn=function(e,t,n){l.call(this,e,t,n),M(o,s)}}return o||(o=i.$$watchers=[]),o.unshift(s),function(){M(o,s),n=null}},$watchCollection:function(e,t){function n(){a=p(l);var e,t,n;if(w(a))if(i(a)){o!==f&&(o=f,g=o.length=0,d++),e=a.length,g!==e&&(d++,o.length=g=e);for(var r=0;e>r;r++)n=o[r]!==o[r]&&a[r]!==a[r],n||o[r]===a[r]||(d++,o[r]=a[r])}else{o!==m&&(o=m={},g=0,d++),e=0;for(t in a)a.hasOwnProperty(t)&&(e++,o.hasOwnProperty(t)?(n=o[t]!==o[t]&&a[t]!==a[t],n||o[t]===a[t]||(d++,o[t]=a[t])):(g++,o[t]=a[t],d++));if(g>e){d++;for(t in o)o.hasOwnProperty(t)&&!a.hasOwnProperty(t)&&(g--,delete o[t])}}else o!==a&&(o=a,d++);return d}function r(){if(h?(h=!1,t(a,a,l)):t(a,c,l),u)if(w(a))if(i(a)){c=new Array(a.length);for(var e=0;e<a.length;e++)c[e]=a[e]}else{c={};for(var n in a)gn.call(a,n)&&(c[n]=a[n])}else c=a}var a,o,c,l=this,u=t.length>1,d=0,p=s(e),f=[],m={},h=!0,g=0;return this.$watch(n,r)},$digest:function(){var r,i,a,s,l,u,f,m,h,v,b,w=this.$$asyncQueue,y=this.$$postDigestQueue,$=e,x=this,D=[];d("$digest"),c.$$checkUrlChange(),n=null;do{for(u=!1,m=x;w.length;){try{b=w.shift(),b.scope.$eval(b.expression)}catch(_){p(),o(_)}n=null}e:do{if(s=m.$$watchers)for(l=s.length;l--;)try{if(r=s[l])if((i=r.get(m))===(a=r.last)||(r.eq?B(i,a):"number"==typeof i&&"number"==typeof a&&isNaN(i)&&isNaN(a))){if(r===n){u=!1;break e}}else u=!0,n=r,r.last=r.eq?N(i,null):i,r.fn(i,a===g?i:a,m),5>$&&(h=4-$,D[h]||(D[h]=[]),v=S(r.exp)?"fn: "+(r.exp.name||r.exp.toString()):r.exp,v+="; newVal: "+U(i)+"; oldVal: "+U(a),D[h].push(v))}catch(_){p(),o(_)}if(!(f=m.$$childHead||m!==x&&m.$$nextSibling))for(;m!==x&&!(f=m.$$nextSibling);)m=m.$parent}while(m=f);if((u||w.length)&&!$--)throw p(),t("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,U(D))}while(u||w.length);for(p();y.length;)try{y.shift()()}catch(_){o(_)}},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this!==v&&(a(this.$$listenerCount,F(null,h,this)),e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=null,this.$$listeners={},this.$$watchers=this.$$asyncQueue=this.$$postDigestQueue=[],this.$destroy=this.$digest=this.$apply=m,this.$on=this.$watch=function(){return m})}},$eval:function(e,t){return s(e)(this,t)},$evalAsync:function(e){v.$$phase||v.$$asyncQueue.length||c.defer(function(){v.$$asyncQueue.length&&v.$digest()}),this.$$asyncQueue.push({scope:this,expression:e})},$$postDigest:function(e){this.$$postDigestQueue.push(e)},$apply:function(e){try{return d("$apply"),this.$eval(e)}catch(t){o(t)}finally{p();try{v.$digest()}catch(t){throw o(t),t}}},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var r=this;do r.$$listenerCount[e]||(r.$$listenerCount[e]=0),r.$$listenerCount[e]++;while(r=r.$parent);var i=this;return function(){var r=P(n,t);-1!==r&&(n[r]=null,h(i,1,e))}},$emit:function(e,t){var n,r,i,a=[],s=this,c=!1,l={name:e,targetScope:s,stopPropagation:function(){c=!0},preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},u=L([l],arguments,1);do{for(n=s.$$listeners[e]||a,l.currentScope=s,r=0,i=n.length;i>r;r++)if(n[r])try{n[r].apply(null,u)}catch(d){o(d)}else n.splice(r,1),r--,i--;if(c)return l;s=s.$parent}while(s);return l},$broadcast:function(e,t){for(var n,r,i,a=this,s=a,c=a,l={name:e,targetScope:a,preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},u=L([l],arguments,1);s=c;){for(l.currentScope=s,n=s.$$listeners[e]||[],r=0,i=n.length;i>r;r++)if(n[r])try{n[r].apply(null,u)}catch(d){o(d)}else n.splice(r,1),r--,i--;if(!(c=s.$$listenerCount[e]&&s.$$childHead||s!==a&&s.$$nextSibling))for(;s!==a&&!(c=s.$$nextSibling);)s=s.$parent}return l}};var v=new u;return v}]}function Ct(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return b(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return b(e)?(t=e,this):t},this.$get=function(){return function(n,r){var i,a=r?t:e;return yn&&!(yn>=8)||(i=Lt(n).href,""===i||i.match(a))?n:"unsafe:"+i}}}function At(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")}function Tt(e){if("self"===e)return e;if(y(e)){if(e.indexOf("***")>-1)throw xr("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=At(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(D(e))return new RegExp("^"+e.source+"$");throw xr("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Pt(e){var t=[];return b(e)&&a(e,function(e){t.push(Tt(e))}),t}function Mt(){this.SCE_CONTEXTS=Sr;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=Pt(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=Pt(e)),t},this.$get=["$injector",function(r){function i(e,t){return"self"===e?jt(t):!!e.exec(t.href)}function a(n){var r,a,o=Lt(n.toString()),s=!1;for(r=0,a=e.length;a>r;r++)if(i(e[r],o)){s=!0;break}if(s)for(r=0,a=t.length;a>r;r++)if(i(t[r],o)){s=!1;break}return s}function o(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}function s(e,t){var r=p.hasOwnProperty(e)?p[e]:null;if(!r)throw xr("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||t===n||""===t)return t;if("string"!=typeof t)throw xr("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new r(t)}function c(e){return e instanceof d?e.$$unwrapTrustedValue():e}function l(e,t){if(null===t||t===n||""===t)return t;var r=p.hasOwnProperty(e)?p[e]:null;if(r&&t instanceof r)return t.$$unwrapTrustedValue();if(e===Sr.RESOURCE_URL){if(a(t))return t;throw xr("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===Sr.HTML)return u(t);throw xr("unsafe","Attempting to use an unsafe value in a safe context.")}var u=function(e){throw xr("unsafe","Attempting to use an unsafe value in a safe context.")};r.has("$sanitize")&&(u=r.get("$sanitize"));var d=o(),p={};return p[Sr.HTML]=o(d),p[Sr.CSS]=o(d),p[Sr.URL]=o(d),p[Sr.JS]=o(d),p[Sr.RESOURCE_URL]=o(p[Sr.URL]),{trustAs:s,getTrusted:l,valueOf:c}}]}function Nt(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sniffer","$sceDelegate",function(t,n,r){if(e&&n.msie&&n.msieDocumentMode<8)throw xr("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 9 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var i=O(Sr);i.isEnabled=function(){return e},i.trustAs=r.trustAs,i.getTrusted=r.getTrusted,i.valueOf=r.valueOf,e||(i.trustAs=i.getTrusted=function(e,t){return t},i.valueOf=h),i.parseAs=function(e,n){var r=t(n);return r.literal&&r.constant?r:function(t,n){return i.getTrusted(e,r(t,n))}};var o=i.parseAs,s=i.getTrusted,c=i.trustAs;return a(Sr,function(e,t){var n=hn(t);i[le("parse_as_"+n)]=function(t){return o(e,t)},i[le("get_trusted_"+n)]=function(t){return s(e,t)},i[le("trust_as_"+n)]=function(t){return c(e,t)}}),i}]}function Ot(){this.$get=["$window","$document",function(e,t){var n,r,i={},a=p((/android (\d+)/.exec(hn((e.navigator||{}).userAgent))||[])[1]),o=/Boxee/i.test((e.navigator||{}).userAgent),s=t[0]||{},c=s.documentMode,l=/^(Moz|webkit|O|ms)(?=[A-Z])/,u=s.body&&s.body.style,d=!1,f=!1;if(u){for(var m in u)if(r=l.exec(m)){n=r[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in u&&"webkit"),d=!!("transition"in u||n+"Transition"in u),f=!!("animation"in u||n+"Animation"in u),!a||d&&f||(d=y(s.body.style.webkitTransition),f=y(s.body.style.webkitAnimation))}return{history:!(!e.history||!e.history.pushState||4>a||o),hashchange:"onhashchange"in e&&(!c||c>7),hasEvent:function(e){if("input"==e&&9==yn)return!1;if(v(i[e])){var t=s.createElement("div");i[e]="on"+e in t}return i[e]},csp:Pn(),vendorPrefix:n,transitions:d,animations:f,android:a,msie:yn,msieDocumentMode:c}}]}function Bt(){this.$get=["$rootScope","$browser","$q","$exceptionHandler",function(e,t,n,r){function i(i,o,s){var c,l=n.defer(),u=l.promise,d=b(s)&&!s;return c=t.defer(function(){try{l.resolve(i())}catch(t){l.reject(t),r(t)}finally{delete a[u.$$timeoutId]}d||e.$apply()},o),u.$$timeoutId=c,a[c]=l,u}var a={};return i.cancel=function(e){return e&&e.$$timeoutId in a?(a[e.$$timeoutId].reject("canceled"),delete a[e.$$timeoutId],t.defer.cancel(e.$$timeoutId)):!1},i}]}function Lt(e,t){var n=e;return yn&&(Dr.setAttribute("href",n),n=Dr.href),Dr.setAttribute("href",n),{href:Dr.href,protocol:Dr.protocol?Dr.protocol.replace(/:$/,""):"",host:Dr.host,search:Dr.search?Dr.search.replace(/^\?/,""):"",hash:Dr.hash?Dr.hash.replace(/^#/,""):"",hostname:Dr.hostname,port:Dr.port,pathname:"/"===Dr.pathname.charAt(0)?Dr.pathname:"/"+Dr.pathname}}function jt(e){var t=y(e)?Lt(e):e;return t.protocol===_r.protocol&&t.host===_r.host}function Ft(){this.$get=g(e)}function qt(e){function t(r,i){if(w(r)){var o={};return a(r,function(e,n){o[n]=t(n,e)}),o}return e.factory(r+n,i)}var n="Filter";this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+n)}}],t("currency",Ht),t("date",Zt),t("filter",Ut),t("json",Kt),t("limitTo",Qt),t("lowercase",Cr),t("number",Vt),t("orderBy",en),t("uppercase",Ar)}function Ut(){return function(e,t,n){if(!An(e))return e;var r=typeof n,i=[];i.check=function(e){for(var t=0;t<i.length;t++)if(!i[t](e))return!1;return!0},"function"!==r&&(n="boolean"===r&&n?function(e,t){return In.equals(e,t)}:function(e,t){if(e&&t&&"object"==typeof e&&"object"==typeof t){for(var r in e)if("$"!==r.charAt(0)&&gn.call(e,r)&&n(e[r],t[r]))return!0;return!1}return t=(""+t).toLowerCase(),(""+e).toLowerCase().indexOf(t)>-1});var a=function(e,t){if("string"==typeof t&&"!"===t.charAt(0))return!a(e,t.substr(1));switch(typeof e){case"boolean":case"number":case"string":return n(e,t);case"object":switch(typeof t){case"object":return n(e,t);default:for(var r in e)if("$"!==r.charAt(0)&&a(e[r],t))return!0}return!1;case"array":for(var i=0;i<e.length;i++)if(a(e[i],t))return!0;return!1;default:return!1}};switch(typeof t){case"boolean":case"number":case"string":t={$:t};case"object":for(var o in t)!function(e){"undefined"!=typeof t[e]&&i.push(function(n){return a("$"==e?n:n&&n[e],t[e])})}(o);break;case"function":i.push(t);break;default:return e}for(var s=[],c=0;c<e.length;c++){var l=e[c];i.check(l)&&s.push(l)}return s}}function Ht(e){var t=e.NUMBER_FORMATS;return function(e,n){return v(n)&&(n=t.CURRENCY_SYM),zt(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,2).replace(/\u00A4/g,n)}}function Vt(e){var t=e.NUMBER_FORMATS;return function(e,n){return zt(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function zt(e,t,n,r,i){if(null==e||!isFinite(e)||w(e))return"";var a=0>e;e=Math.abs(e);var o=e+"",s="",c=[],l=!1;if(-1!==o.indexOf("e")){var u=o.match(/([\d\.]+)e(-?)(\d+)/);u&&"-"==u[2]&&u[3]>i+1?(o="0",e=0):(s=o,l=!0)}if(l)i>0&&e>-1&&1>e&&(s=e.toFixed(i));else{var d=(o.split(Er)[1]||"").length;v(i)&&(i=Math.min(Math.max(t.minFrac,d),t.maxFrac)),e=+(Math.round(+(e.toString()+"e"+i)).toString()+"e"+-i),0===e&&(a=!1);var p=(""+e).split(Er),f=p[0];p=p[1]||"";var m,h=0,g=t.lgSize,b=t.gSize;if(f.length>=g+b)for(h=f.length-g,m=0;h>m;m++)(h-m)%b===0&&0!==m&&(s+=n),s+=f.charAt(m);for(m=h;m<f.length;m++)(f.length-m)%g===0&&0!==m&&(s+=n),s+=f.charAt(m);for(;p.length<i;)p+="0";i&&"0"!==i&&(s+=r+p.substr(0,i))}return c.push(a?t.negPre:t.posPre),c.push(s),c.push(a?t.negSuf:t.posSuf),c.join("")}function Gt(e,t,n){var r="";for(0>e&&(r="-",e=-e),e=""+e;e.length<t;)e="0"+e;return n&&(e=e.substr(e.length-t)),r+e}function Xt(e,t,n,r){return n=n||0,function(i){var a=i["get"+e]();return(n>0||a>-n)&&(a+=n),0===a&&-12==n&&(a=12),Gt(a,t,r)}}function Wt(e,t){return function(n,r){var i=n["get"+e](),a=vn(t?"SHORT"+e:e);return r[a][i]}}function Yt(e){var t=-1*e.getTimezoneOffset(),n=t>=0?"+":"";return n+=Gt(Math[t>0?"floor":"ceil"](t/60),2)+Gt(Math.abs(t%60),2)}function Jt(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function Zt(e){function t(e){var t;if(t=e.match(n)){var r=new Date(0),i=0,a=0,o=t[8]?r.setUTCFullYear:r.setFullYear,s=t[8]?r.setUTCHours:r.setHours;t[9]&&(i=p(t[9]+t[10]),a=p(t[9]+t[11])),o.call(r,p(t[1]),p(t[2])-1,p(t[3]));var c=p(t[4]||0)-i,l=p(t[5]||0)-a,u=p(t[6]||0),d=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(r,c,l,u,d),r}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r){var i,o,s="",c=[];if(r=r||"mediumDate",r=e.DATETIME_FORMATS[r]||r,y(n)&&(n=Ir.test(n)?p(n):t(n)),$(n)&&(n=new Date(n)),!x(n))return n;for(;r;)o=Rr.exec(r),o?(c=L(c,o,1),r=c.pop()):(c.push(r),r=null);return a(c,function(t){i=kr[t],s+=i?i(n,e.DATETIME_FORMATS):t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),s}}function Kt(){return function(e){return U(e,!0)}}function Qt(){return function(e,t){if(!An(e)&&!y(e))return e;if(t=Math.abs(Number(t))===1/0?Number(t):p(t),y(e))return t?t>=0?e.slice(0,t):e.slice(t,e.length):"";var n,r,i=[];for(t>e.length?t=e.length:t<-e.length&&(t=-e.length),t>0?(n=0,r=t):(n=e.length+t,r=e.length);r>n;n++)i.push(e[n]);return i}}function en(e){return function(t,n,r){function a(e,t){for(var r=0;r<n.length;r++){var i=n[r](e,t);if(0!==i)return i}return 0}function o(e,t){return V(t)?function(t,n){return e(n,t)}:e}function s(e,t){var n=typeof e,r=typeof t;return n==r?(x(e)&&x(t)&&(e=e.valueOf(),t=t.valueOf()),"string"==n&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t?0:t>e?-1:1):r>n?-1:1}return i(t)?(n=An(n)?n:[n],0===n.length&&(n=["+"]),n=A(n,function(t){var n=!1,r=t||h;if(y(t)){if(("+"==t.charAt(0)||"-"==t.charAt(0))&&(n="-"==t.charAt(0),t=t.substring(1)),""===t)return o(function(e,t){return s(e,t)},n);if(r=e(t),r.constant){var i=r();return o(function(e,t){return s(e[i],t[i])},n)}}return o(function(e,t){return s(r(e),r(t))},n)}),_n.call(t).sort(o(a,r))):t}}function tn(e){return S(e)&&(e={link:e}),e.restrict=e.restrict||"AC",g(e)}function nn(e,t,n,r){function i(t,n){n=n?"-"+Q(n,"-"):"",r.setClass(e,(t?Vr:zr)+n,(t?zr:Vr)+n)}var o=this,s=e.parent().controller("form")||Mr,c=0,l=o.$error={},u=[];o.$name=t.name||t.ngForm,o.$dirty=!1,o.$pristine=!0,o.$valid=!0,o.$invalid=!1,s.$addControl(o),e.addClass(Gr),i(!0),o.$addControl=function(e){re(e.$name,"input"),u.push(e),e.$name&&(o[e.$name]=e)},o.$removeControl=function(e){e.$name&&o[e.$name]===e&&delete o[e.$name],a(l,function(t,n){o.$setValidity(n,!0,e)}),M(u,e)},o.$setValidity=function(e,t,n){var r=l[e];if(t)r&&(M(r,n),r.length||(c--,c||(i(t),o.$valid=!0,o.$invalid=!1),l[e]=!1,i(!0,e),s.$setValidity(e,!0,o)));else{if(c||i(t),r){if(T(r,n))return}else l[e]=r=[],c++,i(!1,e),s.$setValidity(e,!1,o);r.push(n),o.$valid=!1,o.$invalid=!0}},o.$setDirty=function(){r.removeClass(e,Gr),r.addClass(e,Xr),o.$dirty=!0,o.$pristine=!1,s.$setDirty()},o.$setPristine=function(){r.removeClass(e,Xr),r.addClass(e,Gr),o.$dirty=!1,o.$pristine=!0,a(u,function(e){e.$setPristine()})}}function rn(e,t,r,i){return e.$setValidity(t,r),r?i:n}function an(e,t){var n,r;if(t)for(n=0;n<t.length;++n)if(r=t[n],e[r])return!0;return!1}function on(e,t,n,r,i){if(w(i)){e.$$hasNativeValidators=!0;var a=function(a){return e.$error[t]||an(i,r)||!an(i,n)?a:void e.$setValidity(t,!1)};e.$parsers.push(a)}}function sn(e,t,n,i,a,o){var s=t.prop(mn),c=t[0].placeholder,l={},u=hn(t[0].type);if(i.$$validityState=s,!a.android){var d=!1;t.on("compositionstart",function(e){d=!0}),t.on("compositionend",function(){d=!1,f()})}var f=function(r){if(!d){var a=t.val();if(yn&&"input"===(r||l).type&&t[0].placeholder!==c)return void(c=t[0].placeholder);"password"!==u&&V(n.ngTrim||"T")&&(a=Tn(a));var o=s&&i.$$hasNativeValidators;(i.$viewValue!==a||""===a&&o)&&(e.$root.$$phase?i.$setViewValue(a):e.$apply(function(){i.$setViewValue(a)}))}};if(a.hasEvent("input"))t.on("input",f);else{var m,h=function(){m||(m=o.defer(function(){f(),m=null}))};t.on("keydown",function(e){var t=e.keyCode;91===t||t>15&&19>t||t>=37&&40>=t||h()}),a.hasEvent("paste")&&t.on("paste cut",h)}t.on("change",f),i.$render=function(){t.val(i.$isEmpty(i.$viewValue)?"":i.$viewValue)};var g,v,b=n.ngPattern;if(b){var w=function(e,t){return rn(i,"pattern",i.$isEmpty(t)||e.test(t),t)};v=b.match(/^\/(.*)\/([gim]*)$/),v?(b=new RegExp(v[1],v[2]),g=function(e){return w(b,e)}):g=function(n){var i=e.$eval(b);if(!i||!i.test)throw r("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",b,i,z(t));return w(i,n)},i.$formatters.push(g),i.$parsers.push(g)}if(n.ngMinlength){var y=p(n.ngMinlength),$=function(e){return rn(i,"minlength",i.$isEmpty(e)||e.length>=y,e)};i.$parsers.push($),i.$formatters.push($)}if(n.ngMaxlength){var x=p(n.ngMaxlength),S=function(e){return rn(i,"maxlength",i.$isEmpty(e)||e.length<=x,e)};i.$parsers.push(S),i.$formatters.push(S)}}function cn(e,t,r,i,a,o){if(sn(e,t,r,i,a,o),i.$parsers.push(function(e){var t=i.$isEmpty(e);return t||Fr.test(e)?(i.$setValidity("number",!0),""===e?null:t?e:parseFloat(e)):(i.$setValidity("number",!1),n)}),on(i,"number",Ur,null,i.$$validityState),i.$formatters.push(function(e){return i.$isEmpty(e)?"":""+e}),r.min){var s=function(e){var t=parseFloat(r.min);return rn(i,"min",i.$isEmpty(e)||e>=t,e)};i.$parsers.push(s),i.$formatters.push(s)}if(r.max){var c=function(e){var t=parseFloat(r.max);return rn(i,"max",i.$isEmpty(e)||t>=e,e)};i.$parsers.push(c),i.$formatters.push(c)}i.$formatters.push(function(e){return rn(i,"number",i.$isEmpty(e)||$(e),e)})}function ln(e,t,n,r,i,a){sn(e,t,n,r,i,a);var o=function(e){return rn(r,"url",r.$isEmpty(e)||Lr.test(e),e)};r.$formatters.push(o),r.$parsers.push(o)}function un(e,t,n,r,i,a){sn(e,t,n,r,i,a);var o=function(e){return rn(r,"email",r.$isEmpty(e)||jr.test(e),e)};r.$formatters.push(o),r.$parsers.push(o)}function dn(e,t,n,r){v(n.name)&&t.attr("name",l()),t.on("click",function(){t[0].checked&&e.$apply(function(){r.$setViewValue(n.value)})}),r.$render=function(){var e=n.value;t[0].checked=e==r.$viewValue},n.$observe("value",r.$render)}function pn(e,t,n,r){var i=n.ngTrueValue,a=n.ngFalseValue;y(i)||(i=!0),y(a)||(a=!1),t.on("click",function(){e.$apply(function(){r.$setViewValue(t[0].checked)})}),r.$render=function(){t[0].checked=r.$viewValue},r.$isEmpty=function(e){return e!==i},r.$formatters.push(function(e){return e===i}),r.$parsers.push(function(e){return e?i:a})}function fn(e,t){return e="ngClass"+e,["$animate",function(n){function r(e,t){var n=[];e:for(var r=0;r<e.length;r++){for(var i=e[r],a=0;a<t.length;a++)if(i==t[a])continue e;n.push(i)}return n}function i(e){if(An(e))return e;if(y(e))return e.split(" ");if(w(e)){var t=[];return a(e,function(e,n){e&&(t=t.concat(n.split(" ")))}),t}return e}return{restrict:"AC",link:function(o,s,c){function l(e){var t=d(e,1);c.$addClass(t)}function u(e){var t=d(e,-1);c.$removeClass(t)}function d(e,t){var n=s.data("$classCounts")||{},r=[];return a(e,function(e){(t>0||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(t>0)&&r.push(e))}),s.data("$classCounts",n),r.join(" ")}function p(e,t){var i=r(t,e),a=r(e,t);a=d(a,-1),i=d(i,1),0===i.length?n.removeClass(s,a):0===a.length?n.addClass(s,i):n.setClass(s,i,a)}function f(e){if(t===!0||o.$index%2===t){var n=i(e||[]);if(m){if(!B(e,m)){var r=i(m);p(r,n)}}else l(n)}m=O(e)}var m;o.$watch(c[e],f,!0),c.$observe("class",function(t){f(o.$eval(c[e]))}),"ngClass"!==e&&o.$watch("$index",function(n,r){var a=1&n;if(a!==(1&r)){var s=i(o.$eval(c[e]));a===t?l(s):u(s)}})}}}]}var mn="validity",hn=function(e){return y(e)?e.toLowerCase():e},gn=Object.prototype.hasOwnProperty,vn=function(e){return y(e)?e.toUpperCase():e},bn=function(e){return y(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},wn=function(e){return y(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(-33&e.charCodeAt(0))}):e};"i"!=="I".toLowerCase()&&(hn=bn,vn=wn);var yn,$n,xn,Sn,Dn,_n=[].slice,En=[].push,kn=Object.prototype.toString,Rn=r("ng"),In=e.angular||(e.angular={}),Cn=["0","0","0"];
yn=p((/msie (\d+)/.exec(hn(navigator.userAgent))||[])[1]),isNaN(yn)&&(yn=p((/trident\/.*; rv:(\d+)/.exec(hn(navigator.userAgent))||[])[1])),m.$inject=[],h.$inject=[];var An=function(){return S(Array.isArray)?Array.isArray:function(e){return"[object Array]"===kn.call(e)}}(),Tn=function(){return String.prototype.trim?function(e){return y(e)?e.trim():e}:function(e){return y(e)?e.replace(/^\s\s*/,"").replace(/\s\s*$/,""):e}}();Dn=9>yn?function(e){return e=e.nodeName?e:e[0],e.scopeName&&"HTML"!=e.scopeName?vn(e.scopeName+":"+e.nodeName):e.nodeName}:function(e){return e.nodeName?e.nodeName:e[0].nodeName};var Pn=function(){if(b(Pn.isActive_))return Pn.isActive_;var e=!(!t.querySelector("[ng-csp]")&&!t.querySelector("[data-ng-csp]"));if(!e)try{new Function("")}catch(n){e=!0}return Pn.isActive_=e},Mn=/[A-Z]/g,Nn={full:"1.2.27",major:1,minor:2,dot:27,codeName:"prime-factorization"};me.expando="ng339";var On=me.cache={},Bn=1,Ln=e.document.addEventListener?function(e,t,n){e.addEventListener(t,n,!1)}:function(e,t,n){e.attachEvent("on"+t,n)},jn=e.document.removeEventListener?function(e,t,n){e.removeEventListener(t,n,!1)}:function(e,t,n){e.detachEvent("on"+t,n)},Fn=(me._data=function(e){return this.cache[e[this.expando]]||{}},/([\:\-\_]+(.))/g),qn=/^moz([A-Z])/,Un=r("jqLite"),Hn=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Vn=/<|&#?\w+;/,zn=/<([\w:]+)/,Gn=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Xn={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Xn.optgroup=Xn.option,Xn.tbody=Xn.tfoot=Xn.colgroup=Xn.caption=Xn.thead,Xn.th=Xn.td;var Wn=me.prototype={ready:function(n){function r(){i||(i=!0,n())}var i=!1;"complete"===t.readyState?setTimeout(r):(this.on("DOMContentLoaded",r),me(e).on("load",r))},toString:function(){var e=[];return a(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return $n(e>=0?this[e]:this[this.length+e])},length:0,push:En,sort:[].sort,splice:[].splice},Yn={};a("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){Yn[hn(e)]=e});var Jn={};a("input,select,option,textarea,button,form,details".split(","),function(e){Jn[vn(e)]=!0}),a({data:ye,removeData:be},function(e,t){me[t]=e}),a({data:ye,inheritedData:Ee,scope:function(e){return $n.data(e,"$scope")||Ee(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return $n.data(e,"$isolateScope")||$n.data(e,"$isolateScopeNoTemplate")},controller:_e,injector:function(e){return Ee(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:$e,css:function(e,t,r){if(t=le(t),!b(r)){var i;return 8>=yn&&(i=e.currentStyle&&e.currentStyle[t],""===i&&(i="auto")),i=i||e.style[t],8>=yn&&(i=""===i?n:i),i}e.style[t]=r},attr:function(e,t,r){var i=hn(t);if(Yn[i]){if(!b(r))return e[t]||(e.attributes.getNamedItem(t)||m).specified?i:n;r?(e[t]=!0,e.setAttribute(t,i)):(e[t]=!1,e.removeAttribute(i))}else if(b(r))e.setAttribute(t,r);else if(e.getAttribute){var a=e.getAttribute(t,2);return null===a?n:a}},prop:function(e,t,n){return b(n)?void(e[t]=n):e[t]},text:function(){function e(e,n){var r=t[e.nodeType];return v(n)?r?e[r]:"":void(e[r]=n)}var t=[];return 9>yn?(t[1]="innerText",t[3]="nodeValue"):t[1]=t[3]="textContent",e.$dv="",e}(),val:function(e,t){if(v(t)){if("SELECT"===Dn(e)&&e.multiple){var n=[];return a(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){if(v(t))return e.innerHTML;for(var n=0,r=e.childNodes;n<r.length;n++)ge(r[n]);e.innerHTML=t},empty:ke},function(e,t){me.prototype[t]=function(t,r){var i,a,o=this.length;if(e!==ke&&(2==e.length&&e!==$e&&e!==_e?t:r)===n){if(w(t)){for(i=0;o>i;i++)if(e===ye)e(this[i],t);else for(a in t)e(this[i],a,t[a]);return this}for(var s=e.$dv,c=s===n?Math.min(o,1):o,l=0;c>l;l++){var u=e(this[l],t,r);s=s?s+u:u}return s}for(i=0;o>i;i++)e(this[i],t,r);return this}}),a({removeData:be,dealoc:ge,on:function Ai(e,n,r,i){if(b(i))throw Un("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");var o=we(e,"events"),s=we(e,"handle");o||we(e,"events",o={}),s||we(e,"handle",s=Ie(e,o)),a(n.split(" "),function(n){var i=o[n];if(!i){if("mouseenter"==n||"mouseleave"==n){var a=t.body.contains||t.body.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1};o[n]=[];var c={mouseleave:"mouseout",mouseenter:"mouseover"};Ai(e,c[n],function(e){var t=this,r=e.relatedTarget;(!r||r!==t&&!a(t,r))&&s(e,n)})}else Ln(e,n,s),o[n]=[];i=o[n]}i.push(r)})},off:ve,one:function(e,t,n){e=$n(e),e.on(t,function r(){e.off(t,n),e.off(t,r)}),e.on(t,n)},replaceWith:function(e,t){var n,r=e.parentNode;ge(e),a(new me(t),function(t){n?r.insertBefore(t,n.nextSibling):r.replaceChild(t,e),n=t})},children:function(e){var t=[];return a(e.childNodes,function(e){1===e.nodeType&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){a(new me(t),function(t){(1===e.nodeType||11===e.nodeType)&&e.appendChild(t)})},prepend:function(e,t){if(1===e.nodeType){var n=e.firstChild;a(new me(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){t=$n(t)[0];var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)},remove:function(e){ge(e);var t=e.parentNode;t&&t.removeChild(e)},after:function(e,t){var n=e,r=e.parentNode;a(new me(t),function(e){r.insertBefore(e,n.nextSibling),n=e})},addClass:Se,removeClass:xe,toggleClass:function(e,t,n){t&&a(t.split(" "),function(t){var r=n;v(r)&&(r=!$e(e,t)),(r?Se:xe)(e,t)})},parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},next:function(e){if(e.nextElementSibling)return e.nextElementSibling;for(var t=e.nextSibling;null!=t&&1!==t.nodeType;)t=t.nextSibling;return t},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:he,triggerHandler:function(e,t,n){var r,i,o,s=t.type||t,c=(we(e,"events")||{})[s];c&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopPropagation:m,type:s,target:e},t.type&&(r=d(r,t)),i=O(c),o=n?[r].concat(n):[r],a(i,function(t){t.apply(e,o)}))}},function(e,t){me.prototype[t]=function(t,n,r){for(var i,a=0;a<this.length;a++)v(i)?(i=e(this[a],t,n,r),b(i)&&(i=$n(i))):De(i,e(this[a],t,n,r));return b(i)?i:this},me.prototype.bind=me.prototype.on,me.prototype.unbind=me.prototype.off}),Ae.prototype={put:function(e,t){this[Ce(e,this.nextUid)]=t},get:function(e){return this[Ce(e,this.nextUid)]},remove:function(e){var t=this[e=Ce(e,this.nextUid)];return delete this[e],t}};var Zn=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,Kn=/,/,Qn=/^\s*(_?)(\S+?)\1\s*$/,er=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,tr=r("$injector"),nr=r("$animate"),rr=["$provide",function(e){this.$$selectors={},this.register=function(t,n){var r=t+"-animation";if(t&&"."!=t.charAt(0))throw nr("notcsel","Expecting class selector starting with '.' got '{0}'.",t);this.$$selectors[t.substr(1)]=r,e.factory(r,n)},this.classNameFilter=function(e){return 1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null),this.$$classNameFilter},this.$get=["$timeout","$$asyncCallback",function(e,t){function n(e){e&&t(e)}return{enter:function(e,t,r,i){r?r.after(e):(t&&t[0]||(t=r.parent()),t.append(e)),n(i)},leave:function(e,t){e.remove(),n(t)},move:function(e,t,n,r){this.enter(e,t,n,r)},addClass:function(e,t,r){t=y(t)?t:An(t)?t.join(" "):"",a(e,function(e){Se(e,t)}),n(r)},removeClass:function(e,t,r){t=y(t)?t:An(t)?t.join(" "):"",a(e,function(e){xe(e,t)}),n(r)},setClass:function(e,t,r,i){a(e,function(e){Se(e,t),xe(e,r)}),n(i)},enabled:m}}]}],ir=r("$compile");Fe.$inject=["$provide","$$sanitizeUriProvider"];var ar=/^(x[\:\-_]|data[\:\-_])/i,or=r("$interpolate"),sr=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,cr={http:80,https:443,ftp:21},lr=r("$location");pt.prototype=dt.prototype=ut.prototype={$$html5:!1,$$replace:!1,absUrl:ft("$$absUrl"),url:function(e){if(v(e))return this.$$url;var t=sr.exec(e);return t[1]&&this.path(decodeURIComponent(t[1])),(t[2]||t[1])&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:ft("$$protocol"),host:ft("$$host"),port:ft("$$port"),path:mt("$$path",function(e){return e=null!==e?e.toString():"","/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(y(e)||$(e))e=e.toString(),this.$$search=X(e);else{if(!w(e))throw lr("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");a(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:v(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:mt("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};var ur,dr=r("$parse"),pr={},fr=Function.prototype.call,mr=Function.prototype.apply,hr=Function.prototype.bind,gr={"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:m,"+":function(e,t,r,i){return r=r(e,t),i=i(e,t),b(r)?b(i)?r+i:r:b(i)?i:n},"-":function(e,t,n,r){return n=n(e,t),r=r(e,t),(b(n)?n:0)-(b(r)?r:0)},"*":function(e,t,n,r){return n(e,t)*r(e,t)},"/":function(e,t,n,r){return n(e,t)/r(e,t)},"%":function(e,t,n,r){return n(e,t)%r(e,t)},"^":function(e,t,n,r){return n(e,t)^r(e,t)},"=":m,"===":function(e,t,n,r){return n(e,t)===r(e,t)},"!==":function(e,t,n,r){return n(e,t)!==r(e,t)},"==":function(e,t,n,r){return n(e,t)==r(e,t)},"!=":function(e,t,n,r){return n(e,t)!=r(e,t)},"<":function(e,t,n,r){return n(e,t)<r(e,t)},">":function(e,t,n,r){return n(e,t)>r(e,t)},"<=":function(e,t,n,r){return n(e,t)<=r(e,t)},">=":function(e,t,n,r){return n(e,t)>=r(e,t)},"&&":function(e,t,n,r){return n(e,t)&&r(e,t)},"||":function(e,t,n,r){return n(e,t)||r(e,t)},"&":function(e,t,n,r){return n(e,t)&r(e,t)},"|":function(e,t,n,r){return r(e,t)(e,t,n(e,t))},"!":function(e,t,n){return!n(e,t)}},vr={n:"\n",f:"\f",r:"\r",t:"	",v:"\x0B","'":"'",'"':'"'},br=function(e){this.options=e};br.prototype={constructor:br,lex:function(e){for(this.text=e,this.index=0,this.ch=n,this.lastCh=":",this.tokens=[];this.index<this.text.length;){if(this.ch=this.text.charAt(this.index),this.is("\"'"))this.readString(this.ch);else if(this.isNumber(this.ch)||this.is(".")&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(this.ch))this.readIdent();else if(this.is("(){}[].,;:?"))this.tokens.push({index:this.index,text:this.ch}),this.index++;else{if(this.isWhitespace(this.ch)){this.index++;continue}var t=this.ch+this.peek(),r=t+this.peek(2),i=gr[this.ch],a=gr[t],o=gr[r];o?(this.tokens.push({index:this.index,text:r,fn:o}),this.index+=3):a?(this.tokens.push({index:this.index,text:t,fn:a}),this.index+=2):i?(this.tokens.push({index:this.index,text:this.ch,fn:i}),this.index+=1):this.throwError("Unexpected next character ",this.index,this.index+1)}this.lastCh=this.ch}return this.tokens},is:function(e){return-1!==e.indexOf(this.ch)},was:function(e){return-1!==e.indexOf(this.lastCh)},peek:function(e){var t=e||1;return this.index+t<this.text.length?this.text.charAt(this.index+t):!1},isNumber:function(e){return e>="0"&&"9">=e},isWhitespace:function(e){return" "===e||"\r"===e||"	"===e||"\n"===e||"\x0B"===e||" "===e},isIdent:function(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e||"_"===e||"$"===e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var r=b(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw dr("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,r,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=hn(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var r=this.peek();if("e"==n&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}e=1*e,this.tokens.push({index:t,text:e,literal:!0,constant:!0,fn:function(){return e}})},readIdent:function(){for(var e,t,n,r,i=this,a="",o=this.index;this.index<this.text.length&&(r=this.text.charAt(this.index),"."===r||this.isIdent(r)||this.isNumber(r));)"."===r&&(e=this.index),a+=r,this.index++;if(e)for(t=this.index;t<this.text.length;){if(r=this.text.charAt(t),"("===r){n=a.substr(e-o+1),a=a.substr(0,e-o),this.index=t;break}if(!this.isWhitespace(r))break;t++}var s={index:o,text:a};if(gr.hasOwnProperty(a))s.fn=gr[a],s.literal=!0,s.constant=!0;else{var c=Dt(a,this.options,this.text);s.fn=d(function(e,t){return c(e,t)},{assign:function(e,t){return yt(e,a,t,i.text,i.options)}})}this.tokens.push(s),n&&(this.tokens.push({index:e,text:"."}),this.tokens.push({index:e+1,text:n}))},readString:function(e){var t=this.index;this.index++;for(var n="",r=e,i=!1;this.index<this.text.length;){var a=this.text.charAt(this.index);if(r+=a,i){if("u"===a){var o=this.text.substring(this.index+1,this.index+5);o.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+o+"]"),this.index+=4,n+=String.fromCharCode(parseInt(o,16))}else{var s=vr[a];n+=s||a}i=!1}else if("\\"===a)i=!0;else{if(a===e)return this.index++,void this.tokens.push({index:t,text:r,string:n,literal:!0,constant:!0,fn:function(){return n}});n+=a}this.index++}this.throwError("Unterminated quote",t)}};var wr=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n};wr.ZERO=d(function(){return 0},{constant:!0}),wr.prototype={constructor:wr,parse:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.statements();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t.literal=!!t.literal,t.constant=!!t.constant,t},primary:function(){var e;if(this.expect("("))e=this.filterChain(),this.consume(")");else if(this.expect("["))e=this.arrayDeclaration();else if(this.expect("{"))e=this.object();else{var t=this.expect();e=t.fn,e||this.throwError("not a primary expression",t),e.literal=!!t.literal,e.constant=!!t.constant}for(var n,r;n=this.expect("(","[",".");)"("===n.text?(e=this.functionCall(e,r),r=null):"["===n.text?(r=e,e=this.objectIndex(e)):"."===n.text?(r=e,e=this.fieldAccess(e)):this.throwError("IMPOSSIBLE");return e},throwError:function(e,t){throw dr("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},peekToken:function(){if(0===this.tokens.length)throw dr("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,r){if(this.tokens.length>0){var i=this.tokens[0],a=i.text;if(a===e||a===t||a===n||a===r||!e&&!t&&!n&&!r)return i}return!1},expect:function(e,t,n,r){var i=this.peek(e,t,n,r);return i?(this.tokens.shift(),i):!1},consume:function(e){this.expect(e)||this.throwError("is unexpected, expecting ["+e+"]",this.peek())},unaryFn:function(e,t){return d(function(n,r){return e(n,r,t)},{constant:t.constant})},ternaryFn:function(e,t,n){return d(function(r,i){return e(r,i)?t(r,i):n(r,i)},{constant:e.constant&&t.constant&&n.constant})},binaryFn:function(e,t,n){return d(function(r,i){return t(r,i,e,n)},{constant:e.constant&&n.constant})},statements:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.filterChain()),!this.expect(";"))return 1===e.length?e[0]:function(t,n){for(var r,i=0;i<e.length;i++){var a=e[i];a&&(r=a(t,n))}return r}},filterChain:function(){for(var e,t=this.expression();;){if(!(e=this.expect("|")))return t;t=this.binaryFn(t,e.fn,this.filter())}},filter:function(){for(var e=this.expect(),t=this.$filter(e.text),n=[];;){if(!(e=this.expect(":"))){var r=function(e,r,i){for(var a=[i],o=0;o<n.length;o++)a.push(n[o](e,r));return t.apply(e,a)};return function(){return r}}n.push(this.expression())}},expression:function(){return this.assignment()},assignment:function(){var e,t,n=this.ternary();return(t=this.expect("="))?(n.assign||this.throwError("implies assignment but ["+this.text.substring(0,t.index)+"] can not be assigned to",t),e=this.ternary(),function(t,r){return n.assign(t,e(t,r),r)}):n},ternary:function(){var e,t,n=this.logicalOR();return(t=this.expect("?"))?(e=this.assignment(),(t=this.expect(":"))?this.ternaryFn(n,e,this.assignment()):void this.throwError("expected :",t)):n},logicalOR:function(){for(var e,t=this.logicalAND();;){if(!(e=this.expect("||")))return t;t=this.binaryFn(t,e.fn,this.logicalAND())}},logicalAND:function(){var e,t=this.equality();return(e=this.expect("&&"))&&(t=this.binaryFn(t,e.fn,this.logicalAND())),t},equality:function(){var e,t=this.relational();return(e=this.expect("==","!=","===","!=="))&&(t=this.binaryFn(t,e.fn,this.equality())),t},relational:function(){var e,t=this.additive();return(e=this.expect("<",">","<=",">="))&&(t=this.binaryFn(t,e.fn,this.relational())),t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t=this.binaryFn(t,e.fn,this.multiplicative());return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t=this.binaryFn(t,e.fn,this.unary());return t},unary:function(){var e;return this.expect("+")?this.primary():(e=this.expect("-"))?this.binaryFn(wr.ZERO,e.fn,this.unary()):(e=this.expect("!"))?this.unaryFn(e.fn,this.unary()):this.primary()},fieldAccess:function(e){var t=this,n=this.expect().text,r=Dt(n,this.options,this.text);return d(function(t,n,i){return r(i||e(t,n))},{assign:function(r,i,a){var o=e(r,a);return o||e.assign(r,o={}),yt(o,n,i,t.text,t.options)}})},objectIndex:function(e){var t=this,r=this.expression();return this.consume("]"),d(function(i,a){var o,s,c=e(i,a),l=r(i,a);return vt(l,t.text),c?(o=bt(c[l],t.text),o&&o.then&&t.options.unwrapPromises&&(s=o,"$$v"in o||(s.$$v=n,s.then(function(e){s.$$v=e})),o=o.$$v),o):n},{assign:function(n,i,a){var o=vt(r(n,a),t.text),s=bt(e(n,a),t.text);return s||e.assign(n,s={}),s[o]=i}})},functionCall:function(e,t){var n=[];if(")"!==this.peekToken().text)do n.push(this.expression());while(this.expect(","));this.consume(")");var r=this;return function(i,a){for(var o=[],s=t?t(i,a):i,c=0;c<n.length;c++)o.push(bt(n[c](i,a),r.text));var l=e(i,a,s)||m;bt(s,r.text),wt(l,r.text);var u=l.apply?l.apply(s,o):l(o[0],o[1],o[2],o[3],o[4]);return bt(u,r.text)}},arrayDeclaration:function(){var e=[],t=!0;if("]"!==this.peekToken().text)do{if(this.peek("]"))break;var n=this.expression();e.push(n),n.constant||(t=!1)}while(this.expect(","));return this.consume("]"),d(function(t,n){for(var r=[],i=0;i<e.length;i++)r.push(e[i](t,n));return r},{literal:!0,constant:t})},object:function(){var e=[],t=!0;if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var n=this.expect(),r=n.string||n.text;this.consume(":");var i=this.expression();e.push({key:r,value:i}),i.constant||(t=!1)}while(this.expect(","));return this.consume("}"),d(function(t,n){for(var r={},i=0;i<e.length;i++){var a=e[i];r[a.key]=a.value(t,n)}return r},{literal:!0,constant:t})}};var yr={},$r={},xr=r("$sce"),Sr={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Dr=t.createElement("a"),_r=Lt(e.location.href,!0);qt.$inject=["$provide"],Ht.$inject=["$locale"],Vt.$inject=["$locale"];var Er=".",kr={yyyy:Xt("FullYear",4),yy:Xt("FullYear",2,0,!0),y:Xt("FullYear",1),MMMM:Wt("Month"),MMM:Wt("Month",!0),MM:Xt("Month",2,1),M:Xt("Month",1,1),dd:Xt("Date",2),d:Xt("Date",1),HH:Xt("Hours",2),H:Xt("Hours",1),hh:Xt("Hours",2,-12),h:Xt("Hours",1,-12),mm:Xt("Minutes",2),m:Xt("Minutes",1),ss:Xt("Seconds",2),s:Xt("Seconds",1),sss:Xt("Milliseconds",3),EEEE:Wt("Day"),EEE:Wt("Day",!0),a:Jt,Z:Yt},Rr=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/,Ir=/^\-?\d+$/;Zt.$inject=["$locale"];var Cr=g(hn),Ar=g(vn);en.$inject=["$parse"];var Tr=g({restrict:"E",compile:function(e,n){return 8>=yn&&(n.href||n.name||n.$set("href",""),e.append(t.createComment("IE fix"))),n.href||n.xlinkHref||n.name?void 0:function(e,t){var n="[object SVGAnimatedString]"===kn.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}),Pr={};a(Yn,function(e,t){if("multiple"!=e){var n=qe("ng-"+t);Pr[n]=function(){return{priority:100,link:function(e,r,i){e.$watch(i[n],function(e){i.$set(t,!!e)})}}}}}),a(["src","srcset","href"],function(e){var t=qe("ng-"+e);Pr[t]=function(){return{priority:99,link:function(n,r,i){var a=e,o=e;"href"===e&&"[object SVGAnimatedString]"===kn.call(r.prop("href"))&&(o="xlinkHref",i.$attr[o]="xlink:href",a=null),i.$observe(t,function(t){return t?(i.$set(o,t),void(yn&&a&&r.prop(a,i[o]))):void("href"===e&&i.$set(o,null))})}}}});var Mr={$addControl:m,$removeControl:m,$setValidity:m,$setDirty:m,$setPristine:m};nn.$inject=["$element","$attrs","$scope","$animate"];var Nr=function(e){return["$timeout",function(t){var r={name:"form",restrict:e?"EAC":"E",controller:nn,compile:function(){return{pre:function(e,r,i,a){if(!i.action){var o=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1};Ln(r[0],"submit",o),r.on("$destroy",function(){t(function(){jn(r[0],"submit",o)},0,!1)})}var s=r.parent().controller("form"),c=i.name||i.ngForm;c&&yt(e,c,a,c),s&&r.on("$destroy",function(){s.$removeControl(a),c&&yt(e,c,n,c),d(a,Mr)})}}}};return r}]},Or=Nr(),Br=Nr(!0),Lr=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,jr=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Fr=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,qr={text:sn,number:cn,url:ln,email:un,radio:dn,checkbox:pn,hidden:m,button:m,submit:m,reset:m,file:m},Ur=["badInput"],Hr=["$browser","$sniffer",function(e,t){return{restrict:"E",require:"?ngModel",link:function(n,r,i,a){a&&(qr[hn(i.type)]||qr.text)(n,r,i,a,t,e)}}}],Vr="ng-valid",zr="ng-invalid",Gr="ng-pristine",Xr="ng-dirty",Wr=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate",function(e,t,n,i,o,s){function c(e,t){t=t?"-"+Q(t,"-"):"",s.removeClass(i,(e?zr:Vr)+t),s.addClass(i,(e?Vr:zr)+t)}this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$name=n.name;var l=o(n.ngModel),u=l.assign;if(!u)throw r("ngModel")("nonassign","Expression '{0}' is non-assignable. Element: {1}",n.ngModel,z(i));this.$render=m,this.$isEmpty=function(e){return v(e)||""===e||null===e||e!==e};var d=i.inheritedData("$formController")||Mr,p=0,f=this.$error={};i.addClass(Gr),c(!0),this.$setValidity=function(e,t){f[e]!==!t&&(t?(f[e]&&p--,p||(c(!0),this.$valid=!0,this.$invalid=!1)):(c(!1),this.$invalid=!0,this.$valid=!1,p++),f[e]=!t,c(t,e),d.$setValidity(e,t,this))},this.$setPristine=function(){this.$dirty=!1,this.$pristine=!0,s.removeClass(i,Xr),s.addClass(i,Gr)},this.$setViewValue=function(n){this.$viewValue=n,this.$pristine&&(this.$dirty=!0,this.$pristine=!1,s.removeClass(i,Gr),s.addClass(i,Xr),d.$setDirty()),a(this.$parsers,function(e){n=e(n)}),this.$modelValue!==n&&(this.$modelValue=n,u(e,n),a(this.$viewChangeListeners,function(e){try{e()}catch(n){t(n)}}))};var h=this;e.$watch(function(){var t=l(e);if(h.$modelValue!==t){var n=h.$formatters,r=n.length;for(h.$modelValue=t;r--;)t=n[r](t);h.$viewValue!==t&&(h.$viewValue=t,h.$render())}return t})}],Yr=function(){return{require:["ngModel","^?form"],controller:Wr,link:function(e,t,n,r){var i=r[0],a=r[1]||Mr;a.$addControl(i),e.$on("$destroy",function(){a.$removeControl(i)})}}},Jr=g({require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),Zr=function(){return{require:"?ngModel",link:function(e,t,n,r){if(r){n.required=!0;var i=function(e){return n.required&&r.$isEmpty(e)?void r.$setValidity("required",!1):(r.$setValidity("required",!0),e)};r.$formatters.push(i),r.$parsers.unshift(i),n.$observe("required",function(){i(r.$viewValue)})}}}},Kr=function(){return{require:"ngModel",link:function(e,t,r,i){var o=/\/(.*)\//.exec(r.ngList),s=o&&new RegExp(o[1])||r.ngList||",",c=function(e){if(!v(e)){var t=[];return e&&a(e.split(s),function(e){e&&t.push(Tn(e))}),t}};i.$parsers.push(c),i.$formatters.push(function(e){return An(e)?e.join(", "):n}),i.$isEmpty=function(e){return!e||!e.length}}}},Qr=/^(true|false|\d+)$/,ei=function(){return{priority:100,compile:function(e,t){return Qr.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},ti=tn({compile:function(e){return e.addClass("ng-binding"),function(e,t,r){t.data("$binding",r.ngBind),e.$watch(r.ngBind,function(e){t.text(e==n?"":e)})}}}),ni=["$interpolate",function(e){return function(t,n,r){var i=e(n.attr(r.$attr.ngBindTemplate));n.addClass("ng-binding").data("$binding",i),r.$observe("ngBindTemplate",function(e){n.text(e)})}}],ri=["$sce","$parse",function(e,t){return{compile:function(n){return n.addClass("ng-binding"),function(n,r,i){function a(){return(o(n)||"").toString()}r.data("$binding",i.ngBindHtml);var o=t(i.ngBindHtml);n.$watch(a,function(t){r.html(e.getTrustedHtml(o(n))||"")})}}}}],ii=fn("",!0),ai=fn("Odd",0),oi=fn("Even",1),si=tn({compile:function(e,t){t.$set("ngCloak",n),e.removeClass("ng-cloak")}}),ci=[function(){return{scope:!0,controller:"@",priority:500}}],li={},ui={blur:!0,focus:!0};a("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=qe("ng-"+e);li[t]=["$parse","$rootScope",function(n,r){return{compile:function(i,a){var o=n(a[t],!0);return function(t,n){n.on(e,function(n){var i=function(){o(t,{$event:n})};ui[e]&&r.$$phase?t.$evalAsync(i):t.$apply(i)})}}}}]});var di=["$animate",function(e){return{transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,a,o){var s,c,l;n.$watch(i.ngIf,function(a){V(a)?c||(c=n.$new(),o(c,function(n){n[n.length++]=t.createComment(" end ngIf: "+i.ngIf+" "),s={clone:n},e.enter(n,r.parent(),r)})):(l&&(l.remove(),l=null),c&&(c.$destroy(),c=null),s&&(l=ae(s.clone),e.leave(l,function(){l=null}),s=null))})}}}],pi=["$http","$templateCache","$anchorScroll","$animate","$sce",function(e,t,n,r,i){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:In.noop,compile:function(a,o){var s=o.ngInclude||o.src,c=o.onload||"",l=o.autoscroll;return function(a,o,u,d,p){var f,m,h,g=0,v=function(){m&&(m.remove(),m=null),f&&(f.$destroy(),f=null),h&&(r.leave(h,function(){m=null}),m=h,h=null)};a.$watch(i.parseAsResourceUrl(s),function(i){var s=function(){!b(l)||l&&!a.$eval(l)||n()},u=++g;i?(e.get(i,{cache:t}).success(function(e){if(u===g){var t=a.$new();d.template=e;var n=p(t,function(e){v(),r.enter(e,null,o,s)});f=t,h=n,f.$emit("$includeContentLoaded"),a.$eval(c)}}).error(function(){u===g&&v()}),a.$emit("$includeContentRequested")):(v(),d.template=null)})}}}}],fi=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(t,n,r,i){n.html(i.template),e(n.contents())(t)}}}],mi=tn({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),hi=tn({terminal:!0,priority:1e3}),gi=["$locale","$interpolate",function(e,t){var n=/{}/g;return{restrict:"EA",link:function(r,i,o){var s=o.count,c=o.$attr.when&&i.attr(o.$attr.when),l=o.offset||0,u=r.$eval(c)||{},d={},p=t.startSymbol(),f=t.endSymbol(),m=/^when(Minus)?(.+)$/;a(o,function(e,t){m.test(t)&&(u[hn(t.replace("when","").replace("Minus","-"))]=i.attr(o.$attr[t]))}),a(u,function(e,r){d[r]=t(e.replace(n,p+s+"-"+l+f))}),r.$watch(function(){var t=parseFloat(r.$eval(s));return isNaN(t)?"":(t in u||(t=e.pluralCat(t-l)),d[t](r,i,!0))},function(e){i.text(e)})}}}],vi=["$parse","$animate",function(e,n){function o(e){return e.clone[0]}function s(e){return e.clone[e.clone.length-1]}var c="$$NG_REMOVED",l=r("ngRepeat");return{transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,link:function(r,u,d,p,f){var m,h,g,v,b,w,y,$,x,S=d.ngRepeat,D=S.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),_={$id:Ce};if(!D)throw l("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",S);if(w=D[1],y=D[2],m=D[3],m?(h=e(m),g=function(e,t,n){return x&&(_[x]=e),_[$]=t,_.$index=n,h(r,_)}):(v=function(e,t){return Ce(t)},b=function(e){return e}),D=w.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/),!D)throw l("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",w);$=D[3]||D[1],x=D[2];var E={};r.$watchCollection(y,function(e){var d,p,m,h,w,y,D,_,k,R,I,C,A=u[0],T={},P=[];if(i(e))R=e,k=g||v;else{k=g||b,R=[];for(y in e)e.hasOwnProperty(y)&&"$"!=y.charAt(0)&&R.push(y);R.sort()}for(h=R.length,p=P.length=R.length,d=0;p>d;d++)if(y=e===R?d:R[d],D=e[y],_=k(y,D,d),re(_,"`track by` id"),E.hasOwnProperty(_))I=E[_],delete E[_],T[_]=I,P[d]=I;else{if(T.hasOwnProperty(_))throw a(P,function(e){e&&e.scope&&(E[e.id]=e)}),l("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",S,_,U(D));P[d]={id:_},T[_]=!1}for(y in E)E.hasOwnProperty(y)&&(I=E[y],C=ae(I.clone),n.leave(C),a(C,function(e){e[c]=!0}),I.scope.$destroy());for(d=0,p=R.length;p>d;d++){if(y=e===R?d:R[d],D=e[y],I=P[d],P[d-1]&&(A=s(P[d-1])),I.scope){w=I.scope,m=A;do m=m.nextSibling;while(m&&m[c]);o(I)!=m&&n.move(ae(I.clone),null,$n(A)),A=s(I)}else w=r.$new();w[$]=D,x&&(w[x]=y),w.$index=d,w.$first=0===d,w.$last=d===h-1,w.$middle=!(w.$first||w.$last),w.$odd=!(w.$even=0===(1&d)),I.scope||f(w,function(e){e[e.length++]=t.createComment(" end ngRepeat: "+S+" "),n.enter(e,null,$n(A)),A=e,I.scope=w,I.clone=e,T[I.id]=I})}E=T})}}}],bi=["$animate",function(e){return function(t,n,r){t.$watch(r.ngShow,function(t){e[V(t)?"removeClass":"addClass"](n,"ng-hide")})}}],wi=["$animate",function(e){return function(t,n,r){t.$watch(r.ngHide,function(t){e[V(t)?"addClass":"removeClass"](n,"ng-hide")})}}],yi=tn(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&a(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),$i=["$animate",function(e){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(t,n,r,i){var o=r.ngSwitch||r.on,s=[],c=[],l=[],u=[];t.$watch(o,function(n){var o,d;for(o=0,d=l.length;d>o;++o)l[o].remove();for(l.length=0,o=0,d=u.length;d>o;++o){var p=c[o];u[o].$destroy(),l[o]=p,e.leave(p,function(){l.splice(o,1)})}c.length=0,u.length=0,(s=i.cases["!"+n]||i.cases["?"])&&(t.$eval(r.change),a(s,function(n){var r=t.$new();u.push(r),n.transclude(r,function(t){var r=n.element;c.push(t),e.enter(t,r.parent(),r)})}))})}}}],xi=tn({transclude:"element",priority:800,require:"^ngSwitch",link:function(e,t,n,r,i){r.cases["!"+n.ngSwitchWhen]=r.cases["!"+n.ngSwitchWhen]||[],r.cases["!"+n.ngSwitchWhen].push({transclude:i,element:t})}}),Si=tn({transclude:"element",priority:800,require:"^ngSwitch",link:function(e,t,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:t})}}),Di=tn({link:function(e,t,n,i,a){if(!a)throw r("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",z(t));a(function(e){t.empty(),t.append(e)})}}),_i=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"==n.type){var r=n.id,i=t[0].text;e.put(r,i)}}}}],Ei=r("ngOptions"),ki=g({terminal:!0}),Ri=["$compile","$parse",function(e,r){var i=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,s={
$setViewValue:m};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(e,t,n){var r,i,a=this,o={},c=s;a.databound=n.ngModel,a.init=function(e,t,n){c=e,r=t,i=n},a.addOption=function(t){re(t,'"option value"'),o[t]=!0,c.$viewValue==t&&(e.val(t),i.parent()&&i.remove())},a.removeOption=function(e){this.hasOption(e)&&(delete o[e],c.$viewValue==e&&this.renderUnknownOption(e))},a.renderUnknownOption=function(t){var n="? "+Ce(t)+" ?";i.val(n),e.prepend(i),e.val(n),i.prop("selected",!0)},a.hasOption=function(e){return o.hasOwnProperty(e)},t.$on("$destroy",function(){a.renderUnknownOption=m})}],link:function(s,c,l,u){function d(e,t,n,r){n.$render=function(){var e=n.$viewValue;r.hasOption(e)?(D.parent()&&D.remove(),t.val(e),""===e&&m.prop("selected",!0)):v(e)&&m?t.val(""):r.renderUnknownOption(e)},t.on("change",function(){e.$apply(function(){D.parent()&&D.remove(),n.$setViewValue(t.val())})})}function p(e,t,n){var r;n.$render=function(){var e=new Ae(n.$viewValue);a(t.find("option"),function(t){t.selected=b(e.get(t.value))})},e.$watch(function(){B(r,n.$viewValue)||(r=O(n.$viewValue),n.$render())}),t.on("change",function(){e.$apply(function(){var e=[];a(t.find("option"),function(t){t.selected&&e.push(t.value)}),n.$setViewValue(e)})})}function f(t,a,s){function c(){var e=!1;if(w){var n=s.$modelValue;if(_&&An(n)){e=new Ae([]);for(var r={},i=0;i<n.length;i++)r[p]=n[i],e.put(_(t,r),n[i])}else e=new Ae(n)}return e}function l(){var e,n,r,i,l,u,y,D,k,R,I,C,A,T,P,M={"":[]},N=[""],O=s.$modelValue,B=v(t)||[],L=f?o(B):B,j={},F=c();for(I=0;k=L.length,k>I;I++){if(y=I,f){if(y=L[I],"$"===y.charAt(0))continue;j[f]=y}if(j[p]=B[y],e=m(t,j)||"",(n=M[e])||(n=M[e]=[],N.push(e)),w)C=b(F.remove(_?_(t,j):g(t,j)));else{if(_){var q={};q[p]=O,C=_(t,q)===_(t,j)}else C=O===g(t,j);F=F||C}P=d(t,j),P=b(P)?P:"",n.push({id:_?_(t,j):f?L[I]:I,label:P,selected:C})}for(w||($||null===O?M[""].unshift({id:"",label:"",selected:!F}):F||M[""].unshift({id:"?",label:"",selected:!0})),R=0,D=N.length;D>R;R++){for(e=N[R],n=M[e],E.length<=R?(i={element:S.clone().attr("label",e),label:n.label},l=[i],E.push(l),a.append(i.element)):(l=E[R],i=l[0],i.label!=e&&i.element.attr("label",i.label=e)),A=null,I=0,k=n.length;k>I;I++)r=n[I],(u=l[I+1])?(A=u.element,u.label!==r.label&&(A.text(u.label=r.label),A.prop("label",u.label)),u.id!==r.id&&A.val(u.id=r.id),A[0].selected!==r.selected&&(A.prop("selected",u.selected=r.selected),yn&&A.prop("selected",u.selected))):(""===r.id&&$?T=$:(T=x.clone()).val(r.id).prop("selected",r.selected).attr("selected",r.selected).prop("label",r.label).text(r.label),l.push(u={element:T,label:r.label,id:r.id,selected:r.selected}),h.addOption(r.label,T),A?A.after(T):i.element.append(T),A=T);for(I++;l.length>I;)r=l.pop(),h.removeOption(r.label),r.element.remove()}for(;E.length>R;)E.pop()[0].element.remove()}var u;if(!(u=y.match(i)))throw Ei("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",y,z(a));var d=r(u[2]||u[1]),p=u[4]||u[6],f=u[5],m=r(u[3]||""),g=r(u[2]?u[1]:p),v=r(u[7]),D=u[8],_=D?r(u[8]):null,E=[[{element:a,label:""}]];$&&(e($)(t),$.removeClass("ng-scope"),$.remove()),a.empty(),a.on("change",function(){t.$apply(function(){var e,r,i,o,c,u,d,m,h,b=v(t)||[],y={};if(w){for(i=[],u=0,m=E.length;m>u;u++)for(e=E[u],c=1,d=e.length;d>c;c++)if((o=e[c].element)[0].selected){if(r=o.val(),f&&(y[f]=r),_)for(h=0;h<b.length&&(y[p]=b[h],_(t,y)!=r);h++);else y[p]=b[r];i.push(g(t,y))}}else if(r=a.val(),"?"==r)i=n;else if(""===r)i=null;else if(_){for(h=0;h<b.length;h++)if(y[p]=b[h],_(t,y)==r){i=g(t,y);break}}else y[p]=b[r],f&&(y[f]=r),i=g(t,y);s.$setViewValue(i),l()})}),s.$render=l,t.$watchCollection(v,l),t.$watchCollection(function(){var e={},n=v(t);if(n){for(var r=new Array(n.length),i=0,a=n.length;a>i;i++)e[p]=n[i],r[i]=d(t,e);return r}},l),w&&t.$watchCollection(function(){return s.$modelValue},l)}if(u[1]){for(var m,h=u[0],g=u[1],w=l.multiple,y=l.ngOptions,$=!1,x=$n(t.createElement("option")),S=$n(t.createElement("optgroup")),D=x.clone(),_=0,E=c.children(),k=E.length;k>_;_++)if(""===E[_].value){m=$=E.eq(_);break}h.init(g,$,D),w&&(g.$isEmpty=function(e){return!e||0===e.length}),y?f(s,c,g):w?p(s,c,g):d(s,c,g,h)}}}}],Ii=["$interpolate",function(e){var t={addOption:m,removeOption:m};return{restrict:"E",priority:100,compile:function(n,r){if(v(r.value)){var i=e(n.text(),!0);i||r.$set("value",n.text())}return function(e,n,r){var a="$selectController",o=n.parent(),s=o.data(a)||o.parent().data(a);s&&s.databound?n.prop("selected",!1):s=t,i?e.$watch(i,function(e,t){r.$set("value",e),e!==t&&s.removeOption(t),s.addOption(e)}):s.addOption(r.value),n.on("$destroy",function(){s.removeOption(r.value)})}}}}],Ci=g({restrict:"E",terminal:!0});return e.angular.bootstrap?void console.log("WARNING: Tried to load angular more than once."):(ee(),se(In),void $n(t).ready(function(){Z(t,K)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide{display:none !important;}ng\\:form{display:block;}.ng-animate-block-transitions{transition:0s all!important;-webkit-transition:0s all!important;}.ng-hide-add-active,.ng-hide-remove{display:block!important;}</style>'),define("angular",function(e){return function(){var t;return t||e.angular}}(this)),function(e,t,n){"use strict";t.module("ngAnimate",["ng"]).factory("$$animateReflow",["$$rAF","$document",function(e,t){var n=t[0].body;return function(t){return e(function(){n.offsetWidth+1;t()})}}]).config(["$provide","$animateProvider",function(r,i){function a(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType==d)return n}}function o(e){return t.element(a(e))}function s(e,t){return a(e)==a(t)}var c=t.noop,l=t.forEach,u=i.$$selectors,d=1,p="$$ngAnimateState",f="ng-animate",m={running:!0};r.decorator("$animate",["$delegate","$injector","$sniffer","$rootElement","$$asyncCallback","$rootScope","$document",function(e,n,r,d,h,g,v){function b(e){if(e){var t=[],i={},a=e.substr(1).split(".");(r.transitions||r.animations)&&a.push("");for(var o=0;o<a.length;o++){var s=a[o],c=u[s];c&&!i[s]&&(t.push(n.get(c)),i[s]=!0)}return t}}function w(e,n,r){function i(e,t){var n=e[t],r=e["before"+t.charAt(0).toUpperCase()+t.substr(1)];return n||r?("leave"==t&&(r=n,n=null),$.push({event:t,fn:n}),v.push({event:t,fn:r}),!0):void 0}function a(t,n,i){function a(e){if(n){if((n[e]||c)(),++d<o.length)return;n=null}i()}var o=[];l(t,function(e){e.fn&&o.push(e)});var d=0;l(o,function(t,i){var o=function(){a(i)};switch(t.event){case"setClass":n.push(t.fn(e,s,u,o));break;case"addClass":n.push(t.fn(e,s||r,o));break;case"removeClass":n.push(t.fn(e,u||r,o));break;default:n.push(t.fn(e,o))}}),n&&0===n.length&&i()}var o=e[0];if(o){var s,u,d="setClass"==n,p=d||"addClass"==n||"removeClass"==n;t.isArray(r)&&(s=r[0],u=r[1],r=s+" "+u);var f=e.attr("class"),m=f+" "+r;if(E(m)){var h=c,g=[],v=[],w=c,y=[],$=[],x=(" "+m).replace(/\s+/g,".");return l(b(x),function(e){var t=i(e,n);!t&&d&&(i(e,"addClass"),i(e,"removeClass"))}),{node:o,event:n,className:r,isClassBased:p,isSetClassOperation:d,before:function(e){h=e,a(v,g,function(){h=c,e()})},after:function(e){w=e,a($,y,function(){w=c,e()})},cancel:function(){g&&(l(g,function(e){(e||c)(!0)}),h(!0)),y&&(l(y,function(e){(e||c)(!0)}),w(!0))}}}}}function y(e,n,r,i,a,o,s){function c(t){var i="$animate:"+t;y&&y[i]&&y[i].length>0&&h(function(){r.triggerHandler(i,{event:e,className:n})})}function u(){c("before")}function d(){c("after")}function m(){c("close"),s&&h(function(){s()})}function g(){g.hasBeenRun||(g.hasBeenRun=!0,o())}function v(){if(!v.hasBeenRun){v.hasBeenRun=!0;var t=r.data(p);t&&(b.isClassBased?x(r,n):(h(function(){var t=r.data(p)||{};P==t.index&&x(r,n,e)}),r.data(p,t))),m()}}var b=w(r,e,n);if(!b)return g(),u(),d(),void m();n=b.className;var y=t.element._data(b.node);y=y&&y.events,i||(i=a?a.parent():r.parent());var $=r.data(p)||{},_=$.active||{},E=$.totalActive||0,k=$.last,R=b.isClassBased?$.disabled||k&&!k.isClassBased:!1;if(R||S(r,i))return g(),u(),d(),void v();var I=!1;if(E>0){var C=[];if(b.isClassBased){if("setClass"==k.event)C.push(k),x(r,n);else if(_[n]){var A=_[n];A.event==e?I=!0:(C.push(A),x(r,n))}}else if("leave"==e&&_["ng-leave"])I=!0;else{for(var T in _)C.push(_[T]),x(r,T);_={},E=0}C.length>0&&l(C,function(e){e.cancel()})}if(!b.isClassBased||b.isSetClassOperation||I||(I="addClass"==e==r.hasClass(n)),I)return u(),d(),void m();"leave"==e&&r.one("$destroy",function(e){var n=t.element(this),r=n.data(p);if(r){var i=r.active["ng-leave"];i&&(i.cancel(),x(n,"ng-leave"))}}),r.addClass(f);var P=D++;E++,_[n]=b,r.data(p,{last:b,active:_,index:P,totalActive:E}),u(),b.before(function(t){var i=r.data(p);t=t||!i||!i.active[n]||b.isClassBased&&i.active[n].event!=e,g(),t===!0?v():(d(),b.after(v))})}function $(e){var n=a(e);if(n){var r=t.isFunction(n.getElementsByClassName)?n.getElementsByClassName(f):n.querySelectorAll("."+f);l(r,function(e){e=t.element(e);var n=e.data(p);n&&n.active&&l(n.active,function(e){e.cancel()})})}}function x(e,t){if(s(e,d))m.disabled||(m.running=!1,m.structural=!1);else if(t){var n=e.data(p)||{},r=t===!0;!r&&n.active&&n.active[t]&&(n.totalActive--,delete n.active[t]),(r||!n.totalActive)&&(e.removeClass(f),e.removeData(p))}}function S(e,t){if(m.disabled)return!0;if(s(e,d))return m.disabled||m.running;do{if(0===t.length)break;var n=s(t,d),r=n?m:t.data(p),i=r&&(!!r.disabled||r.running||r.totalActive>0);if(n||i)return i;if(n)return!0}while(t=t.parent());return!0}var D=0;d.data(p,m),g.$$postDigest(function(){g.$$postDigest(function(){m.running=!1})});var _=i.classNameFilter(),E=_?function(e){return _.test(e)}:function(){return!0};return{enter:function(t,n,r,i){this.enabled(!1,t),e.enter(t,n,r),g.$$postDigest(function(){t=o(t),y("enter","ng-enter",t,n,r,c,i)})},leave:function(t,n){$(t),this.enabled(!1,t),g.$$postDigest(function(){y("leave","ng-leave",o(t),null,null,function(){e.leave(t)},n)})},move:function(t,n,r,i){$(t),this.enabled(!1,t),e.move(t,n,r),g.$$postDigest(function(){t=o(t),y("move","ng-move",t,n,r,c,i)})},addClass:function(t,n,r){t=o(t),y("addClass",n,t,null,null,function(){e.addClass(t,n)},r)},removeClass:function(t,n,r){t=o(t),y("removeClass",n,t,null,null,function(){e.removeClass(t,n)},r)},setClass:function(t,n,r,i){t=o(t),y("setClass",[n,r],t,null,null,function(){e.setClass(t,n,r)},i)},enabled:function(e,t){switch(arguments.length){case 2:if(e)x(t);else{var n=t.data(p)||{};n.disabled=!0,t.data(p,n)}break;case 1:m.disabled=!e;break;default:e=!m.disabled}return!!e}}}]),i.register("",["$window","$sniffer","$timeout","$$animateReflow",function(r,i,o,s){function u(e,t){N&&N(),W.push(t),N=s(function(){l(W,function(e){e()}),W=[],N=null,G={}})}function p(e,n){var r=a(e);e=t.element(r),Z.push(e);var i=Date.now()+1e3*n;J>=i||(o.cancel(Y),J=i,Y=o(function(){f(Z),Z=[]},n,!1))}function f(e){l(e,function(e){var t=e.data(q);t&&(t.closeAnimationFn||c)()})}function m(e,t){var n=t?G[t]:null;if(!n){var i,a,o,s,c=0,u=0,p=0,f=0;l(e,function(e){if(e.nodeType==d){var t=r.getComputedStyle(e)||{};o=t[C+O],c=Math.max(h(o),c),s=t[C+B],i=t[C+L],u=Math.max(h(i),u),a=t[T+L],f=Math.max(h(a),f);var n=h(t[T+O]);n>0&&(n*=parseInt(t[T+j],10)||1),p=Math.max(n,p)}}),n={total:0,transitionPropertyStyle:s,transitionDurationStyle:o,transitionDelayStyle:i,transitionDelay:u,transitionDuration:c,animationDelayStyle:a,animationDelay:f,animationDuration:p},t&&(G[t]=n)}return n}function h(e){var n=0,r=t.isString(e)?e.split(/\s*,\s*/):[];return l(r,function(e){n=Math.max(parseFloat(e)||0,n)}),n}function g(e){var t=e.parent(),n=t.data(F);return n||(t.data(F,++X),n=X),n+"-"+a(e).className}function v(e,t,n,r){var i=g(t),a=i+" "+n,o=G[a]?++G[a].total:0,s={};if(o>0){var l=n+"-stagger",u=i+" "+l,d=!G[u];d&&t.addClass(l),s=m(t,u),d&&t.removeClass(l)}r=r||function(e){return e()},t.addClass(n);var p=t.data(q)||{},f=r(function(){return m(t,a)}),h=f.transitionDuration,v=f.animationDuration;if(0===h&&0===v)return t.removeClass(n),!1;t.data(q,{running:p.running||0,itemIndex:o,stagger:s,timings:f,closeAnimationFn:c});var b=p.running>0||"setClass"==e;return h>0&&w(t,n,b),v>0&&s.animationDelay>0&&0===s.animationDuration&&y(t),!0}function b(e){return"ng-enter"==e||"ng-move"==e||"ng-leave"==e}function w(e,t,n){b(t)||!n?a(e).style[C+B]="none":e.addClass(U)}function y(e){a(e).style[T]="none 0s"}function $(e,t){var n=C+B,r=a(e);r.style[n]&&r.style[n].length>0&&(r.style[n]=""),e.removeClass(U)}function x(e){var t=T,n=a(e);n.style[t]&&n.style[t].length>0&&(n.style[t]="")}function S(e,t,n,r){function i(e){t.off(w,o),t.removeClass(u),R(t,n);var r=a(t);for(var i in $)r.style.removeProperty($[i])}function o(e){e.stopPropagation();var t=e.originalEvent||e,n=t.$manualTimeStamp||t.timeStamp||Date.now(),i=parseFloat(t.elapsedTime.toFixed(H));Math.max(n-b,0)>=v&&i>=h&&r()}var s=a(t),c=t.data(q);if(-1==s.className.indexOf(n)||!c)return void r();var u="";l(n.split(" "),function(e,t){u+=(t>0?" ":"")+e+"-active"});var d=c.stagger,f=c.timings,m=c.itemIndex,h=Math.max(f.transitionDuration,f.animationDuration),g=Math.max(f.transitionDelay,f.animationDelay),v=g*z,b=Date.now(),w=P+" "+A,y="",$=[];if(f.transitionDuration>0){var x=f.transitionPropertyStyle;-1==x.indexOf("all")&&(y+=M+"transition-property: "+x+";",y+=M+"transition-duration: "+f.transitionDurationStyle+";",$.push(M+"transition-property"),$.push(M+"transition-duration"))}if(m>0){if(d.transitionDelay>0&&0===d.transitionDuration){var S=f.transitionDelayStyle;y+=M+"transition-delay: "+D(S,d.transitionDelay,m)+"; ",$.push(M+"transition-delay")}d.animationDelay>0&&0===d.animationDuration&&(y+=M+"animation-delay: "+D(f.animationDelayStyle,d.animationDelay,m)+"; ",$.push(M+"animation-delay"))}if($.length>0){var _=s.getAttribute("style")||"";s.setAttribute("style",_+" "+y)}t.on(w,o),t.addClass(u),c.closeAnimationFn=function(){i(),r()};var E=m*(Math.max(d.animationDelay,d.transitionDelay)||0),k=(g+h)*V,I=(E+k)*z;return c.running++,p(t,I),i}function D(e,t,n){var r="";return l(e.split(","),function(e,i){r+=(i>0?",":"")+(n*t+parseInt(e,10))+"s"}),r}function _(e,t,n,r){return v(e,t,n,r)?function(e){e&&R(t,n)}:void 0}function E(e,t,n,r){return t.data(q)?S(e,t,n,r):(R(t,n),void r())}function k(e,t,n,r){var i=_(e,t,n);if(!i)return void r();var a=i;return u(t,function(){$(t,n),x(t),a=E(e,t,n,r)}),function(e){(a||c)(e)}}function R(e,t){e.removeClass(t);var n=e.data(q);n&&(n.running&&n.running--,n.running&&0!==n.running||e.removeData(q))}function I(e,n){var r="";return e=t.isArray(e)?e:e.split(/\s+/),l(e,function(e,t){e&&e.length>0&&(r+=(t>0?" ":"")+e+n)}),r}var C,A,T,P,M="";e.ontransitionend===n&&e.onwebkittransitionend!==n?(M="-webkit-",C="WebkitTransition",A="webkitTransitionEnd transitionend"):(C="transition",A="transitionend"),e.onanimationend===n&&e.onwebkitanimationend!==n?(M="-webkit-",T="WebkitAnimation",P="webkitAnimationEnd animationend"):(T="animation",P="animationend");var N,O="Duration",B="Property",L="Delay",j="IterationCount",F="$$ngAnimateKey",q="$$ngAnimateCSS3Data",U="ng-animate-block-transitions",H=3,V=1.5,z=1e3,G={},X=0,W=[],Y=null,J=0,Z=[];return{enter:function(e,t){return k("enter",e,"ng-enter",t)},leave:function(e,t){return k("leave",e,"ng-leave",t)},move:function(e,t){return k("move",e,"ng-move",t)},beforeSetClass:function(e,t,n,r){var i=I(n,"-remove")+" "+I(t,"-add"),a=_("setClass",e,i,function(r){var i=e.attr("class");e.removeClass(n),e.addClass(t);var a=r();return e.attr("class",i),a});return a?(u(e,function(){$(e,i),x(e),r()}),a):void r()},beforeAddClass:function(e,t,n){var r=_("addClass",e,I(t,"-add"),function(n){e.addClass(t);var r=n();return e.removeClass(t),r});return r?(u(e,function(){$(e,t),x(e),n()}),r):void n()},setClass:function(e,t,n,r){n=I(n,"-remove"),t=I(t,"-add");var i=n+" "+t;return E("setClass",e,i,r)},addClass:function(e,t,n){return E("addClass",e,I(t,"-add"),n)},beforeRemoveClass:function(e,t,n){var r=_("removeClass",e,I(t,"-remove"),function(n){var r=e.attr("class");e.removeClass(t);var i=n();return e.attr("class",r),i});return r?(u(e,function(){$(e,t),x(e),n()}),r):void n()},removeClass:function(e,t,n){return E("removeClass",e,I(t,"-remove"),n)}}}])}])}(window,window.angular),define("ngAnimate",["angular"],function(){}),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(e,t,n){function r(e,t){return L(new(L(function(){},{prototype:e})),t)}function i(e){return B(arguments,function(t){t!==e&&B(t,function(t,n){e.hasOwnProperty(n)||(e[n]=t)})}),e}function a(e,t){var n=[];for(var r in e.path){if(e.path[r]!==t.path[r])break;n.push(e.path[r])}return n}function o(e){if(Object.keys)return Object.keys(e);var n=[];return t.forEach(e,function(e,t){n.push(t)}),n}function s(e,t){if(Array.prototype.indexOf)return e.indexOf(t,Number(arguments[2])||0);var n=e.length>>>0,r=Number(arguments[2])||0;for(r=0>r?Math.ceil(r):Math.floor(r),0>r&&(r+=n);n>r;r++)if(r in e&&e[r]===t)return r;return-1}function c(e,t,n,r){var i,c=a(n,r),l={},u=[];for(var d in c)if(c[d].params&&(i=o(c[d].params),i.length))for(var p in i)s(u,i[p])>=0||(u.push(i[p]),l[i[p]]=e[i[p]]);return L({},l,t)}function l(e,t,n){if(!n){n=[];for(var r in e)n.push(r)}for(var i=0;i<n.length;i++){var a=n[i];if(e[a]!=t[a])return!1}return!0}function u(e,t){var n={};return B(e,function(e){n[e]=t[e]}),n}function d(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var r in e)-1==s(n,r)&&(t[r]=e[r]);return t}function p(e,t){var n=O(e),r=n?[]:{};return B(e,function(e,i){t(e,i)&&(r[n?r.length:i]=e)}),r}function f(e,t){var n=O(e)?[]:{};return B(e,function(e,r){n[r]=t(e,r)}),n}function m(e,t){var r=1,a=2,c={},l=[],u=c,p=L(e.when(c),{$$promises:c,$$values:c});this.study=function(c){function f(e,n){if(b[n]!==a){if(v.push(n),b[n]===r)throw v.splice(0,s(v,n)),new Error("Cyclic dependency: "+v.join(" -> "));if(b[n]=r,M(e))g.push(n,[function(){return t.get(e)}],l);else{var i=t.annotate(e);B(i,function(e){e!==n&&c.hasOwnProperty(e)&&f(c[e],e)}),g.push(n,e,i)}v.pop(),b[n]=a}}function m(e){return N(e)&&e.then&&e.$$promises}if(!N(c))throw new Error("'invocables' must be an object");var h=o(c||{}),g=[],v=[],b={};return B(c,f),c=v=b=null,function(r,a,o){function s(){--y||($||i(w,a.$$values),v.$$values=w,v.$$promises=v.$$promises||!0,delete v.$$inheritedValues,f.resolve(w))}function c(e){v.$$failure=e,f.reject(e)}function l(n,i,a){function l(e){d.reject(e),c(e)}function u(){if(!T(v.$$failure))try{d.resolve(t.invoke(i,o,w)),d.promise.then(function(e){w[n]=e,s()},l)}catch(e){l(e)}}var d=e.defer(),p=0;B(a,function(e){b.hasOwnProperty(e)&&!r.hasOwnProperty(e)&&(p++,b[e].then(function(t){w[e]=t,--p||u()},l))}),p||u(),b[n]=d.promise}if(m(r)&&o===n&&(o=a,a=r,r=null),r){if(!N(r))throw new Error("'locals' must be an object")}else r=u;if(a){if(!m(a))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else a=p;var f=e.defer(),v=f.promise,b=v.$$promises={},w=L({},r),y=1+g.length/3,$=!1;if(T(a.$$failure))return c(a.$$failure),v;a.$$inheritedValues&&i(w,d(a.$$inheritedValues,h)),L(b,a.$$promises),a.$$values?($=i(w,d(a.$$values,h)),v.$$inheritedValues=d(a.$$values,h),s()):(a.$$inheritedValues&&(v.$$inheritedValues=d(a.$$inheritedValues,h)),a.then(s,c));for(var x=0,S=g.length;S>x;x+=3)r.hasOwnProperty(g[x])?s():l(g[x],g[x+1],g[x+2]);return v}},this.resolve=function(e,t,n,r){return this.study(e)(t,n,r)}}function h(e,t,n){this.fromConfig=function(e,t,n){return T(e.template)?this.fromString(e.template,t):T(e.templateUrl)?this.fromUrl(e.templateUrl,t):T(e.templateProvider)?this.fromProvider(e.templateProvider,t,n):null},this.fromString=function(e,t){return P(e)?e(t):e},this.fromUrl=function(n,r){return P(n)&&(n=n(r)),null==n?null:e.get(n,{cache:t,headers:{Accept:"text/html"}}).then(function(e){return e.data})},this.fromProvider=function(e,t,r){return n.invoke(e,null,r||{params:t})}}function g(e,t,i){function a(t,n,r,i){if(g.push(t),m[t])return m[t];if(!/^\w+(-+\w+)*(?:\[\])?$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+e+"'");if(h[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+e+"'");return h[t]=new F.Param(t,n,r,i),h[t]}function o(e,t,n){var r=["",""],i=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return i;switch(n){case!1:r=["(",")"];break;case!0:r=["?(",")?"];break;default:r=["("+n+"|",")?"]}return i+r[0]+t+r[1]}function s(n,i){var a,o,s,c,l;return a=n[2]||n[3],l=t.params[a],s=e.substring(p,n.index),o=i?n[4]:n[4]||("*"==n[1]?".*":null),c=F.type(o||"string")||r(F.type("string"),{pattern:new RegExp(o)}),{id:a,regexp:o,segment:s,type:c,cfg:l}}t=L({params:{}},N(t)?t:{});var c,l=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,u=/([:]?)([\w\[\]-]+)|\{([\w\[\]-]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,d="^",p=0,f=this.segments=[],m=i?i.params:{},h=this.params=i?i.params.$$new():new F.ParamSet,g=[];this.source=e;for(var v,b,w;(c=l.exec(e))&&(v=s(c,!1),!(v.segment.indexOf("?")>=0));)b=a(v.id,v.type,v.cfg,"path"),d+=o(v.segment,b.type.pattern.source,b.squash),f.push(v.segment),p=l.lastIndex;w=e.substring(p);var y=w.indexOf("?");if(y>=0){var $=this.sourceSearch=w.substring(y);if(w=w.substring(0,y),this.sourcePath=e.substring(0,p+y),$.length>0)for(p=0;c=u.exec($);)v=s(c,!0),b=a(v.id,v.type,v.cfg,"search"),p=l.lastIndex}else this.sourcePath=e,this.sourceSearch="";d+=o(w)+(t.strict===!1?"/?":"")+"$",f.push(w),this.regexp=new RegExp(d,t.caseInsensitive?"i":n),this.prefix=f[0],this.$$paramNames=g}function v(e){L(this,e)}function b(){function e(e){return null!=e?e.toString().replace(/\//g,"%2F"):e}function i(e){return null!=e?e.toString().replace(/%2F/g,"/"):e}function a(e){return this.pattern.test(e)}function c(){return{strict:w,caseInsensitive:h}}function l(e){return P(e)||O(e)&&P(e[e.length-1])}function u(){for(;S.length;){var e=S.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");t.extend($[e.name],m.invoke(e.def))}}function d(e){L(this,e||{})}F=this;var m,h=!1,w=!0,y=!1,$={},x=!0,S=[],D={string:{encode:e,decode:i,is:a,pattern:/[^\/]*/},"int":{encode:e,decode:function(e){return parseInt(e,10)},is:function(e){return T(e)&&this.decode(e.toString())===e},pattern:/\d+/},bool:{encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:function(e){return e===!0||e===!1},pattern:/0|1/},date:{encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):n},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):n},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return this.is(e)&&this.is(t)&&e.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:t.toJson,decode:t.fromJson,is:t.isObject,equals:t.equals,pattern:/[^\/]*/},any:{encode:t.identity,decode:t.identity,is:t.identity,equals:t.equals,pattern:/.*/}};b.$$getDefaultValue=function(e){if(!l(e.value))return e.value;if(!m)throw new Error("Injectable functions cannot be called at configuration time");return m.invoke(e.value)},this.caseInsensitive=function(e){return T(e)&&(h=e),h},this.strictMode=function(e){return T(e)&&(w=e),w},this.defaultSquashPolicy=function(e){if(!T(e))return y;if(e!==!0&&e!==!1&&!M(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return y=e,e},this.compile=function(e,t){return new g(e,L(c(),t))},this.isMatcher=function(e){if(!N(e))return!1;var t=!0;return B(g.prototype,function(n,r){P(n)&&(t=t&&T(e[r])&&P(e[r]))}),t},this.type=function(e,t,n){if(!T(t))return $[e];if($.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return $[e]=new v(L({name:e},t)),n&&(S.push({name:e,def:n}),x||u()),this},B(D,function(e,t){$[t]=new v(L({name:t},e))}),$=r($,{}),this.$get=["$injector",function(e){return m=e,x=!1,u(),B(D,function(e,t){$[t]||($[t]=new v(e))}),this}],this.Param=function(e,t,r,i){function a(e){var t=N(e)?o(e):[],n=-1===s(t,"value")&&-1===s(t,"type")&&-1===s(t,"squash")&&-1===s(t,"array");return n&&(e={value:e}),e.$$fn=l(e.value)?e.value:function(){return e.value},e}function c(t,n,r){if(t.type&&n)throw new Error("Param '"+e+"' has two type configurations.");return n?n:t.type?t.type instanceof v?t.type:new v(t.type):"config"===r?$.any:$.string}function u(){var t={array:"search"===i?"auto":!1},n=e.match(/\[\]$/)?{array:!0}:{};return L(t,n,r).array}function d(e,t){var n=e.squash;if(!t||n===!1)return!1;if(!T(n)||null==n)return y;if(n===!0||M(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}function h(e,t,r,i){var a,o,c=[{from:"",to:r||t?n:""},{from:null,to:r||t?n:""}];return a=O(e.replace)?e.replace:[],M(i)&&a.push({from:i,to:n}),o=f(a,function(e){return e.from}),p(c,function(e){return-1===s(o,e.from)}).concat(a)}function g(){if(!m)throw new Error("Injectable functions cannot be called at configuration time");return m.invoke(r.$$fn)}function b(e){function t(e){return function(t){return t.from===e}}function n(e){var n=f(p(x.replace,t(e)),function(e){return e.to});return n.length?n[0]:e}return e=n(e),T(e)?x.type.decode(e):g()}function w(){return"{Param:"+e+" "+t+" squash: '"+_+"' optional: "+D+"}"}var x=this;r=a(r),t=c(r,t,i);var S=u();t=S?t.$asArray(S,"search"===i):t,"string"!==t.name||S||"path"!==i||r.value!==n||(r.value="");var D=r.value!==n,_=d(r,D),E=h(r,S,D,_);L(this,{id:e,type:t,location:i,array:S,squash:_,replace:E,isOptional:D,value:b,dynamic:n,config:r,toString:w})},d.prototype={$$new:function(){return r(this,L(new d,{$$parent:this}))},$$keys:function(){for(var e=[],t=[],n=this,r=o(d.prototype);n;)t.push(n),n=n.$$parent;return t.reverse(),B(t,function(t){B(o(t),function(t){-1===s(e,t)&&-1===s(r,t)&&e.push(t)})}),e},$$values:function(e){var t={},n=this;return B(n.$$keys(),function(r){t[r]=n[r].value(e&&e[r])}),t},$$equals:function(e,t){var n=!0,r=this;return B(r.$$keys(),function(i){var a=e&&e[i],o=t&&t[i];r[i].type.equals(a,o)||(n=!1)}),n},$$validates:function(e){var t,n,r,i=!0,a=this;return B(this.$$keys(),function(o){r=a[o],n=e[o],t=!n&&r.isOptional,i=i&&(t||!!r.type.is(n))}),i},$$parent:n},this.ParamSet=d}function w(e,r){function i(e){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source);return null!=t?t[1].replace(/\\(.)/g,"$1"):""}function a(e,t){return e.replace(/\$(\$|\d{1,2})/,function(e,n){return t["$"===n?0:Number(n)]})}function o(e,t,n){if(!n)return!1;var r=e.invoke(t,t,{$match:n});return T(r)?r:!0}function s(r,i,a,o){function s(e,t,n){return"/"===h?e:t?h.slice(0,-1)+e:n?h.slice(1)+e:e}function p(e){function t(e){var t=e(a,r);return t?(M(t)&&r.replace().url(t),!0):!1}if(!e||!e.defaultPrevented){var i=m&&r.url()===m;if(m=n,i)return!0;var o,s=l.length;for(o=0;s>o;o++)if(t(l[o]))return;u&&t(u)}}function f(){return c=c||i.$on("$locationChangeSuccess",p)}var m,h=o.baseHref(),g=r.url();return d||f(),{sync:function(){p()},listen:function(){return f()},update:function(e){return e?void(g=r.url()):void(r.url()!==g&&(r.url(g),r.replace()))},push:function(e,t,i){r.url(e.format(t||{})),m=i&&i.$$avoidResync?r.url():n,i&&i.replace&&r.replace()},href:function(n,i,a){if(!n.validates(i))return null;var o=e.html5Mode();t.isObject(o)&&(o=o.enabled);var c=n.format(i);if(a=a||{},o||null===c||(c="#"+e.hashPrefix()+c),c=s(c,o,a.absolute),!a.absolute||!c)return c;var l=!o&&c?"/":"",u=r.port();return u=80===u||443===u?"":":"+u,[r.protocol(),"://",r.host(),u,l,c].join("")}}}var c,l=[],u=null,d=!1;this.rule=function(e){if(!P(e))throw new Error("'rule' must be a function");return l.push(e),this},this.otherwise=function(e){if(M(e)){var t=e;e=function(){return t}}else if(!P(e))throw new Error("'rule' must be a function");return u=e,this},this.when=function(e,t){var n,s=M(t);if(M(e)&&(e=r.compile(e)),!s&&!P(t)&&!O(t))throw new Error("invalid 'handler' in when()");var c={matcher:function(e,t){return s&&(n=r.compile(t),t=["$match",function(e){return n.format(e)}]),L(function(n,r){return o(n,t,e.exec(r.path(),r.search()))},{prefix:M(e.prefix)?e.prefix:""})},regex:function(e,t){if(e.global||e.sticky)throw new Error("when() RegExp must not be global or sticky");return s&&(n=t,t=["$match",function(e){return a(n,e)}]),L(function(n,r){return o(n,t,e.exec(r.path()))},{prefix:i(e)})}},l={matcher:r.isMatcher(e),regex:e instanceof RegExp};for(var u in l)if(l[u])return this.rule(c[u](e,t));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(e){e===n&&(e=!0),d=e},this.$get=s,s.$inject=["$location","$rootScope","$injector","$browser"]}function y(e,i){function a(e){return 0===e.indexOf(".")||0===e.indexOf("^")}function d(e,t){if(!e)return n;var r=M(e),i=r?e:e.name,o=a(i);if(o){if(!t)throw new Error("No reference point given for path '"+i+"'");t=d(t);for(var s=i.split("."),c=0,l=s.length,u=t;l>c;c++)if(""!==s[c]||0!==c){if("^"!==s[c])break;if(!u.parent)throw new Error("Path '"+i+"' not valid for state '"+t.name+"'");u=u.parent}else u=t;s=s.slice(c).join("."),i=u.name+(u.name&&s?".":"")+s}var p=D[i];return!p||!r&&(r||p!==e&&p.self!==e)?n:p}function p(e,t){_[e]||(_[e]=[]),_[e].push(t)}function m(e){for(var t=_[e]||[];t.length;)h(t.shift())}function h(t){t=r(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}});var n=t.name;if(!M(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(D.hasOwnProperty(n))throw new Error("State '"+n+"'' is already defined");var i=-1!==n.indexOf(".")?n.substring(0,n.lastIndexOf(".")):M(t.parent)?t.parent:N(t.parent)&&M(t.parent.name)?t.parent.name:"";if(i&&!D[i])return p(i,t.self);for(var a in k)P(k[a])&&(t[a]=k[a](t,k.$delegates[a]));return D[n]=t,!t[E]&&t.url&&e.when(t.url,["$match","$stateParams",function(e,n){S.$current.navigable==t&&l(e,n)||S.transitionTo(t,e,{inherit:!0,location:!1})}]),m(n),t}function g(e){return e.indexOf("*")>-1}function v(e){var t=e.split("."),n=S.$current.name.split(".");if("**"===t[0]&&(n=n.slice(s(n,t[1])),n.unshift("**")),"**"===t[t.length-1]&&(n.splice(s(n,t[t.length-2])+1,Number.MAX_VALUE),n.push("**")),t.length!=n.length)return!1;for(var r=0,i=t.length;i>r;r++)"*"===t[r]&&(n[r]="*");return n.join("")===t.join("")}function b(e,t){return M(e)&&!T(t)?k[e]:P(t)&&M(e)?(k[e]&&!k.$delegates[e]&&(k.$delegates[e]=k[e]),k[e]=t,this):this}function w(e,t){return N(e)?t=e:t.name=e,h(t),this}function y(e,i,a,s,p,m,h,b,w){function y(t,n,r,a){var o=e.$broadcast("$stateNotFound",t,n,r);if(o.defaultPrevented)return h.update(),I;if(!o.retry)return null;if(a.$retry)return h.update(),C;var s=S.transition=i.when(o.retry);return s.then(function(){return s!==S.transition?k:(t.options.$retry=!0,S.transitionTo(t.to,t.toParams,t.options))},function(){return I}),h.update(),s}function _(e,n,r,o,c,l){var d=r?n:u(e.params.$$keys(),n),f={$stateParams:d};c.resolve=p.resolve(e.resolve,f,c.resolve,e);var m=[c.resolve.then(function(e){c.globals=e})];return o&&m.push(o),B(e.views,function(n,r){var i=n.resolve&&n.resolve!==e.resolve?n.resolve:{};i.$template=[function(){return a.load(r,{view:n,locals:f,params:d,notify:l.notify})||""}],m.push(p.resolve(i,f,c.resolve,e).then(function(a){if(P(n.controllerProvider)||O(n.controllerProvider)){var o=t.extend({},i,f);a.$$controller=s.invoke(n.controllerProvider,null,o)}else a.$$controller=n.controller;a.$$state=e,a.$$controllerAs=n.controllerAs,c[r]=a}))}),i.all(m).then(function(e){return c})}var k=i.reject(new Error("transition superseded")),R=i.reject(new Error("transition prevented")),I=i.reject(new Error("transition aborted")),C=i.reject(new Error("transition failed"));return x.locals={resolve:null,globals:{$stateParams:{}}},S={params:{},current:x.self,$current:x,transition:null},S.reload=function(){return S.transitionTo(S.current,m,{reload:!0,
inherit:!1,notify:!0})},S.go=function(e,t,n){return S.transitionTo(e,t,L({inherit:!0,relative:S.$current},n))},S.transitionTo=function(t,n,a){n=n||{},a=L({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},a||{});var o,l=S.$current,p=S.params,f=l.path,g=d(t,a.relative);if(!T(g)){var v={to:t,toParams:n,options:a},b=y(v,l.self,p,a);if(b)return b;if(t=v.to,n=v.toParams,a=v.options,g=d(t,a.relative),!T(g)){if(!a.relative)throw new Error("No such state '"+t+"'");throw new Error("Could not resolve '"+t+"' from state '"+a.relative+"'")}}if(g[E])throw new Error("Cannot transition to abstract state '"+t+"'");if(a.inherit&&(n=c(m,n||{},S.$current,g)),!g.params.$$validates(n))return C;n=g.params.$$values(n),t=g;var w=t.path,D=0,I=w[D],A=x.locals,P=[];if(!a.reload)for(;I&&I===f[D]&&I.ownParams.$$equals(n,p);)A=P[D]=I.locals,D++,I=w[D];if($(t,l,A,a))return t.self.reloadOnSearch!==!1&&h.update(),S.transition=null,i.when(S.current);if(n=u(t.params.$$keys(),n||{}),a.notify&&e.$broadcast("$stateChangeStart",t.self,n,l.self,p).defaultPrevented)return h.update(),R;for(var M=i.when(A),N=D;N<w.length;N++,I=w[N])A=P[N]=r(A),M=_(I,n,I===t,M,A,a);var O=S.transition=M.then(function(){var r,i,o;if(S.transition!==O)return k;for(r=f.length-1;r>=D;r--)o=f[r],o.self.onExit&&s.invoke(o.self.onExit,o.self,o.locals.globals),o.locals=null;for(r=D;r<w.length;r++)i=w[r],i.locals=P[r],i.self.onEnter&&s.invoke(i.self.onEnter,i.self,i.locals.globals);return S.transition!==O?k:(S.$current=t,S.current=t.self,S.params=n,j(S.params,m),S.transition=null,a.location&&t.navigable&&h.push(t.navigable.url,t.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===a.location}),a.notify&&e.$broadcast("$stateChangeSuccess",t.self,n,l.self,p),h.update(!0),S.current)},function(r){return S.transition!==O?k:(S.transition=null,o=e.$broadcast("$stateChangeError",t.self,n,l.self,p,r),o.defaultPrevented||h.update(),i.reject(r))});return O},S.is=function(e,t,r){r=L({relative:S.$current},r||{});var i=d(e,r.relative);return T(i)?S.$current!==i?!1:t?l(i.params.$$values(t),m):!0:n},S.includes=function(e,t,r){if(r=L({relative:S.$current},r||{}),M(e)&&g(e)){if(!v(e))return!1;e=S.$current.name}var i=d(e,r.relative);return T(i)?T(S.$current.includes[i.name])?t?l(i.params.$$values(t),m,o(t)):!0:!1:n},S.href=function(e,t,r){r=L({lossy:!0,inherit:!0,absolute:!1,relative:S.$current},r||{});var i=d(e,r.relative);if(!T(i))return null;r.inherit&&(t=c(m,t||{},S.$current,i));var a=i&&r.lossy?i.navigable:i;return a&&a.url!==n&&null!==a.url?h.href(a.url,u(i.params.$$keys(),t||{}),{absolute:r.absolute}):null},S.get=function(e,t){if(0===arguments.length)return f(o(D),function(e){return D[e].self});var n=d(e,t||S.$current);return n&&n.self?n.self:null},S}function $(e,t,n,r){return e!==t||(n!==t.locals||r.reload)&&e.self.reloadOnSearch!==!1?void 0:!0}var x,S,D={},_={},E="abstract",k={parent:function(e){if(T(e.parent)&&e.parent)return d(e.parent);var t=/^(.+)\.[^.]+$/.exec(e.name);return t?d(t[1]):x},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=L({},e.parent.data,e.data)),e.data},url:function(e){var t=e.url,n={params:e.params||{}};if(M(t))return"^"==t.charAt(0)?i.compile(t.substring(1),n):(e.parent.navigable||x).url.concat(t,n);if(!t||i.isMatcher(t))return t;throw new Error("Invalid url '"+t+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},ownParams:function(e){var t=e.url&&e.url.params||new F.ParamSet;return B(e.params||{},function(e,n){t[n]||(t[n]=new F.Param(n,null,e,"config"))}),t},params:function(e){return e.parent&&e.parent.params?L(e.parent.params.$$new(),e.ownParams):new F.ParamSet},views:function(e){var t={};return B(T(e.views)?e.views:{"":e},function(n,r){r.indexOf("@")<0&&(r+="@"+e.parent.name),t[r]=n}),t},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(e){var t=e.parent?L({},e.parent.includes):{};return t[e.name]=!0,t},$delegates:{}};x=h({name:"",url:"^",views:null,"abstract":!0}),x.navigable=null,this.decorator=b,this.state=w,this.$get=y,y.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function $(){function e(e,t){return{load:function(n,r){var i,a={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return r=L(a,r),r.view&&(i=t.fromConfig(r.view,r.params,r.locals)),i&&r.notify&&e.$broadcast("$viewContentLoading",r),i}}}this.$get=e,e.$inject=["$rootScope","$templateFactory"]}function x(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,n){return e?t:function(e){n(function(){e[0].scrollIntoView()},0,!1)}}]}function S(e,n,r,i){function a(){return n.has?function(e){return n.has(e)?n.get(e):null}:function(e){try{return n.get(e)}catch(t){return null}}}function o(e,t){var n=function(){return{enter:function(e,t,n){t.after(e),n()},leave:function(e,t){e.remove(),t()}}};if(l)return{enter:function(e,t,n){var r=l.enter(e,null,t,n);r&&r.then&&r.then(n)},leave:function(e,t){var n=l.leave(e,t);n&&n.then&&n.then(t)}};if(c){var r=c&&c(t,e);return{enter:function(e,t,n){r.enter(e,null,t),n()},leave:function(e,t){r.leave(e),t()}}}return n()}var s=a(),c=s("$animator"),l=s("$animate"),u={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,a,s){return function(n,a,c){function l(){d&&(d.remove(),d=null),f&&(f.$destroy(),f=null),p&&(v.leave(p,function(){d=null}),d=p,p=null)}function u(o){var u,d=_(n,c,a,i),b=d&&e.$current&&e.$current.locals[d];if(o||b!==m){u=n.$new(),m=e.$current.locals[d];var w=s(u,function(e){v.enter(e,a,function(){f&&f.$emit("$viewContentAnimationEnded"),(t.isDefined(g)&&!g||n.$eval(g))&&r(e)}),l()});p=w,f=u,f.$emit("$viewContentLoaded"),f.$eval(h)}}var d,p,f,m,h=c.onload||"",g=c.autoscroll,v=o(c,n);n.$on("$stateChangeSuccess",function(){u(!1)}),n.$on("$viewContentLoading",function(){u(!1)}),u(!0)}}};return u}function D(e,t,n,r){return{restrict:"ECA",priority:-400,compile:function(i){var a=i.html();return function(i,o,s){var c=n.$current,l=_(i,s,o,r),u=c&&c.locals[l];if(u){o.data("$uiView",{name:l,state:u.$$state}),o.html(u.$template?u.$template:a);var d=e(o.contents());if(u.$$controller){u.$scope=i;var p=t(u.$$controller,u);u.$$controllerAs&&(i[u.$$controllerAs]=p),o.data("$ngControllerController",p),o.children().data("$ngControllerController",p)}d(i)}}}}}function _(e,t,n,r){var i=r(t.uiView||t.name||"")(e),a=n.inheritedData("$uiView");return i.indexOf("@")>=0?i:i+"@"+(a?a.state.name:"")}function E(e,t){var n,r=e.match(/^\s*({[^}]*})\s*$/);if(r&&(e=t+"("+r[1]+")"),n=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!n||4!==n.length)throw new Error("Invalid state ref '"+e+"'");return{state:n[1],paramExpr:n[3]||null}}function k(e){var t=e.parent().inheritedData("$uiView");return t&&t.state&&t.state.name?t.state:void 0}function R(e,n){var r=["location","inherit","reload"];return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(i,a,o,s){var c=E(o.uiSref,e.current.name),l=null,u=k(a)||e.$current,d=null,p="A"===a.prop("tagName"),f="FORM"===a[0].nodeName,m=f?"action":"href",h=!0,g={relative:u,inherit:!0},v=i.$eval(o.uiSrefOpts)||{};t.forEach(r,function(e){e in v&&(g[e]=v[e])});var b=function(n){if(n&&(l=t.copy(n)),h){d=e.href(c.state,l,g);var r=s[1]||s[0];return r&&r.$$setStateInfo(c.state,l),null===d?(h=!1,!1):void o.$set(m,d)}};c.paramExpr&&(i.$watch(c.paramExpr,function(e,t){e!==l&&b(e)},!0),l=t.copy(i.$eval(c.paramExpr))),b(),f||a.bind("click",function(t){var r=t.which||t.button;if(!(r>1||t.ctrlKey||t.metaKey||t.shiftKey||a.attr("target"))){var i=n(function(){e.go(c.state,l,g)});t.preventDefault();var o=p&&!d?1:0;t.preventDefault=function(){o--<=0&&n.cancel(i)}}})}}}function I(e,t,n){return{restrict:"A",controller:["$scope","$element","$attrs",function(t,r,i){function a(){o()?r.addClass(l):r.removeClass(l)}function o(){return"undefined"!=typeof i.uiSrefActiveEq?s&&e.is(s.name,c):s&&e.includes(s.name,c)}var s,c,l;l=n(i.uiSrefActiveEq||i.uiSrefActive||"",!1)(t),this.$$setStateInfo=function(t,n){s=e.get(t,k(r)),c=n,a()},t.$on("$stateChangeSuccess",a)}]}}function C(e){var t=function(t){return e.is(t)};return t.$stateful=!0,t}function A(e){var t=function(t){return e.includes(t)};return t.$stateful=!0,t}var T=t.isDefined,P=t.isFunction,M=t.isString,N=t.isObject,O=t.isArray,B=t.forEach,L=t.extend,j=t.copy;t.module("ui.router.util",["ng"]),t.module("ui.router.router",["ui.router.util"]),t.module("ui.router.state",["ui.router.router","ui.router.util"]),t.module("ui.router",["ui.router.state"]),t.module("ui.router.compat",["ui.router"]),m.$inject=["$q","$injector"],t.module("ui.router.util").service("$resolve",m),h.$inject=["$http","$templateCache","$injector"],t.module("ui.router.util").service("$templateFactory",h);var F;g.prototype.concat=function(e,t){var n={caseInsensitive:F.caseInsensitive(),strict:F.strictMode(),squash:F.defaultSquashPolicy()};return new g(this.sourcePath+e+this.sourceSearch,L(n,t),this)},g.prototype.toString=function(){return this.source},g.prototype.exec=function(e,t){function n(e){function t(e){return e.split("").reverse().join("")}function n(e){return e.replace(/\\-/,"-")}var r=t(e).split(/-(?!\\)/),i=f(r,t);return f(i,n).reverse()}var r=this.regexp.exec(e);if(!r)return null;t=t||{};var i,a,o,s=this.parameters(),c=s.length,l=this.segments.length-1,u={};if(l!==r.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(i=0;l>i;i++){o=s[i];var d=this.params[o],p=r[i+1];for(a=0;a<d.replace;a++)d.replace[a].from===p&&(p=d.replace[a].to);p&&d.array===!0&&(p=n(p)),u[o]=d.value(p)}for(;c>i;i++)o=s[i],u[o]=this.params[o].value(t[o]);return u},g.prototype.parameters=function(e){return T(e)?this.params[e]||null:this.$$paramNames},g.prototype.validates=function(e){return this.params.$$validates(e)},g.prototype.format=function(e){function t(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})}e=e||{};var n=this.segments,r=this.parameters(),i=this.params;if(!this.validates(e))return null;var a,o=!1,s=n.length-1,c=r.length,l=n[0];for(a=0;c>a;a++){var u=s>a,d=r[a],p=i[d],m=p.value(e[d]),h=p.isOptional&&p.type.equals(p.value(),m),g=h?p.squash:!1,v=p.type.encode(m);if(u){var b=n[a+1];if(g===!1)null!=v&&(l+=O(v)?f(v,t).join("-"):encodeURIComponent(v)),l+=b;else if(g===!0){var w=l.match(/\/$/)?/\/?(.*)/:/(.*)/;l+=b.match(w)[1]}else M(g)&&(l+=g+b)}else{if(null==v||h&&g!==!1)continue;O(v)||(v=[v]),v=f(v,encodeURIComponent).join("&"+d+"="),l+=(o?"&":"?")+(d+"="+v),o=!0}}return l},v.prototype.is=function(e,t){return!0},v.prototype.encode=function(e,t){return e},v.prototype.decode=function(e,t){return e},v.prototype.equals=function(e,t){return e==t},v.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},v.prototype.pattern=/.*/,v.prototype.toString=function(){return"{Type:"+this.name+"}"},v.prototype.$asArray=function(e,t){function r(e,t){function r(e,t){return function(){return e[t].apply(e,arguments)}}function i(e){return O(e)?e:T(e)?[e]:[]}function a(e){switch(e.length){case 0:return n;case 1:return"auto"===t?e[0]:e;default:return e}}function o(e){return!e}function s(e,t){return function(n){n=i(n);var r=f(n,e);return t===!0?0===p(r,o).length:a(r)}}function c(e){return function(t,n){var r=i(t),a=i(n);if(r.length!==a.length)return!1;for(var o=0;o<r.length;o++)if(!e(r[o],a[o]))return!1;return!0}}this.encode=s(r(e,"encode")),this.decode=s(r(e,"decode")),this.is=s(r(e,"is"),!0),this.equals=c(r(e,"equals")),this.pattern=e.pattern,this.$arrayMode=t}if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new r(this,e)},t.module("ui.router.util").provider("$urlMatcherFactory",b),t.module("ui.router.util").run(["$urlMatcherFactory",function(e){}]),w.$inject=["$locationProvider","$urlMatcherFactoryProvider"],t.module("ui.router.router").provider("$urlRouter",w),y.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],t.module("ui.router.state").value("$stateParams",{}).provider("$state",y),$.$inject=[],t.module("ui.router.state").provider("$view",$),t.module("ui.router.state").provider("$uiViewScroll",x),S.$inject=["$state","$injector","$uiViewScroll","$interpolate"],D.$inject=["$compile","$controller","$state","$interpolate"],t.module("ui.router.state").directive("uiView",S),t.module("ui.router.state").directive("uiView",D),R.$inject=["$state","$timeout"],I.$inject=["$state","$stateParams","$interpolate"],t.module("ui.router.state").directive("uiSref",R).directive("uiSrefActive",I).directive("uiSrefActiveEq",I),C.$inject=["$state"],A.$inject=["$state"],t.module("ui.router.state").filter("isState",C).filter("includedByState",A)}(window,window.angular),define("uiRouter",["angular"],function(e){return function(){var t;return t||e.uiRouter}}(this)),define("configs/navData",["angular"],function(e){return function(e){e.constant("navData",[{name:"我的账户",state:"account","abstract":!0,params:{},subState:[{name:"我的账户",state:"account.myaccount",params:{},className:"invest"},{name:"资金管理",params:{},className:"invest",subState:[{name:"充值提现",state:"account.rechargeAndCash",params:{},className:"invest"},{name:"账户充值",state:"account.recharge",params:{},className:"invest hide"},{name:"账户提现",state:"account.withdrawals",params:{},className:"invest hide"},{name:"支付账户",state:"account.payAccount",params:{},className:"invest"},{name:"银行卡",state:"account.bankCard",params:{},className:"invest corpBorrow"},{name:"资金记录",state:"account.accountRecord",params:{},className:"invest"}]},{name:"投资管理",params:{},className:"invest",subState:[{name:"投资记录",state:"account.myinvest",params:{},className:"invest"},{name:"回款计划",state:"account.payment",params:{},className:"invest"}]},{name:"借款管理",params:{},className:"borrow",subState:[{name:"借款详情",state:"account.borrowdetail",params:{},className:"invest borrow"},{name:"还款详情",state:"account.back",params:{},className:"invest borrow"},{name:"信用额度",state:"account.credit",params:{},className:"invest borrow"},{name:"证明资料",state:"account.material",params:{},className:"invest borrow"}]},{name:"担保管理",params:{},className:"guarantee",subState:[{name:"担保借款",state:"account.guaranteeBorrow",params:{},className:"invest guarantee"},{name:"担保详情",state:"account.guaranteeBack",params:{},className:"invest guarantee"}]},{name:"好友邀请",state:"account.invitation",params:{},className:"invest"},{name:"我的消息",state:"account.message",params:{},className:"invest"},{name:"我的优惠",state:"account.discount",params:{},className:"invest"},{name:"账户设置",state:"account.accountSet",params:{},className:"invest"},{name:"更换头像",state:"account.photoChange",params:{},className:"hide photo"}]},{name:"首页",state:"home",params:{}},{name:"首页活动",state:"homeActivity",params:{id:null}},{name:"登陆",state:"login",params:{},subState:[{name:"企业借款登陆",state:"login.corpBorrow",params:{id:null,uid:null}},{name:"修改密码",state:"login.modifyPsw",params:{}},{name:"修改邮箱",state:"login.modifyEmail",params:{}},{name:"忘记密码-手机",state:"login.getbackMob",params:{}},{name:"忘记密码-邮箱",state:"login.getbackEma",params:{}},{name:"忘记密码-手机验证",state:"login.checkPsw",params:{}},{name:"忘记密码-修改成功",state:"login.modifySuc",params:{}},{name:"忘记密码-邮箱验证",state:"login.checkEma",params:{}}]},{name:"注册",state:"register",params:{},subState:[{name:"注册第二步",state:"register.registerSec",params:{}},{name:"注册第三步",state:"register.activateEmailSucc",params:{}},{name:"邮箱已经激活",state:"register.activatedEma",params:{}},{name:"链接失效",state:"register.linkFailure",params:{}}]},{name:"我要投资",state:"invest",params:{type:null}},{name:"标详情",state:"borrowDetail",params:{id:null}},{name:"标详情预览",state:"borrowPreview",params:{id:null}},{name:"文章",state:"article",params:{},subState:[{name:"平台简介",state:"article.aboutus",params:{},articleType:"平台简介"},{name:"网站公告",state:"article.webtips",articleType:"website"},{name:"常见问题",state:"article.faq",params:{},articleType:"常见问题"},{name:"法律声明",state:"article.law",params:{},articleType:"法律声明"},{name:"联系我们",state:"article.contactus",params:{},articleType:"联系我们"},{name:"文章详情",state:"article.articleDetail",params:{id:null,type:null},isNavItem:!1}]},{name:"新手指引",state:"newuser",params:{}},{name:"错误页面",state:"error",params:{status:null}},{name:"支付结果",state:"payResult",params:{},subState:[{name:"跳第三方",state:"payResult.payThird",params:{}}]},{name:"我要借款",state:"borrow",params:{}},{name:"新手任务",state:"newTask",params:{}},{name:"APP下载",state:"app_down",params:{}},{name:"活动页",state:"activities",params:{}},{name:"艺术品",state:"art",params:{}}])}}),define("configs/router",["angular"],function(){return function(e){e.config(["$stateProvider","$urlRouterProvider","navData","$httpProvider",function(e,t,n,r){function i(e){angular.forEach(e,function(e,t){var n={};n.name=e.name,n.state=e.state,n.params=e.params,n.url="/"+e.state;for(var r in n.params)n.url=n.url+"/:"+r;n.template='<div ng-component="modules/'+e.state+"/"+e.state+'"></div>',a.push(n),e.subState&&e.subState.length>0&&angular.forEach(e.subState,function(e,t){if(e.state){var n,r={};r.name=e.name,r.state=e.state,r.params=e.params;var n=e.state.indexOf(".")+1;r.url="/"+e.state.substr(n).replace(/\./g,"/");for(var i in r.params)r.url=r.url+"/:"+i;r.template='<div ng-component="modules/'+e.state.replace(/\./g,"/")+'"></div>',a.push(r)}e.subState&&e.subState.length>0&&angular.forEach(e.subState,function(e,t){var n,r={};r.name=e.name,r.state=e.state,r.params=e.params;var n=e.state.indexOf(".")+1;r.url="/"+e.state.substr(n).replace(/\./g,"/");for(var i in r.params)r.url=r.url+"/:"+i;r.template='<div ng-component="modules/'+e.state.replace(/\./g,"/")+'"></div>',a.push(r)})})})}r.defaults.useXDomain=!0,delete r.defaults.headers.common["X-Request-With"];var a=[];i(n),angular.forEach(a,function(t){e.state(t.state,{name:t.name,url:t.url,template:t.template,params:t.params})})}])}}),define("configs/G",["angular"],function(e){return function(t){t.run(["$rootScope","$state","$stateParams","$location",function(e,t,n,r){e.$on("$locationChangeStart",function(n){Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length>>>0,n=Number(arguments[1])||0;for(n=0>n?Math.ceil(n):Math.floor(n),0>n&&(n+=t);t>n;n++)if(n in this&&this[n]===e)return n;return-1}),t.includes("account")&&""==e.user.name})}]).run(["validator","defaultErrorMessageResolver",function(e,t){t.getErrorMessages().then(function(e){e.required="必填项",e.minlength="输入不能少于{0}个字符",e.maxlength="输入不能多于{0}个字符",e.pattern="格式不正确",e.email="邮箱格式不正确",e.number="输入必须是数字",e.url="格式不正确",e.min="输入不能小于{0}",e.max="输入不能大于{0}",e.dymin="输入不能小于{0}",e.dymax="输入不能大于{0}",e.loginError="用户名或者密码错误",e.validateError="验证码不能为空",e.repeat="两次密码不一致",e.repeatCode="两次账号不一致",e.investValidate="余额不足{0}<a>请充值</a>",e.ProtocolError="请勾选协议",e.UserError="请输入4-16位字符,由英文字母、数字组成,且不能为纯数字",e.recommendError="请输入4-16位字符,由英文字母、数字组成",e.EmailError="请输入正确的邮箱",e.PhoneError="请输入正确的手机号码",e.PasswordError="请输8~16位数字及英文字母，其中至少包含一个字母和一个数字",e["remote-user"]="该用户名已被注册，请重新输入",e["remote-email"]="该邮箱已被绑定，请重新输入",e["remote-phone"]="该手机号码已被注册，请重新输入",e.WithdrawError="请输入正确的金额，金额最多带两位小数",e.RechargeError="请输入正确的金额，金额为整数",e.Integer="请输入一个整数",e.Float="只能输入数字，最多带两位小数",e.realName="格式不正确，请输入真实姓名",e.MonthInteger="请输入一个不超过36的月份数",e.DayInteger="请输入一个3位以内的天数",e.loginRequired1="用户名不能为空",e.loginRequired2="密码不能为空",e["remote-friend"]="好友推荐人不存在",e.minUser="用户名不能小于4位",e.invalidcharacter="存在非法字符!"}),e.setValidElementStyling(!1)}]).factory("G",["$rootScope","$window","$injector","$location","$cookieStore",function(t,n,r,i,a){function o(){this.interfaceType=1,this.user={}}o.prototype={construtor:o,init:function(e,t,n){},useMockInterface:function(e){this.interfaceType=e},jumpLoginPage:function(){var e=r.get("$state");return t.login.beforeLogin=!0,t.login.afterLogin=!1,e.go("login"),!1},jumpErrorPage:function(e){var t=r.get("$state");return t.go("error",{status:e.status}),!1},index:function(e,t){for(var n=0;n<t.length;n++)if(t[n]==e)return n;return null},getIndex:function(e){for(var t=0;null!=(e=e.previousSibling);)1==e.nodeType&&t++;return t},getElement:function(e,t,n){for(var r=e.getElementsByTagName(n),i=[],a=0;a<r.length;a++)for(var o=0,s=r[a].className.split(" ");o<s.length;o++)if(s[o]==t){i.push(r[a]);break}return i},reSetNav:function(){var e=document.getElementById("main-nav"),n=this.getElement(e,"borrow","li");if(t.user.id&&t.user.canBorrow)for(var r=0;r<n.length;r++)n[r].style.display="block";else for(var r=0;r<n.length;r++)n[r].style.display="none"},getBrowser:function(){function e(e){e=e.toLowerCase();var n=t.exec(e)||r.exec(e)||i.exec(e)||e.indexOf("compatible")<0&&a.exec(e)||[];return{browser:n[1]||"",version:n[2]||"0"}}var t=/(webkit)[ \/]([\w.]+)/,r=/(opera)(?:.*version)?[ \/]([\w.]+)/,i=/(msie) ([\w.]+)/,a=/(mozilla)(?:.*? rv:([\w.]+))?/,o=n.navigator.userAgent;return e(o)},isIE8:function(){var e=this.getBrowser();return"msie"==e.browser&&"8.0"==e.version?!0:!1},updateMessageAmount:function(){var e=r.get("cService");e.ajax({url:"user/message",method:"get"}).success(function(e){t.user.isNotReadedMessage=e;var n=t.user;a.put("curUser",n)})},GetCurrentStyle:function(e,t){if(e.currentStyle)return t=t.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()}),e.currentStyle[t];if(document.defaultView&&document.defaultView.getComputedStyle){var n=t.replace(/([A-Z])/g,"-$1");return n=t.toLowerCase(),document.defaultView.getComputedStyle(e,null)[n]}return null},getElementAbsPos:function(e){for(var t=e.offsetTop,n=e.offsetLeft;e=e.offsetParent;)t+=e.offsetTop,n+=e.offsetLeft;return{left:n,top:t}},removeInlineStyle:function(e,t){var n,r=0,i=0,a=["-left","-top","-right","-bottom"];for("string"==typeof t&&(t=[t]),r;r<t.length;r++)if(e.style.removeProperty)e.style.removeProperty(t[r]);else if(t[r].match(/border/))for(i;i<a.length;i++)n=t[r].replace(/(border)/,"$1"+a[i]),n=n.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()}),e.style.removeAttribute(n);else t[r]=t[r].replace(/\-(\w)/g,function(e,t){return t.toUpperCase()}),e.style.removeAttribute(t[r])},addCookie:function(t,n,r){a.put(t,n),r||(r=.5),n=e.toJson(n);var i=t+"="+n;if(r>0){var o=new Date,s=3600*r*1e3;o.setTime(o.getTime()+s),i+="; expires="+o.toGMTString()}document.cookie=i}};var s=new o;return window._G=s,s}]).directive("rdSwitch",function(){function t(e,t){t.switchType=t.switchType||"type",t.activeClass=t.activeClass||"active",e.switchAction=e.switchAction||function(){}}return{scope:{activeType:"@",switchAction:"&",categories:"="},link:function(n,r,i){function a(){void 0!=n.activeType&&e.forEach(o,function(t){var r=e.element(t);r.attr(i.switchType)==n.activeType&&(o.removeClass(i.activeClass),r.addClass(i.activeClass))}),i.switchInit&&setTimeout(function(){e.forEach(o,function(t){var r=e.element(t);r.attr(i.switchType)==n.activeType&&(o.removeClass(i.activeClass),r.addClass(i.activeClass),n.switchAction({switchType:i.switchInit}))})},"800"),o.on("click",function(){var t=e.element(this);o.removeClass(i.activeClass),t.addClass(i.activeClass);var r={};r[i.switchType]=t.attr(i.switchType),n.switchAction(r)})}t(n,i);var o=r.children();a(),n.$watch("categories",function(e,t){e&&(o=r.children(),a())})}}}).directive("confirmInsert",function(){return{require:"ngModel",link:function(e,t,n,r){var i;e.$watch(n.confirmInsert,function(){i&&r.$setViewValue(i)}),r.$parsers.push(function(t){r.$setValidity("repeatCode",t==e.$eval(n.confirmInsert)),i=t})}}}).directive("formatNum",function(){return{require:"ngModel",scope:{formatValue:"&formatValue"},link:function(e,t,n,r){t[0].onkeyup=function(){e.formatValue()}}}}).directive("remoteValidation",["$http",function(e){return{require:"ngModel",link:function(t,n,r,i){var a=r.remote.split("/"),o={};n.bind("focus",function(){i.$setValidity(a[1],!0)}),n.bind("blur",function(){t.$eval(r.ngModel)&&(o[a[0]]=t.$eval(r.ngModel),e({method:"post",url:r.remoteValidation,params:o,headers:{"Content-Type":"application/x-www-form-urlencoded","x-requested-with":"XMLHttpRequest"}}).success(function(e){"true"==e||""==e?i.$setValidity(a[1],!0):i.$setValidity(a[1],!1)}).error(function(e,t,n,r){i.$setValidity(a[1],!1)}))})}}}]).directive("popTipbox",function(){function e(e){e.on("mouseleave",function(){e.children()[1].style.display="none"}),e.on("mouseenter",function(){e.children()[1].style.display="block"})}return{restrict:"A",transclude:!0,template:'<span ng-transclude></span><div class="poptip"><p class="poptipMain"></p><p class="poptipArrow"></p></div>',link:function(t,n,r,i){n.css("position","relative"),n[0].children[1].children[0].innerHTML=r.popTipbox;var a,o,s=n.children()[1];1==r.index?(s.style.bottom="27px",s.children[0].style.whiteSpace="nowrap"):2==r.index?(13.5*r.popTipbox.length>250?s.style.width="250px":s.style.width=13.5*r.popTipbox.length,a=s.offsetWidth,s.style.bottom="40px"):s.children[0].style.whiteSpace="nowrap",a=s.offsetWidth,o=n[0].offsetWidth,2==r.index?s.style.left=(o-a)/2-80+"px":s.style.left=(o-a)/2+"px",s.children[1].style.left=a/2-7+"px",n.children()[1].style.display="none",e(n)}}})}}),define("configs/interceptor",["angular"],function(e){return function(t){t.config(["$compileProvider","$controllerProvider","$provide","$httpProvider",function(e,t,n,r){r.interceptors.push("testIntercepter")}]).factory("testIntercepter",["$q","G","$rootScope",function(t,n,r){var i={request:function(e){if(!_G.interfaceType){var t=e.url.lastIndexOf("/")+1;e.url="resources/interface/"+e.url.substr(t)+".json"}var n=-1===e.url.indexOf("?")?"?":"&";return e.url=e.url+n+"noCache="+(new Date).getTime(),e},response:function(t){var n=t.data;if(200==t.status){var r=e.element(this.currentElem);r.css("pointer-events",""),r.attr("disabled",""),this.currentElem&&this.currentElem.removeAttribute&&this.currentElem.removeAttribute("disabled")}return!n||0!=n.apistatus||4e4!==n.result.errorCode&&4e4!==n.result.error_code||_G.jumpLogin(),t},requestError:function(e){return t.reject(e)},responseError:function(e){var n=e.status,r=e.data;return 500==n?_G.jumpErrorPage(e):409==n&&(-200==r.code?_G.jumpLoginPage():(!r.code||"8004"!=r.code&&"2020"!=r.code&&"8005"!=r.code&&"3005"!=r.code&&"8034"!=r.code)&&("1031"==r.code||(r.message?alert(r.message,{type:"error"}):alert("系统错误",{type:"error"})))),t.reject(e)}};return i}])}}),define("configs/httpService",["angular"],function(e){var t=[];return function(e){e.factory("httpService",["$rootScope","$http",function(e,t){function n(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}return{post:function(e){var r=n(r);return t({method:"post",url:e.url,data:e.data,headers:{"Content-Type":"application/x-www-form-urlencoded","x-requested-with":"XMLHttpRequest"}})},get:function(e){return t({method:"get",url:e.url,params:e.params,headers:{"Content-Type":"application/x-www-form-urlencoded","x-requested-with":"XMLHttpRequest"}})}}}]).factory("cService",["$http","$q","$location","$anchorScroll",function(e,n,r,i){var a={deepExtend:function(e,t){for(var n in t)t[n]&&t[n].constructor&&t[n].constructor===Object?(e[n]=e[n]||{},arguments.callee(e[n],t[n])):e[n]=t[n];return e},ajax:function(n){function r(){i&&(i.status="pending",o&&i.elm.html(o),s&&i.elm.val(s),i.elm.attr("disabled",""))}for(var i=null,o="",s="",c="<span>...</span>",l=0;l<t.length;l++){var u=t[l];if(u.url==n.url){i=u,i.status="running",i.elm.attr("disabled","disabled"),o=i.elm.html(),s=i.elm.val(),o&&i.elm.html(o+c),s&&i.elm.val(s+"...");break}}var d={method:"get",headers:{"Content-Type":"application/x-www-form-urlencoded","x-requested-with":"XMLHttpRequest"}};return n=a.deepExtend(d,n),e(n).success(function(){r()}).error(function(){r()})},gotoAnchor:function(e){r.hash(e),i()}};return a}]).directive("ajaxbutton",function(){return{priority:100,terminal:!0,link:function(e,n,r,i){var a={elm:n,status:"pending",url:e.$eval(r.ajaxbutton)?e.$eval(r.ajaxbutton):r.ajaxbutton};t.push(a),n.on("click",function(t){if("running"==a.status);else{var n=r.ngClick;e.$eval(n)}})}}})}}),define("directives/common",["angular","configs/G"],function(e){return function(t){t.directive("rdFixed",["G",function(t){return{scope:{},link:function(n,r,i){function a(){o=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,o>c?f||(r.addClass("rd-fixed").css({left:l+"px",width:u+"px"}),f=!0):f&&(r.removeClass("rd-fixed").css({left:d,width:p}),r[0].style.left=null,r[0].style.width=null,f=!1)}var o,s=t.getElementAbsPos(r[0]),c=s.top,l=s.left,u=r[0].offsetWidth,d=t.GetCurrentStyle(r[0],"left"),p=t.GetCurrentStyle(r[0],"width"),f=!1;e.element(window).on("scroll",a),n.$on("$destroy",function(){e.element(window).off("scroll",a)})}}}]).directive("limitDecimal",[function(){return{require:"ngModel",link:function(e,t,n,r){var i=r.$name,a=e.$eval(n.limitDecimal),o=new RegExp("^[\\d]+\\.?[\\d]*$");rErrorDecimal=new RegExp("[\\d]+\\.[\\d]{"+(a+1)+",}"),okReg=new RegExp("[\\d]+\\.?[\\d]{"+a+","+a+"}"),e.$watch(i,function(t,n){t&&"string"==typeof t&&(!t.match(o)&&(e[i]=n),t.match(rErrorDecimal)&&(e[i]=t.match(okReg)[0]))})}}}]).directive("rdFly",["rdAnimate","$interval","G","$window",function(t,n,r,i){function a(e,t){e.moveTime=e.moveTime||1e3,e.delayTime=e.delayTime||3e3,e.moveName=void 0==e.moveName?"top":e.moveName,e.itemTag=e.itemTag||"li"}function o(i,a,o){function s(e){var n=f.children();u=i.moveDistance,g&&(u=p[0][0].offsetHeight),v&&(u=p[0][0].offsetWidth),t(a[0],i.moveName,-u*e,i.moveTime,function(){m=e}),n.removeClass("active"),n.eq(e).addClass("active")}function c(){n.cancel(i.timer),i.timer=n(function(){i.triggers?((0==m&&h||m==p.length-1&&!h)&&(h=!h),s(h?--m:++m)):(u=i.moveDistance,g&&(u=p[0][0].offsetHeight),v&&(u=p[0][0].offsetWidth),t(a[0],i.moveName,-u,i.moveTime,function(){p[0].parent().append(p[0]),a.css(i.moveName,"0px"),p.push(p.shift())}))},i.delayTime)}var l,u,d,p=[],f=e.element('<ul class="'+i.triggersClass+'"></ul>'),m=0,h=!1,g="top"==i.moveName||"bottom"==i.moveName,v="left"==i.moveName||"right"==i.moveName;"opacity"==i.moveName;a.css("position","relative"),e.forEach(a.find(i.itemTag),function(t,a){t=e.element(t),void 0!=t.attr("rd-fly-item")&&(p.push(t),i.triggers&&(l=e.element("<li></li>").on("mouseenter",function(){n.cancel(i.timer),targetIndex=r.index(this,f.children()),s(targetIndex)}).on("mouseleave",function(){c()}),f.append(l),1==f.children().length&&l.addClass("active")))}),p.length<=1||(v&&(d=p[0][0].offsetWidth,a.css("width",100*p.length+"%"),e.forEach(p,function(e,t){e.css("width",100/p.length+"%")})),i.triggers&&p.length>1&&(a.parent().append(f),f.css("margin-left",-f[0].offsetWidth/2+"px")),setTimeout(function(){(g&&a[0].offsetHeight>a.parent()[0].offsetHeight||v&&p.length>1)&&(c(),a.on("mouseenter",function(){n.cancel(i.timer)}).on("mouseleave",function(){c()}))},100))}function s(e,t,n){a(e,n),o(e,t,n)}return{scope:{moveTime:"@",delayTime:"@",moveName:"@",items:"=",itemTag:"@",triggers:"@",triggersClass:"@",moveDistance:"="},link:function(e,t,r){e.$watch("items",function(n,i){(i!=n||r.bIf)&&s(e,t,r)}),e.$on("$destroy",function(){n.cancel(e.timer)})}}}]).directive("multiLineTextOverflow",[function(){function t(t,n,r){var i,a,o,s=t.text,c=!1,l=t.$eval(r.multiLineTextOverflow);s&&(l<s.length?(n.html(""),i=s.substr(0,l)+"...",a=e.element("<span>"+i+"</span>"),o=e.element("<a>[展开]</a>").on("click",function(){c=!c,c?(o.text("[收缩]"),a.text(s)):(o.text("[展开]"),a.text(i))}),n.append(a),n.append(o)):n.text(s))}return{scope:{text:"="},link:function(e,n,r){e.$watch("text",function(){t(e,n,r)})}}}]).directive("countdown",["$interval","cService",function(e,t){return{link:function(t,n,r){function i(e){var t=parseInt(e/3600);e=parseInt(e%3600);var r=parseInt(e/60),i=e%60;n.html(t+" 时 "+r+" 分 "+i+" 秒 ")}var a,o;t.$watch(r.countdown,function(){a=t.$eval(r.countdown),i(a),a>0&&(o=e(function(n){if(a--,a>=0&&i(a),!a){e.cancel(o),o=void 0;try{t.$eval(r.countdown+"=0")}catch(s){}}},1e3))}),t.$on("$destroy",function(){e.cancel(o),o=void 0})}}}]).directive("iePlaceholder",["G",function(t){return{require:"ngModel",link:function(n,r,i,a){
function o(){t.removeInlineStyle(r[0],["height","border-color","position","z-index"]),c.css("display","none"),r[0].focus()}function s(){r.css({height:"0px","border-color":"transparent",position:"absolute","z-index":-1}),c.css("display",""),r[0].blur()}var c,l=i.iePlaceholder,u=!1;a.$viewValue||r.val();r.parent().css({position:"relative"}),c=e.element(document.createElement("input")),c.val(l).css({color:"#999",display:"none"}),c.attr("class",r.attr("class")),c.attr("type","text"),r.parent().prepend(c);var d=(t.GetCurrentStyle(r[0],"height"),t.GetCurrentStyle(r[0],"border-left-color"),t.GetCurrentStyle(r[0],"position"),t.GetCurrentStyle(r[0],"zIndex"));(!d||0>d)&&(d=0),r.on("blur",function(e){r.val()||s(),u=!1}),r.on("keydown",function(e){u=!0}),c.on("focus",function(){r.attr("readonly",!1),o()}),n.$watch(a.$name,function(){a.$viewValue?(o(),!u&&r[0].blur()):u||s()})}}}]).directive("rdSelect",["$compile","G","$templateCache",function(t,n,r){function i(t,r,i){t.optionHandler=function(i){var a=e.element(i.target),o=a.text(),s=n.getIndex(a.parent()[0]);r[0].selectedIndex=s,t.$display.html(o),t.$content.css("display","none")},i.textField=i.textField||"text"}function a(n,i,a){if(n.$content.html(""),a.templateDiv){var o=e.element(r.get(a.templateDiv)).addClass("template-div");n.$content.append(t(o)(n.$parent)).css({overflow:"visible",border:"none"})}else{for(var s="<ul>",c=i.find("option"),l=0;l<c.length;l++){var u=c.eq(l),d=u.text();s+='<li><a class="option" ng-click="optionHandler($event)">'+d+"</a></li>",("selected"==u.attr("selected")||0==l)&&n.$display.html(d)}if(a.options){var p=n[a.options];if(p)for(var f=0;f<p.length;f++){var m=p[f],d=m[a.textField];s+='<li><a class="option" ng-click="optionHandler($event)">'+d+"</a></li>",0==f&&0==c.length&&n.$display.html(d)}}s+="</ul>",n.$content.append(t(s)(n))}}function o(n,r,i){function a(){u.css({display:"block"})}function o(){u.css({display:"none"})}var s=n.$wrap=r.wrap('<div class="rd-select" style="position:relative;overflow:visible;"></div>').parent().addClass(r.attr("class")),c=n.$display=e.element('<div class="display"></div>');i.placeholder&&c.html(i.placeholder);var l=n.$trigger=e.element('<a class="trigger" tabindex="-1"></a>'),u=n.$content=e.element('<div class="content" style="display:none;position:absolute;top:100%;left:-1px;width:100%;"></div>'),d=!0;s.on("click",function(){a()}),s.on("mouseenter",function(){d=!1}).on("mouseleave",function(){d=!0}),e.element(document).on("click",function(e){d&&o()}),s.append(t(c)(n)),s.append(t(l)(n)),s.append(t(u)(n))}return{scope:{dyPlaceholder:"="},transclude:!0,link:function(e,t,n){t.css({display:"none"}),i(e,t,n),o(e,t,n),e.$watch(n.options,function(){a(e,t,n)}),e.$watch("dyPlaceholder",function(){e.$display&&e.$display.html(e.dyPlaceholder)})}}}]).factory("popupDialog",["$compile","$templateCache",function(t,n){return function(r,i,a,o){var r=r?n.get(r):"<div></div>",s=e.extend({wait:!0,type:"no-icon"},a||{});s.wait&&(i.alert_wait=!0,r='<i ng-show="alert_wait">loading...</i><div ng-show="!alert_wait">'+r+"</div>");var c=t(r)(i),l=alert('<div id="popupDialog" class="'+s.wrapClass+'"></div>',s,o),u=e.element(document.getElementById("popupDialog")).append(c);return s.css&&u.css(s.css),"function"==typeof s.ajax?s.ajax.call(u).then(function(){i.alert_wait=!1,u.css("display","none").css("display","block")},function(){l.close(l)}):i.alert_wait=!1,l}}]).filter("html",["$sce",function(e){return function(t){return e.trustAsHtml(t)}}]).filter("synomymous",function(){return function(e){for(var t="",n=0;n<e.length;n++)t+=0==n?e.charAt(n):"*";return t}}).filter("decimal",function(){return function(e,t){return e.toFixed(t)}}).filter("million",["$filter",function(e){return function(t,n,r){var i="万";return void 0==n&&(n=1e5),void 0==r&&(r=2),t>=n?e("number")(t/1e4,0)+i:e("number")(t,r)}}]).service("rdAnimate",["G",function(e){return function(t,n,r,i,a){function o(){clearInterval(t.timer),t.timer=null,c?e.isIE8()?t.style.filter="alpha(opacity="+(l+s)+")":t.style[n]=l+s:t.style[n]=l+s+"px","function"==typeof a&&a()}var s,c="opacity"==n,l=parseFloat(e.GetCurrentStyle(t,n)),u=i/20,d=0;!l&&(l=0),c&&e.isIE8()&&!l&&(l=100),c&&!e.isIE8()&&(r/=100),s=r-l,t.timer&&(clearInterval(t.timer),t.timer=null),t.timer=setInterval(function(){d++,c?e.isIE8()?t.style.filter="alpha(opacity="+(l+s*d/u)+")":t.style[n]=l+s*d/u:t.style[n]=l+s*d/u+"px",d>=u&&t.timer&&o()},5)}}]).directive("rdShow",["G",function(e){return{link:function(e,t,n){e.$watch(n.rdShow,function(){var r=e.$eval(n.rdShow);r?t.css("display","block"):t.css("display","none")})}}}]).directive("compareTo",function(){return{require:"ngModel",link:function(e,t,n,r){var i;e.$watch(n.compareTo,function(){i&&r.$setViewValue(i)}),r.$parsers.push(function(t){r.$setValidity("repeat",t==e.$eval(n.compareTo)),i=t})}}}).directive("dymin",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,r){e.$watch(n.dyMin,function(){r.$viewValue||0==r.$viewValue&&r.$setViewValue(r.$viewValue)});var i=function(t){var i=e.$eval(n.dymin);return i>t?void r.$setValidity("dymin",!1):(r.$setValidity("dymin",!0),t)};r.$parsers.push(i),r.$formatters.push(i)}}}).directive("dymax",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,r){e.$watch(n.dyMax,function(){r.$viewValue||0==r.$viewValue&&r.$setViewValue(r.$viewValue)});var i=function(t){var i=e.$eval(n.dymax);return t>i?void r.$setValidity("dymax",!1):(r.$setValidity("dymax",!0),t)};r.$parsers.push(i),r.$formatters.push(i)}}}).directive("tabs",["$parse",function(t){return{link:function(n,r,i){function a(){var e=n.$eval(i.initializeIndex);e||(e=0),o.removeClass("active"),s.css({display:"none"}),o.eq(e).addClass("active"),s.eq(e).css({display:"block"})}var o=r.children().eq(0).find("a"),s=r.children().eq(1).children();return n.$watch(i.initializeIndex,function(){a()}),o.length<=1?void o.css("cursor","default"):void o.on("click",function(){var r=e.element(this),a=r.attr("tab-index");if(void 0==a){for(var c=this,l=0;null!=(c=c.previousSibling);)1==c.nodeType&&l++;a=l}i.switchAction&&(t(i.switchAction)(n,{index:a,value:this.value}),n.$apply()),o.removeClass("active"),s.css({display:"none"}),r.addClass("active"),s.eq(a).css({display:"block"})})}}}]).directive("rdImagePreview",function(){return{scope:{src:"@rdImagePreview",imageWidth:"@",imageHeight:"@"},link:function(t,n,r){var i,a,o,s=t.src,c=parseInt(t.imageWidth)?t.imageWidth:800,l=parseInt(t.imageHeight)?t.imageHeight:600;n.on("click",function(){a=e.element(document.body),i=e.element('<div class="rd-image-preview-conta"><img src="'+s.replace(/w\/[\d]+\/h\/[\d]+$/,"w/"+c+"/h/"+l)+'" /></div>'),o=e.element('<div class="rd-mask"></div>').off("click").on("click",function(){o.remove(),i.remove()}),a.append(o),a.append(i)})}}}).directive("rdImagesPreview",function(){function t(t,n,r){function i(){c&&(c.remove(),o.remove(),c=null)}function a(t,n){s=e.element(document.body),o=e.element('<div class="rd-image-preview-conta"><img src="'+t.attr("src").replace(/w\/[\d]+\/h\/[\d]+$/,"w/"+p+"/h/"+f)+'" /></div>'),c=e.element('<div class="rd-mask"></div>').off("click").on("click",function(){i()}),l=e.element('<a class="prev-btn"></a>').on("click",function(){n>0&&(i(),a(e.element(d[n-1]),n-1))}),u=e.element('<a class="next-btn"></a>').on("click",function(){n<d.length-1&&(i(),a(e.element(d[n+1]),n+1))}),n>0&&o.append(l),n<d.length-1&&o.append(u),s.append(c),s.append(o)}var o,s,c,l,u,d,p=(t.src,parseInt(t.imageWidth)?t.imageWidth:800),f=parseInt(t.imageHeight)?t.imageHeight:600;d=n.find("img"),e.forEach(d,function(t,n){t=e.element(t),t.on("click",function(){a(t,n)})})}return{scope:{items:"=",imageWidth:"@",imageHeight:"@"},link:function(e,n,r){e.$watch("items",function(){"object"==typeof e.items&&e.items.length&&t(e,n,r)})}}})}}),define("configs/config",["angular","configs/navData","configs/router","configs/G","configs/interceptor","configs/httpService","directives/common"],function(e,t,n,r,i,a,o){return function(e){r(e),t(e),n(e),i(e),a(e),o(e)}}),function(e){"use strict";e.module("jcs-autoValidate",[])}(angular),function(e){"use strict";e.module("jcs-autoValidate").provider("validator",[function(){var e={},t=!0,n=!0,r=!0,i=function(e){var t;return e&&0!==e.length?(t=e.toLowerCase(),e=!("f"===t||"0"===t||"false"===t)):e=!1,e},a=function(e,t){var n;return void 0!==e&&(n=e.attr(t)||e.attr("data-"+t)),n},o=function(e,t){return i(a(e,t))},s=function(e){return t&&!o(e,"disable-valid-styling")},c=function(e){return n&&!o(e,"disable-invalid-styling")};this.enable=function(e){r=e},this.isEnabled=function(){return r},this.setDefaultElementModifier=function(t){if(void 0===e[t])throw new Error("Element modifier not registered: "+t);this.defaultElementModifier=t},this.registerDomModifier=function(t,n){e[t]=n},this.setErrorMessageResolver=function(e){this.errorMessageResolver=e},this.getErrorMessage=function(e,t){if(void 0===this.errorMessageResolver)throw new Error("Please set an error message resolver via the setErrorMessageResolver function before attempting to resolve an error message.");return this.errorMessageResolver(e,t)},this.setValidElementStyling=function(e){t=e},this.setInvalidElementStyling=function(e){n=e},this.getDomModifier=function(t){var n=(void 0!==t?t.attr("element-modifier"):this.defaultElementModifier)||(void 0!==t?t.attr("data-element-modifier"):this.defaultElementModifier)||this.defaultElementModifier;if(void 0===n)throw new Error("Please set a default dom modifier via the setDefaultElementModifier method on the validator class.");return e[n]},this.makeValid=function(e){s(e)?this.getDomModifier(e).makeValid(e):this.makeDefault(e)},this.makeInvalid=function(e,t){c(e)?this.getDomModifier(e).makeInvalid(e,t):this.makeDefault(e)},this.makeDefault=function(e){var t=this.getDomModifier(e);t.makeDefault&&t.makeDefault(e)},this.$get=[function(){return this}]}])}(angular),function(e){"use strict";e.module("jcs-autoValidate").factory("bootstrap3ElementModifier",[function(){var t=function(t){e.forEach(t.find("span"),function(t){t=e.element(t),(t.hasClass("error-msg")||t.hasClass("form-control-feedback")||t.hasClass("control-feedback"))&&t.remove()}),t.removeClass("has-success has-error has-feedback")},n=function(e,t){for(var n=e,r=0;3>=r&&(void 0===n||!n.hasClass(t));r+=1)void 0!==n&&(n=n.parent());return n},r=function(t,n){for(var i,a=0;a<t.children.length&&(i=t.children[a],void 0===i||!e.element(i).hasClass(n))&&!(void 0!==i.children&&(i=r(i,n),i.length>0));a+=1);return e.element(i)},i=function(e){return n(e,"form-group")},a=function(e){return r(e,"input-group")},o=function(e,t){e[0].parentNode.insertBefore(t[0],e[0].nextSibling)},s=!1,c=function(e){s=e},l=function(n){var r=i(n),c=a(r[0]);if(t(r),r.addClass("has-success "+(c.length>0?"":"has-feedback")),s){var l='<span class="glyphicon glyphicon-ok form-control-feedback"></span>';c.length>0&&(l=l.replace("form-",""),l='<span class="input-group-addon control-feedback">'+l+"</span"),o(n,e.element(l))}},u=function(n,r){var c=i(n),l=a(c[0]),u=e.element('<span id="errorTip" class="help-block has-error error-msg">'+r+"</span>");if(t(c,l),c.addClass("has-error "+(l.length>0?"":"has-feedback")),o(l.length>0?l:n,u),s){var d='<span class="glyphicon glyphicon-remove form-control-feedback"></span>';l.length>0&&(d=d.replace("form-",""),d='<span class="input-group-addon control-feedback">'+d+"</span"),o(n,e.element(d))}},d=function(e){var n=i(e);t(n)};return{makeValid:l,makeInvalid:u,makeDefault:d,enableValidationStateIcons:c,key:"bs3"}}])}(angular),function(e){"use strict";e.module("jcs-autoValidate").factory("jcs-debounce",["$timeout",function(t){var n=function(n,r,i){r=e.isUndefined(r)?0:r,i=e.isUndefined(i)?!0:i;var a=0;return function(){var e=this,o=arguments;a+=1;var s=function(t){return function(){return t===a?n.apply(e,o):void 0}}(a);return t(s,r,i)}};return{debounce:n}}])}(angular),function(e,t){"use strict";"format"in e.prototype||(e.prototype.format=function(){var e=arguments;return this.replace(/{(\d+)}/g,function(t,n){return void 0!==typeof e[n]?e[n]:t})}),t.autoValidate=t.autoValidate||{errorMessages:{}},t.autoValidate.errorMessages["en-us"]=t.autoValidate.errorMessages["en-gb"]={defaultMsg:"Please add error message for {0}",email:"Please enter a valid email address",minlength:"Please enter at least {0} characters",maxlength:"You have entered more than the maximum {0} characters",min:"Please enter the minimum number of {0}",max:"Please enter the maximum number of {0}",required:"This field is required",date:"Please enter a valid date",pattern:"Please ensure the entered information adheres to this pattern {0}",number:"Please enter a valid number",url:"Please enter a valid URL in the format of http(s)://wwww.google.com"},t.module("jcs-autoValidate").factory("defaultErrorMessageResolver",["$q","$http",function(e,n){var r,i="en-gb",a="js/angular-auto-validate/dist/lang",o=function(e){return r=n.get("{0}/jcs-auto-validate_{1}.json".format(a,e.toLowerCase()))},s=function(e){a=e},c=function(n,a){var s=e.defer();return a=a||o,i=n.toLowerCase(),void 0===t.autoValidate.errorMessages[i]?(r=a(n),r.then(function(e){r=void 0,t.autoValidate.errorMessages[i]=e.data,s.resolve(t.autoValidate.errorMessages[i])},function(e){t.autoValidate.errorMessages[i]={defaultMsg:"Loading culture failed!"},r=null,s.reject(e)})):s.resolve(t.autoValidate.errorMessages[i]),s.promise},l=function(n){var a=e.defer();return n=void 0===n?i:n.toLowerCase(),void 0!==r?r.then(function(){a.resolve(t.autoValidate.errorMessages[n])},function(e){a.reject(e)}):a.resolve(t.autoValidate.errorMessages[n]),a.promise},u=function(e,t){var n;return t&&(e+="-err-type",n=t.attr(e),void 0===n&&(n=t.attr("data-ng-"+e)||t.attr("ng-"+e)),n&&(n=n.replace(/[\W]/g,""))),n},d=function(n,a){var o,s,c,l=e.defer(),p=[];if(void 0!==r)r.then(function(){d(n,a).then(function(e){l.resolve(e)})});else{if(o=t.autoValidate.errorMessages[i][n],c=u(n,a),c&&(o=t.autoValidate.errorMessages[i][c]),void 0===o&&(o=t.autoValidate.errorMessages[i].defaultMsg.format(n)),a&&a.attr)try{s=a.attr(n),void 0===s&&(s=a.attr("data-ng-"+n)||a.attr("ng-"+n)),p.push(s||""),o=o.format(p)}catch(f){}l.resolve(o)}return l.promise};return{setI18nFileRootPath:s,setCulture:c,getErrorMessages:l,resolve:d}}])}(String,angular),function(e){"use strict";e.module("jcs-autoValidate").factory("foundation5ElementModifier",[function(){var t=function(t,n){e.forEach(t.find("small"),function(t){e.element(t).hasClass("error")&&e.element(t).remove()}),n.removeClass("error")},n=function(e){for(var t=e,n=0;3>=n&&(void 0===t||!t.hasClass("columns"));n+=1)void 0!==t&&(t=t.parent());return t},r=function(e){var r=n(e);t(r&&r.length>0?r:e,e)},i=function(r,i){var a,o=n(r);t(o||r,r),r.addClass("error"),o&&(a=e.element('<small class="error">'+i+"</small>"),o.append(a))},a=function(e){r(e)};return{makeValid:r,makeInvalid:i,makeDefault:a,key:"foundation5"}}])}(angular),function(e){"use strict";e.module("jcs-autoValidate").factory("jcs-elementUtils",[function(){var e=function(e){return e[0].offsetWidth>0&&e[0].offsetHeight>0};return{isElementVisible:e}}]),e.module("jcs-autoValidate").factory("validationManager",["validator","jcs-elementUtils",function(t,n){var r=["input","textarea","select","form"],i=function(e){return n.isElementVisible(e)},a=function(e){var t=r.toString();return e&&e.length>0&&i(e)&&t.indexOf(e[0].nodeName.toLowerCase())>-1},o=function(n,r,i){var o,s=!0,c=n.$pristine===!1||i,l=function(t){var n,r=!0;return e.forEach(t,function(e,t){r&&e&&(r=!1,n=t)}),n};return(i||a(r)&&n&&c)&&(s=!n.$invalid,s?t.makeValid(r):(o=l(n.$error),void 0===o?s=!0:t.getErrorMessage(o,r).then(function(e){t.makeInvalid(r,e)}))),s},s=function(e){t.makeDefault(e)},c=function(t){e.forEach(t[0],function(t){var n,r=e.element(t);n=r.controller("ngModel"),void 0!==n&&("form"===r[0].nodeName.toLowerCase()?c(r):n.$setPristine())})},l=function(t){var n=!0,r=t?e.element(t).controller("form"):void 0,i=function(t,r){var i,s;t=e.element(t),i=t.controller("ngModel"),void 0!==i&&(r||a(t))&&("form"===t[0].nodeName.toLowerCase()?l(t):(s=o(i,t,!0),n=n&&s))};return void 0===t||void 0!==r&&r.disableDynamicValidation?void 0!==t:(e.forEach(t[0],function(e){i(e)}),t[0].customHTMLFormControlsCollection&&e.forEach(t[0].customHTMLFormControlsCollection,function(e){i(e,!0)}),n)},u=function(e,n,r){n?t.getErrorMessage(n,e).then(function(n){t.makeInvalid(e,n)}):t.makeInvalid(e,r)};return{setElementValidationError:u,validateElement:o,validateForm:l,resetElement:s,resetForm:c}}])}(angular),function(e){"use strict";e.module("jcs-autoValidate").directive("form",["validationManager",function(e){return{restrict:"E",link:function(t,n){n.on("reset",function(){e.resetForm(n)}),t.$on("$destroy",function(){n.off("reset")})}}}])}(angular),function(e){"use strict";e.module("jcs-autoValidate").directive("registerCustomFormControl",[function(){var t=function(t){for(var n=t,r=0;10>=r&&(void 0===n||"form"!==n.nodeName.toLowerCase());r+=1)void 0!==n&&(n=e.element(n).parent()[0]);return n};return{restrict:"A",link:function(e,n){var r=t(n.parent()[0]);r&&(r.customHTMLFormControlsCollection=r.customHTMLFormControlsCollection||[],r.customHTMLFormControlsCollection.push(n[0]))}}}])}(angular),function(e){"use strict";e.module("jcs-autoValidate").directive("form",["validator",function(e){return{restrict:"E",require:"form",compile:function(){return{pre:function(t,n,r,i){i.disableDynamicValidation=!e.isEnabled(),void 0!==r.disableDynamicValidation&&(i.disableDynamicValidation=void 0===r.disableDynamicValidation||""===r.disableDynamicValidation||"true"===r.disableDynamicValidation)}}}}}])}(angular),function(e){"use strict";e.module("jcs-autoValidate").config(["$provide",function(e){e.decorator("ngSubmitDirective",["$delegate","$parse","validationManager",function(e,t,n){return e[0].compile=function(e,r){var i=t(r.ngSubmit),a="true"===r.ngSubmitForce;return function(e,t){t.on("submit",function(r){e.$apply(function(){(a===!0||n.validateForm(t))&&i(e,{$event:r})})})}},e}])}])}(angular),function(e){"use strict";e.module("jcs-autoValidate").config(["$provide",function(t){t.decorator("ngModelDirective",["$timeout","$delegate","validationManager","jcs-debounce",function(t,n,r,i){var a=n[0],o=a.link||a.compile;return a.compile=function(t){return function(n,a,s,c){var l=c[0],u=c[1],d=e.version.major>=1&&e.version.minor>=3,p=void 0===s.ngModelOptions?void 0:n.$eval(s.ngModelOptions),f=l.$setValidity,m=l.$setPristine,h=i.debounce(function(){r.validateElement(l,a)},100);d&&e.isFunction(o)&&(o=o(t)),o.pre&&(o.pre.apply(this,arguments),p=void 0===l.$options?void 0:l.$options),(void 0===s.formnovalidate||void 0!==u&&u.disableDynamicValidation===!1)&&(d||void 0===p||void 0===p.updateOn||""===p.updateOn?l.$setValidity=function(e,t){f.call(l,e,t),h()}:(a.on(p.updateOn,function(){h()}),n.$on("$destroy",function(){a.off(p.updateOn)})),l.$setPristine=function(){m.call(l),r.resetElement(a)},l.autoValidated=!0),o.post?o.post.apply(this,arguments):o.apply(this,arguments),l.setExternalValidation=function(e,t,n){n&&(l.$error?l.$error[e]=!1:l.$errors[e]=!1),r.setElementValidationError(a,e,t)},l.removeExternalValidation=function(e,t){t&&(l.$error?l.$error[e]=!0:l.$errors[e]=!0),r.resetElement(a)},u&&(u.setExternalValidation=function(e,t,n,r){var i=!1;return u[e]&&(u[e].setExternalValidation(t,n,r),i=!0),i},u.removeExternalValidation=function(e,t,n,r){var i=!1;return u[e]&&(u[e].removeExternalValidation(t,r),i=!0),i})}},n}])}])}(angular),function(e){"use strict";e.module("jcs-autoValidate").run(["validator","defaultErrorMessageResolver","bootstrap3ElementModifier","foundation5ElementModifier",function(e,t,n,r){e.setErrorMessageResolver(t.resolve),e.registerDomModifier(n.key,n),e.registerDomModifier(r.key,r),e.setDefaultElementModifier(n.key)}])}(angular),define("autoValidate",["angular"],function(){}),angular.module("components",[]).config(["$compileProvider","$controllerProvider","$provide","$filterProvider",function(e,t,n,r){function i(e,t,n){var r="has"+e.replace(/^[a-z]/,function(e){return e.toUpperCase()});return a[r]||(a[r]={}),a[r][t]?void 0:(a[r][t]=!0,"controller"===e||"filter"===e?s[e].register.apply(s[e],n):s[e][e].apply(s[e],n))}var a={},o={},s={controller:t,directive:e,provider:n,factory:n,service:n,constant:n,value:n,decorator:n,filter:r};window.globalApp=o;for(var c in s)o[c]=function(e){return function(t,n){return i(e,t,arguments)}}(c);e.directive("ngComponent",["$compile","$rootScope",function(e,t){return{scope:!0,priority:500,link:function(t,n,r){function i(i){var c=t.$parent;angular.isFunction(i)||console.error("目前约定组件返回地址应该函数--组件地址:"+s),n.html(""),i(o,n,r,c),e(n.contents())(c),t.$$phase||t.$apply();try{var l=a(s);_G.myScope=_G.myScope||{},_G.myScope[l]=c.$$childTail,c.$$childTail.$$componentName=l}catch(u){}}function a(e){var t=e.lastIndexOf("/"),n=e.substr(t+1);return n}var s=r.ngComponent;"ngLoading"in r&&n.html('<div class="sk-spinner sk-spinner-wave"> <div class="sk-rect1"></div> <div class="sk-rect2"></div> <div class="sk-rect3"></div> <div class="sk-rect4"></div> <div class="sk-rect5"></div> </div> </div>');try{var c=require(s);c?i(c):console.error("组件返回为空--组件地址:"+s)}catch(l){require([s],function(e){i(e)})}}}}])}]),define("components",["angular"],function(){}),define("text",["module"],function(e){"use strict";var t,n,r,i,a,o=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],s=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,c=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,l="undefined"!=typeof location&&location.href,u=l&&location.protocol&&location.protocol.replace(/\:/,""),d=l&&location.hostname,p=l&&(location.port||void 0),f={},m=e.config&&e.config()||{};return t={version:"2.0.12",strip:function(e){if(e){e=e.replace(s,"");var t=e.match(c);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:m.createXhr||function(){var e,t,n;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;3>t;t+=1){n=o[t];try{e=new ActiveXObject(n)}catch(r){}if(e){o=[n];break}}return e},parseName:function(e){var t,n,r,i=!1,a=e.indexOf("."),o=0===e.indexOf("./")||0===e.indexOf("../");return-1!==a&&(!o||a>1)?(t=e.substring(0,a),n=e.substring(a+1,e.length)):t=e,r=n||t,a=r.indexOf("!"),-1!==a&&(i="strip"===r.substring(a+1),r=r.substring(0,a),n?n=r:t=r),{moduleName:t,ext:n,strip:i}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,n,r,i){var a,o,s,c=t.xdRegExp.exec(e);return c?(a=c[2],o=c[3],o=o.split(":"),s=o[1],o=o[0],!(a&&a!==n||o&&o.toLowerCase()!==r.toLowerCase()||(s||o)&&s!==i)):!0},finishLoad:function(e,n,r,i){r=n?t.strip(r):r,m.isBuild&&(f[e]=r),i(r)},load:function(e,n,r,i){if(i&&i.isBuild&&!i.inlineText)return void r();m.isBuild=i&&i.isBuild;var a=t.parseName(e),o=a.moduleName+(a.ext?"."+a.ext:""),s=n.toUrl(o),c=m.useXhr||t.useXhr;return s=s.replace(i.baseUrl,"./"),0===s.indexOf("empty:")?void r():void(!l||c(s,u,d,p)?t.get(s,function(n){t.finishLoad(e,a.strip,n,r)},function(e){r.error&&r.error(e)}):n([o],function(e){t.finishLoad(a.moduleName+"."+a.ext,a.strip,e,r)}))},write:function(e,n,r,i){if(f.hasOwnProperty(n)){var a=t.jsEscape(f[n]);r.asModule(e+"!"+n,"define(function () { return '"+a+"';});\n")}},writeFile:function(e,n,r,i,a){var o=t.parseName(n),s=o.ext?"."+o.ext:"",c=o.moduleName+s,l=r.toUrl(o.moduleName+s)+".js";t.load(c,r,function(n){var r=function(e){return i(l,e)};r.asModule=function(e,t){return i.asModule(e,l,t)},t.write(e,c,r,a)},a)}},"node"===m.env||!m.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]?(n=require.nodeRequire("fs"),t.get=function(e,t,r){try{var i=n.readFileSync(e,"utf8");0===i.indexOf("\ufeff")&&(i=i.substring(1)),t(i)}catch(a){r&&r(a)}}):"xhr"===m.env||!m.env&&t.createXhr()?t.get=function(e,n,r,i){var a,o=t.createXhr();if(o.open("GET",e,!0),i)for(a in i)i.hasOwnProperty(a)&&o.setRequestHeader(a.toLowerCase(),i[a]);m.onXhr&&m.onXhr(o,e),o.onreadystatechange=function(t){var i,a;4===o.readyState&&(i=o.status||0,i>399&&600>i?(a=new Error(e+" HTTP status: "+i),a.xhr=o,r&&r(a)):n(o.responseText),m.onXhrComplete&&m.onXhrComplete(o,e))},o.send(null)}:"rhino"===m.env||!m.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?t.get=function(e,t){var n,r,i="utf-8",a=new java.io.File(e),o=java.lang.System.getProperty("line.separator"),s=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(a),i)),c="";try{for(n=new java.lang.StringBuffer,r=s.readLine(),r&&r.length()&&65279===r.charAt(0)&&(r=r.substring(1)),null!==r&&n.append(r);null!==(r=s.readLine());)n.append(o),n.append(r);c=String(n.toString())}finally{s.close()}t(c)}:("xpconnect"===m.env||!m.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(r=Components.classes,i=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),a="@mozilla.org/windows-registry-key;1"in r,t.get=function(e,t){var n,o,s,c={};a&&(e=e.replace(/\//g,"\\")),s=new FileUtils.File(e);try{n=r["@mozilla.org/network/file-input-stream;1"].createInstance(i.nsIFileInputStream),n.init(s,1,0,!1),o=r["@mozilla.org/intl/converter-input-stream;1"].createInstance(i.nsIConverterInputStream),o.init(n,"utf-8",n.available(),i.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),o.readString(n.available(),c),o.close(),n.close(),t(c.value)}catch(l){throw new Error((s&&s.path||"")+": "+l)}}),t}),define("text!base/templates/templates.html",[],function(){return'<!--footer-->\r\n<script type="text/ng-template" id="template_links">\r\n<div class="friendly-links">\r\n	<div class="container">\r\n		<h2 class="title">友情链接</h2>\r\n		<ul class="list clearfix" cp-list-links var-name="links">\r\n			<li ng-repeat="item in links"><a ng-href="{{item.url}}" ng-bind="item.name | cpFilterTrim:\'all\'|limitTo:10" target="_blank" > </a></li>\r\n		</ul>\r\n	</div>\r\n</div>\r\n</script>\r\n<script type="text/ng-template" id="template_links_honggao">\r\n	<div class="friendly-links">\r\n		<div class="container clearfix">\r\n			<h2 class="title" style="float:left;font-size:12px;font-weight:normal;color:#8d959c;">友情链接：</h2>\r\n			<ul class="list clearfix" cp-list-links var-name="links" >\r\n				<li ng-repeat="item in links"><a ng-href="{{item.url}}" ng-bind="item.name | cpFilterTrim:\'all\'|limitTo:10" target="_blank" > </a></li>\r\n			</ul>\r\n		</div>\r\n	</div>\r\n</script>\r\n<!--Register-->\r\n<script type="text/ng-template" id="template_registerForm">\r\n<form class="form-fields"\r\n	cp-form-register>\r\n	<div class="field form-group">\r\n		<label class="label">用户名：</label>\r\n		<input\r\n			cp-valid-username\r\n			username-error-type="UserError"\r\n			remote-username-error-type="remote-user" maxlength="16"\r\n			type="text" name="username" ng-model="username" cp-ui-placeholder="请输入用户名" />\r\n	</div>\r\n	<div class="field form-group">\r\n		<label class="label">手机号：</label>\r\n		<input\r\n			cp-valid-phone\r\n			phone-error-type="PhoneError"\r\n			remote-phone-error-type="remote-phone"\r\n			maxlength="11"\r\n			type="text" name="phone" ng-model="phone" cp-ui-placeholder="请输入您常用的手机号码" />\r\n	</div>\r\n	<div class="field form-group">\r\n		<label class="label">登录密码：</label>\r\n		<input\r\n			cp-valid-password\r\n			password-error-type="PasswordError" maxlength="16"\r\n		 	type="password" name="password" id="password" ng-model="password" cp-ui-placeholder="至少8个字符，包含一个字母和一个数字" />\r\n	</div>\r\n	<div class="field form-group">\r\n		<label class="label">确认密码：</label>\r\n		<input\r\n			cp-valid-confirm="password"\r\n			confirm-error-type="repeat"\r\n			required maxlength="16"\r\n		 	type="password" ng-model="confirmPassword" cp-ui-placeholder="请再次输入密码" />\r\n	</div>\r\n    <div class="field form-group">\r\n		<label class="label">推荐人：</label>\r\n		<input\r\n			cp-valid-invite\r\n			cp-do-fill-invite\r\n			username-error-type="UserError"\r\n			remote-invite-error-type="remote-friend"\r\n			required maxlength="16"\r\n		 	type="text" name="userInviteCode"\r\n		 	ng-model="userInviteCode" cp-ui-placeholder="请输入好友推荐人" />\r\n	</div>\r\n	<div class="field form-group">\r\n		<label class="label">验证码：</label>\r\n		<input type="text" class="captcha1" ng-model="validCode" maxlength="6" name="validCode" required cp-ui-placeholder="验证码" />\r\n	   	<a cp-do-send-code="phone" sendcode-type="register" class="btn-get-valid ml20">获取验证码</a>\r\n	</div>\r\n	<div class="field form-group" style="position:relative" id="reg-treaty">\r\n		<label class="label">&nbsp;</label>\r\n		<input required ng-required-err-type="ProtocolError" type="checkbox"  ng-model="isAgree" name="isAgree" />\r\n		<span class="fddd">我已阅读并同意<a cp-do-register-protocol class="light">《融都云注册协议》</a></span>\r\n	</div>\r\n	<div class="field">\r\n		<label class="label">&nbsp;</label>\r\n		<input type="submit" value="立即注册" class="submit-btn" />\r\n	</div>\r\n	<div class="field">\r\n		<label class="label">&nbsp;</label>\r\n		<span class="login-tip">已经是平台会员了？<a class="light" ng-click="$state.go(\'login\')">立即登录</a></span>\r\n	</div>\r\n</form>\r\n</script>\r\n\r\n\r\n\r\n<!--creditorRight-->\r\n<!--sell bond protocol preview-->\r\n<script type="text/ng-template" id="template_sellBondProtocolPreview">\r\n<div cp-info-sell-bond-protocol="_selectedBond" var-name="protocol" id="protocol" ng-bind-html="protocol|html"></div>\r\n</script>\r\n\r\n<!--sold bond protocol preview-->\r\n<script type="text/ng-template" id="template_soldBondProtocolPreview">\r\n<div cp-info-sold-bond-protocol="_selectedBond" var-name="protocol" id="protocol" ng-bind-html="protocol|html"></div>\r\n<div class="mt30 operate">\r\n	<a class="dialog-button" cp-do-sold-bond-protocol-download="_selectedBond"  target="_blank">下载协议</a>\r\n</div>\r\n</script>\r\n\r\n<!--sold bond protocol download-->\r\n<script type="text/ng-template" id="template_soldBondProtocolDownloadTip">\r\n<div class="eqb mt10" cp-info-sold-bond-protocol-download="_selectedBond" var-name="protocolDownloadInfo">\r\n	<div ng-show="protocolDownloadInfo.status == \'notSign\'">\r\n		<p>确定要下载该协议？</p>\r\n		<a class="dialog-button mt20" ng-href="{{\'bond/userBonds/unSignBondSellProtocolDownload?bondId=\' + _selectedBond.id +\'&userId=\' + _selectedBond.userId}}"  target="_blank">下载</a>\r\n	</div>\r\n	<div ng-show="protocolDownloadInfo.status == \'esign\'">\r\n		<p>平台已免费为您订购协议签名服务，您可查看签名协议！</p>\r\n\r\n		<a class="dialog-button mt20" ng-href="{{protocolDownloadInfo.url}}"  target="_blank">下载</a>\r\n	</div>\r\n\r\n</div>\r\n</script>\r\n\r\n<!--bought bond protocol preview-->\r\n<script type="text/ng-template" id="template_boughtBondProtocolPreview">\r\n<div cp-info-bought-bond-protocol="_selectedBond" var-name="protocol" id="protocol" ng-bind-html="protocol|html"></div>\r\n<div class="mt30 operate">\r\n	<a class="dialog-button" cp-do-bought-bond-protocol-download="_selectedBond"  target="_blank">下载协议</a>\r\n</div>\r\n</script>\r\n\r\n<!--bought bond protocol download-->\r\n<script type="text/ng-template" id="template_boughtBondProtocolDownloadTip">\r\n<div class="eqb mt10" cp-info-bought-bond-protocol-download="_selectedBond" var-name="protocolDownloadInfo">\r\n	<div ng-show="protocolDownloadInfo.status == \'notSign\'">\r\n		<p>确定要下载该协议？</p>\r\n		<a class="dialog-button mt20" ng-href="{{\'bond/userBonds/unSignBondBuyProtocolDownload?bondInvestmentId=\' + _selectedBond.id}}"  target="_blank">下载</a>\r\n	</div>\r\n	<div ng-show="protocolDownloadInfo.status == \'esign\'">\r\n		<p>平台已免费为您订购协议签名服务，您可查看签名协议！</p>\r\n		<a class="dialog-button mt20" ng-href="{{protocolDownloadInfo.url}}"  target="_blank">下载</a>\r\n\r\n	</div>\r\n</div>\r\n</script>\r\n\r\n\r\n<!--bought bond detail-->\r\n<script type="text/ng-template" id="template_boughtBondDetail">\r\n	<div class="dialog-borrow-detail">\r\n		<table class="table-noline">\r\n			<thead>\r\n				<tr>\r\n					<td>标的名称</td>\r\n					<td>收益率</td>\r\n					<td>债权价值(元)</td>\r\n					<td>投资金额(元)</td>\r\n					<td>预计本期回款日</td>\r\n					<td>预计回收本息(元)</td>\r\n					<td>预计赚取利息(元)</td>\r\n					<td>预计赚取加息(元)</td>\r\n					<td>期数</td>\r\n					<td>状态</td>\r\n				</tr>\r\n			</thead>\r\n			<tbody cp-list-bought-bond-detail var-name="boughtBondDetail" params="{bondInvestmentId: _selectedBond.id}">\r\n				<tr ng-repeat="item in boughtBondDetail" >\r\n					<td ng-bind="_selectedBond.borrowName"  class="nameTitle"title="{{_selectedBond.borrowName}}"></td>\r\n					<td><span ng-bind="item.rateYear"></span>%</td>\r\n					<td ng-bind="_selectedBond.investMoney"></td>\r\n					<td ng-bind="_selectedBond.boughtPrice"></td>\r\n					<td ng-bind="item.collectionTime|date:\'yyyy-MM-dd\'"></td>\r\n					<td ng-bind="item.collectionMoney"></td>\r\n					<td ng-bind="item.interest"></td>\r\n					<td ng-bind="item.platformInterest"></td>\r\n					<td ng-bind="item.period + \'/\' + item.totalPeriod"></td>\r\n					<td>\r\n						<span ng-if="item.status == 0">未还款</span>\r\n						<span ng-if="item.status == 1">已还款</span>\r\n					</td>\r\n				</tr>\r\n			</tbody>\r\n		</table>\r\n		<div id="page">\r\n			<div paging\r\n				class="small"\r\n				page="boughtBondDetailPage"\r\n				page-size="boughtBondDetailPageSize"\r\n				total="boughtBondDetailTotal"\r\n				adjacent="2"\r\n				dots="..."\r\n				scroll-top="false"\r\n				hide-if-empty="true"\r\n				ul-class="pagination"\r\n				active-class="active"\r\n				disabled-class="disabled"\r\n				show-prev-next="true"\r\n				paging-action="boughtBondDetailPageSearch(page)">\r\n			</div>\r\n		</div>\r\n	</div>\r\n</script>\r\n\r\n<!--sold bond detail-->\r\n<script type="text/ng-template" id="template_soldBondDetail">\r\n	<div class="dialog-borrow-detail">\r\n		<table class="table-noline">\r\n			<thead>\r\n				<tr>\r\n					<td>序号</td>\r\n					<td>投资人</td>\r\n					<td>债权价值(元)</td>\r\n					<td>投资金额(元)</td>\r\n					<td>预计回收利息(元)</td>\r\n					<td>预计回收加息(元)</td>\r\n					<td>投资时间</td>\r\n				</tr>\r\n			</thead>\r\n			<tbody cp-list-sold-bond-detail var-name="soldBondDetail" params="{bondId: _selectedBond.id}">\r\n				<tr ng-repeat="item in soldBondDetail">\r\n					<td ng-bind="$index + 1"></td>\r\n					<td><span ng-bind="item.username"></span></td>\r\n					<td ng-bind="item.investMoney"></td>\r\n					<td ng-bind="item.boughtPrice"></td>\r\n					<td ng-bind="item.bondInterest"></td>\r\n					<td ng-bind="item.bondPlatformInterest"></td>\r\n					<td ng-bind="item.addTime|date:\'yyyy-MM-dd\'"></td>\r\n				</tr>\r\n			</tbody>\r\n		</table>\r\n		<div id="page">\r\n			<div paging\r\n				class="small"\r\n				page="soldBondDetailPage"\r\n				page-size="soldBondDetailPageSize"\r\n				total="soldBondDetailTotal"\r\n				adjacent="2"\r\n				dots="..."\r\n				scroll-top="false"\r\n				hide-if-empty="true"\r\n				ul-class="pagination"\r\n				active-class="active"\r\n				disabled-class="disabled"\r\n				show-prev-next="true"\r\n				paging-action="soldBondDetailPageSearch(page)">\r\n			</div>\r\n		</div>\r\n	</div>\r\n</script>\r\n\r\n<!--sellable bond list-->\r\n<script type="text/ng-template" id="template_sellableBondList">\r\n<table class="table-noline">\r\n	<thead>\r\n		<tr>\r\n			<td>标的名称</td>\r\n			<td>年化收益</td>\r\n			<td>投资金额(元)</td>\r\n			<td>持有期限(天)</td>\r\n			<td>计息起始日</td>\r\n			<td>到期日</td>\r\n			<td>本期回款日</td>\r\n			<td>操作</td>\r\n		</tr>\r\n	</thead>\r\n	<tbody cp-list-saleable-bond var-name=".bondList.bondData">\r\n		<tr ng-repeat="item in bondData">\r\n			<td  class="nameTitle"><a  ng-bind="item.borrowName" ui-sref="borrowDetail({id:item.borrowId})" target="_blank"></a></td>\r\n			<td><span ng-bind="item.rateYear"></span>%</td>\r\n			<td ng-bind="item.remainCapital"></td>\r\n			<td ng-bind="item.holdDays"></td>\r\n			<td ng-bind="item.interestTime|date:\'yyyy-MM-dd\'"></td>\r\n			<td ng-bind="item.finalRepaymentTime|date:\'yyyy-MM-dd\'"></td>\r\n			<td ng-bind="item.nextRepaymentTime|date:\'yyyy-MM-dd\'"></td>\r\n			<td><a href="javascript:;" cp-do-sell-bond="item" sellable-bond-data="bondData">转让</a></td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n<div id="page">\r\n	<div paging\r\n		class="small"\r\n		page="bondDataPage"\r\n		page-size="bondDataPageSize"\r\n		total="bondDataTotal"\r\n		adjacent="2"\r\n		dots="..."\r\n		scroll-top="false"\r\n		hide-if-empty="true"\r\n		ul-class="pagination"\r\n		active-class="active"\r\n		disabled-class="disabled"\r\n		show-prev-next="true"\r\n		paging-action="bondDataPageSearch(page)">\r\n	</div>\r\n</div>\r\n\r\n\r\n</script>\r\n\r\n\r\n<!--selling bond list-->\r\n<script type="text/ng-template" id="template_sellingBondList">\r\n<table class="table-noline">\r\n	<thead>\r\n		<tr>\r\n			<td>标的名称</td>\r\n			<td>债权价值(元)</td>\r\n			<td>转让折扣率</td>\r\n			<td>转让价格(元)</td>\r\n			<td>转让时间</td>\r\n			<td>转让进度</td>\r\n			<td>本期回款日</td>\r\n			<td>投资截止时间</td>\r\n			<td>操作</td>\r\n		</tr>\r\n	</thead>\r\n	<tbody cp-list-selling-bond var-name="bondData">\r\n		<tr ng-repeat="item in bondData">\r\n			<td  class="nameTitle"><a  ng-bind="item.borrowName" ui-sref="bondDetail({id:item.id,userId:item.userId})" target="_blank"></a></td>\r\n			<td ng-bind="item.bondCapital"></td>\r\n			<td><span ng-bind="item.discountRate"></span>%</td>\r\n			<td ng-bind="item.sellingPrice"></td>\r\n			<td ng-bind="item.addTime|date:\'yyyy-MM-dd\'"></td>\r\n			<td>\r\n				<div class="progressbar_1">\r\n					<div class="bar" ng-style="{width:item.sellingProgress+\'%\'}"></div>\r\n				</div>\r\n\r\n			</td>\r\n			<td ng-bind="item.repaymentTime|date:\'yyyy-MM-dd\'"></td>\r\n			<td ng-bind="item.bondEndTime|date:\'yyyy-MM-dd\'"></td>\r\n			<td><a cp-do-stop-bond="item">撤回</a></td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n<div id="page">\r\n	<div paging\r\n		class="small"\r\n		page="bondDataPage"\r\n		page-size="bondDataPageSize"\r\n		total="bondDataTotal"\r\n		adjacent="2"\r\n		dots="..."\r\n		scroll-top="false"\r\n		hide-if-empty="true"\r\n		ul-class="pagination"\r\n		active-class="active"\r\n		disabled-class="disabled"\r\n		show-prev-next="true"\r\n		paging-action="bondDataPageSearch(page)">\r\n	</div>\r\n</div>\r\n</script>\r\n\r\n<!--sold bond list-->\r\n<script type="text/ng-template" id="template_soldBondList">\r\n<table class="table-noline">\r\n	<thead>\r\n		<tr>\r\n			<td>标的名称</td>\r\n			<td>债权价值(元)</td>\r\n			<td>转让折扣率</td>\r\n			<td>转让价格(元)</td>\r\n			<!-- <td>应收收益(元)</td> -->\r\n			<td>手续费(元)</td>\r\n			<td>赎回金额(元)</td>\r\n			<td>转让成功时间</td>\r\n			<td>操作</td>\r\n		</tr>\r\n	</thead>\r\n	<tbody cp-list-sold-bond var-name="bondData">\r\n		<tr ng-repeat="item in bondData">\r\n			<td class="nameTitle"><a  ng-bind="item.borrowName" ui-sref="bondDetail({id:item.id,userId:item.userId})" target="_blank"></a></td>\r\n			<td ng-bind="item.bondCapital"></td>\r\n			<td><span ng-bind="item.discountRate"></span>%</td>\r\n			<td ng-bind="item.sellingPrice"></td>\r\n			<!-- <td ng-bind="item.soldInterest"></td> -->\r\n			<td ng-bind="item.manageFee"></td>\r\n			<td ng-bind="item.redemptionMoney"></td>\r\n			<td ng-bind="item.completeTime|date:\'yyyy-MM-dd\'"></td>\r\n			<td><a cp-do-sold-bond-protocol-preview="item" target="_blank">转让协议</a>&nbsp;|&nbsp;<a cp-do-show-sold-bond-detail="item">详情</a></td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n<div id="page">\r\n	<div paging\r\n		class="small"\r\n		page="bondDataPage"\r\n		page-size="bondDataPageSize"\r\n		total="bondDataTotal"\r\n		adjacent="2"\r\n		dots="..."\r\n		scroll-top="false"\r\n		hide-if-empty="true"\r\n		ul-class="pagination"\r\n		active-class="active"\r\n		disabled-class="disabled"\r\n		show-prev-next="true"\r\n		paging-action="bondDataPageSearch(page)">\r\n	</div>\r\n</div>\r\n</script>\r\n\r\n\r\n<!--bought bond list-->\r\n<script type="text/ng-template" id="template_boughtBondList">\r\n<table class="table-noline">\r\n	<thead>\r\n		<tr>\r\n			<td>标的名称</td>\r\n			<td>债权价值(元)</td>\r\n			<td>转让折扣率</td>\r\n			<td>转入价格(元)</td>\r\n			<!-- <td>应付收益(元)</td> -->\r\n			<td>转入时间</td>\r\n			<td>操作</td>\r\n		</tr>\r\n	</thead>\r\n	<tbody cp-list-bought-bond var-name="bondData">\r\n		<tr ng-repeat="item in bondData">\r\n			<td class="nameTitle"><a  ng-bind="item.borrowName" ui-sref="bondDetail({id:item.bondId,userId:item.bondUserId})" target="_blank"></a></td>\r\n			<td ng-bind="item.investMoney"></td>\r\n			<td><span ng-bind="item.discountRate"></span>%</td>\r\n			<td ng-bind="item.boughtPrice"></td>\r\n			<!-- <td ng-bind="item.payInterest"></td> -->\r\n			<td ng-bind="item.addTime|date:\'yyyy-MM-dd\'"></td>\r\n			<td><a cp-do-bought-bond-protocol-preview="item" target="_blank">转让协议</a>&nbsp;|&nbsp;<a cp-do-show-bought-bond-detail="item">详情</a></td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n<div id="page">\r\n	<div paging\r\n		class="small"\r\n		page="bondDataPage"\r\n		page-size="bondDataPageSize"\r\n		total="bondDataTotal"\r\n		adjacent="2"\r\n		dots="..."\r\n		scroll-top="false"\r\n		hide-if-empty="true"\r\n		ul-class="pagination"\r\n		active-class="active"\r\n		disabled-class="disabled"\r\n		show-prev-next="true"\r\n		paging-action="bondDataPageSearch(page)">\r\n	</div>\r\n</div>\r\n</script>\r\n\r\n<!-- 债权转让表单 -->\r\n<script type="text/ng-template" id="template_sellBondForm">\r\n<form cp-form-publish-bond name="outsetForm" >\r\n	<div class="part-cont">\r\n		<div class="table-form" >\r\n			<table>\r\n				<tr>\r\n					<td class="name">债权价值：</td>\r\n					<td class="value" ><span class="bondCapital" ng-bind="_selectedBond.remainCapital"></span>元</td>\r\n				</tr>\r\n				<tr>\r\n					<td class="name">转让债权：</td>\r\n					<td class="value"><input class="textbox" size="22" type="number" name="bondCapital"  ng-model="_selectedBond.remainCapital" disabled="disabled" placeholder="金额必须小于等于债权价值"/>&nbsp;&nbsp;元</td>\r\n				</tr>\r\n				<tr>\r\n					<td class="name">转让折扣率：</td>\r\n					<td class="value"><div class="discountRate-wrap">\r\n						<a class="discountRate-minus" cp-ui-operate-discount-rate="false"></a>\r\n						<div class="discountRate-value">\r\n							<span ng-bind="_discountRate | number:1"></span>%\r\n						</div>\r\n						<a class="discountRate-plus" cp-ui-operate-discount-rate="true"></a></div>\r\n					</td>\r\n				</tr>\r\n				<tr>\r\n					<td class="name">转让价格：</td>\r\n					<td class="value"><span class="bondCapital" ng-bind="_selectedBond.remainCapital * (1 - _discountRate / 100) | number:2"></span>元</td>\r\n				</tr>\r\n			</table>\r\n		</div>\r\n\r\n		<div class="tip-box">\r\n			<h3 class="title"><i class="tip-box-lamp"></i><span>温馨提示：</span></h3>\r\n			<div class="content">\r\n				<p>1.债权转让成功后平台将收取手续费，手续费金额为转让金额*<span ng-if="_bondConfig.feeType == 1">将从投资人每笔成交额中扣除{{_bondConfig.sellFee}}元</span><span ng-if="_bondConfig.feeType == 2">{{_bondConfig.sellFee}}%</span></p>\r\n				<p>2.还款方式为一次性还款的项目转让时，转让成功前收益归转让人所有，转让成功后收益归受让人所有</p>\r\n				<p>3.还款方式为每月还息到期还本以及按月分期还款的项目转让时，还未到账的收益将全部转赠给受让人</p>\r\n			</div>\r\n		</div>\r\n		<div class="protocol-box">\r\n			<span><input type="checkbox" name="agree" ng-model="agree" required disable-invalid-styling="true" />我已阅读并同意<a cp-do-sell-bond-protocol-preview="_selectedBond">《转让协议》</a></span>\r\n			<div class="protocol-agree-message" ng-show="!outsetForm.agree.$valid"><i></i><span>请您阅读并同意《转让协议》！</span></div>\r\n\r\n		</div>\r\n		<div class="operate-bar">\r\n			<input type="hidden" name="discountRate" ng-value="_discountRate" />\r\n			<input type="hidden" name="borrowInvestmentId" ng-value="_selectedBond.borrowInvestmentId" />\r\n			<input type="submit" class="button-blue button-light" value="保存"/>\r\n			<input type="button" class="button-grey" value="返回" cp-do-back-sellable-bond-list />\r\n		</div>\r\n	</div>\r\n</form>\r\n</script>\r\n<!-- 债权转让表单 北极熊定制-->\r\n<script type="text/ng-template" id="template_sellBondForm_beijixiong">\r\n<form cp-form-publish-bond name="outsetForm" >\r\n	<div class="part-cont">\r\n		<div class="table-form" >\r\n			<table>\r\n				<tr>\r\n					<td class="name">债权价值：</td>\r\n					<td class="value" ><span class="bondCapital" ng-bind="_selectedBond.remainCapital"></span>元</td>\r\n				</tr>\r\n				<tr>\r\n					<td class="name">转让债权：</td>\r\n					<td class="value"><input class="textbox" size="22" type="number" name="bondCapital"  ng-model="_selectedBond.remainCapital" disabled="disabled" placeholder="金额必须小于等于债权价值"/>&nbsp;&nbsp;元</td>\r\n				</tr>\r\n				<tr>\r\n					<td class="name">转让折扣率：</td>\r\n					<td class="value">\r\n						<div class="discountRate-wrap">\r\n							<a class="discountRate-minus" cp-ui-operate-discount-rate="false"></a>\r\n							<div class="discountRate-value">\r\n								<span ng-bind="_discountRate | number:1"></span>%\r\n							</div>\r\n							<a class="discountRate-plus" cp-ui-operate-discount-rate="true"></a>\r\n						</div>\r\n						<div class="tips">* 转让折扣率为您愿意将债权转让的折扣率，如折让率为1%，则您转让债权的价格为本金*（100%-1%）</div>\r\n					</td>\r\n				</tr>\r\n				<tr>\r\n					<td class="name">转让价格：</td>\r\n					<td class="value"><span class="bondCapital" ng-bind="_selectedBond.remainCapital * (1 - _discountRate / 100) | number:2"></span>元</td>\r\n				</tr>\r\n			</table>\r\n		</div>\r\n\r\n		<div class="tip-box">\r\n			<h3 class="title"><i class="tip-box-lamp"></i><span>温馨提示：</span></h3>\r\n			<div class="content">\r\n				<p>1.债权转让成功后平台将收取手续费，手续费金额为转让金额*<span ng-if="_bondConfig.feeType == 1">将从投资人每笔成交额中扣除{{_bondConfig.sellFee}}元</span><span ng-if="_bondConfig.feeType == 2">{{_bondConfig.sellFee}}%</span></p>\r\n				<p>2.还款方式为一次性还款的项目转让时，转让成功前收益归转让人所有，转让成功后收益归受让人所有</p>\r\n				<p>3.还款方式为每月还息到期还本以及按月分期还款的项目转让时，还未到账的收益将全部转赠给受让人</p>\r\n			</div>\r\n		</div>\r\n		<div class="protocol-box">\r\n			<span><input type="checkbox" name="agree" ng-model="agree" required disable-invalid-styling="true" />我已阅读并同意<a cp-do-sell-bond-protocol-preview="_selectedBond">《转让协议》</a></span>\r\n			<div class="protocol-agree-message" ng-show="!outsetForm.agree.$valid"><i></i><span>请您阅读并同意《转让协议》！</span></div>\r\n\r\n		</div>\r\n		<div class="operate-bar">\r\n			<input type="hidden" name="discountRate" ng-value="_discountRate" />\r\n			<input type="hidden" name="borrowInvestmentId" ng-value="_selectedBond.borrowInvestmentId" />\r\n			<input type="submit" class="button-blue button-light" value="保存"/>\r\n			<input type="button" class="button-grey" value="返回" cp-do-back-sellable-bond-list />\r\n		</div>\r\n	</div>\r\n</form>\r\n</script>\r\n\r\n<!--stop bond record list-->\r\n<script type="text/ng-template" id="template_stopBondRecordList">\r\n<table class="table-noline">\r\n	<thead>\r\n		<tr>\r\n			<td>标的名称</td>\r\n			<td>债权价值(元)</td>\r\n			<td>转让价格(元)</td>\r\n			<td>撤回时间</td>\r\n			<td>撤回类型</td>\r\n		</tr>\r\n	</thead>\r\n	<tbody cp-list-stop-bond-record var-name="stopBondRecordData" >\r\n		<tr ng-repeat="item in stopBondRecordData">\r\n			<td class="nameTitle"><a  ng-bind="item.borrowName" ui-sref="bondDetail({id:item.id,userId:item.userId})" target="_blank"></a></td>\r\n			<td ng-bind="item.bondCapital"></td>\r\n			<td ng-bind="item.sellingPrice"></td>\r\n			<td ng-bind="item.completeTime|date:\'yyyy-MM-dd\'"></td>\r\n			<td ng-switch="item.status">\r\n				<span ng-switch-when="0">发布</span>\r\n				<span ng-switch-when="1">审核通过</span>\r\n				<span ng-switch-when="2">审核不通过</span>\r\n				<span ng-switch-when="3">转让完成</span>\r\n				<span ng-switch-when="4">自动撤回</span>\r\n				<span ng-switch-when="5">后台撤回</span>\r\n				<span ng-switch-when="6">用户撤回</span>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n<div id="page">\r\n	<div paging\r\n		class="small"\r\n		page="stopBondRecordDataPage"\r\n		page-size="stopBondRecordDataPageSize"\r\n		total="stopBondRecordDataTotal"\r\n		adjacent="2"\r\n		dots="..."\r\n		scroll-top="false"\r\n		hide-if-empty="true"\r\n		ul-class="pagination"\r\n		active-class="active"\r\n		disabled-class="disabled"\r\n		show-prev-next="true"\r\n		paging-action="stopBondRecordDataPageSearch(page)">\r\n	</div>\r\n</div>\r\n</script>\r\n\r\n<!-- 借款详情页 上半部分模板 -->\r\n<!-- 目前没有项目使用 2017-1-9 16:22:01 -->\r\n<script type="text/ng-template" id="template_borrowDetailBasic">\r\n<div class="mod-panel mod-inv-basic">\r\n	<div class="mod-head">\r\n		<div class="inv-title" ng-class="{danbg:borrowData.type==101,dibg:borrowData.type==102,xinbg:borrowData.type==103,miaobg:borrowData.type==104}">\r\n			<span class="inv-name inlineblock" ng-bind="borrowData.name"></span>\r\n			<i class="inv-novice" ng-show="borrowData.category == 1"></i>\r\n			<i class="invest-type inlineblock"></i>\r\n			<span class="inv-sn">借款编号：<span ng-bind="borrowData.borrowNo"></span></span>\r\n			<span class="proto-view floatright black3">投资协议范文<a class="light" cp-do-borrow-protocol-preview="$stateParams.id">预览</a></span>\r\n		</div>\r\n	</div>\r\n	<div class="mod-body">\r\n		<div class="basic-part1">\r\n			<table>\r\n				<tr>\r\n					<td width="25%">预期年化利率</td>\r\n					<td width="25%">项目期限</td>\r\n					<td width="30%">借款金额</td>\r\n					<td width="20%" rowspan="2">\r\n						<i class="knob" cp-ui-knob="borrowData.progressPercentage" r="90" color="#f56a52">\r\n							<span class="per-value lightest"><span class="ft28" ng-bind="borrowData.progressPercentage"></span>%</span>\r\n						</i>\r\n					</td>\r\n				</tr>\r\n				<tr>\r\n					<td class="black3"><span class="ft30 lightest" ng-bind="borrowData.rateYear | number: 2"></span>%</td>\r\n					<td>\r\n						<span class="ft30 black1" ng-bind="borrowData.timeLimit"></span>\r\n						<span ng-if="borrowData.timeType == 0">个月</span>\r\n						<span ng-if="borrowData.timeType == 1">天</span>\r\n					</td>\r\n					<td><span class="ft30 black1" ng-bind="borrowData.amountBorrow | number: 2"></span>元</td>\r\n				</tr>\r\n			</table>\r\n		</div>\r\n		<div class="basic-part2" cp-common-include="\'template_borrowDetailBasic2\'">\r\n\r\n		</div>\r\n	</div>\r\n</div>\r\n</script>\r\n\r\n<script type="text/ng-template" id="template_borrowDetailBasic2">\r\n<table>\r\n	<tr>\r\n		<td>还款方式\r\n			<span ng-if="borrowData.repayWay == 1">按月分期还款</span>\r\n			<span ng-if="borrowData.repayWay == 2">一次性还款</span>\r\n			<span ng-if="borrowData.repayWay == 3">每月还息到期还本</span>\r\n		</td>\r\n		<td>起购金额<span><span ng-bind="borrowData.investMin | number: 2"></span>元</span></td>\r\n		<td>最大投标\r\n			<span ng-if="borrowData.investMax == 0">无限制</span>\r\n			<span ng-if="borrowData.investMax !=0 ">{{borrowData.investMax | number: 2}}元</span>\r\n		</td>\r\n	</tr>\r\n	<tr>\r\n		<td>当前状态\r\n			<span ng-if="borrowData.status == 0">待初审</span>\r\n			<span ng-if="borrowData.status == 1">招标中</span>\r\n			<span ng-if="borrowData.status == 2 || borrowData.status == 3 || borrowData.status == 7">招标结束</span>\r\n			<span ng-if="borrowData.status == 5 || borrowData.status == 6">招标失败</span>\r\n			<span ng-if="borrowData.status == 4">还款中</span>\r\n			<span ng-if="borrowData.status == 8">已还款</span>\r\n		</td>\r\n		<td>发布日期<span ng-bind="borrowData.openTime | date: \'yyyy-MM-dd\'"></span></td>\r\n		<td>结束日期<span ng-bind="borrowData.validDate | date: \'yyyy-MM-dd\'"></span></td>\r\n	</tr>\r\n</table>\r\n</script>\r\n\r\n<!-- 借款详情页 标的当前状态 -->\r\n<!-- 用于北极熊二期 2017-1-9 16:27:15 -->\r\n<script type="text/ng-template" id="template_borrowDetailInfo_status">\r\n	<span ng-if="borrowData.status == 0||borrowData.status==9||borrowData.status==10||borrowData.status==11||borrowData.status==12">待初审</span>\r\n	<span ng-if="borrowData.status == 1">招标中</span>\r\n	<span ng-if="borrowData.status == 2 || borrowData.status == 3 || borrowData.status == 7">招标结束</span>\r\n	<span ng-if="borrowData.status == 5 || borrowData.status == 6">招标失败</span>\r\n	<span ng-if="borrowData.status == 4">还款中</span>\r\n	<span ng-if="borrowData.status == 8">已还款</span>\r\n</script>\r\n\r\n<!-- 借款详情 start -->\r\n<script type="text/ng-template" id="template_borrowDetailDetail">\r\n<div class="dir-tabs mod-panel" tabs>\r\n	<div class="tabs-nav3 clearfix" cp-ui-fixed>\r\n		<a href="javascript:;" ng-click="gotoAnchor(\'userInfo\')" tab-index="0">借款方详情</a>\r\n		<a href="javascript:;" ng-click="gotoAnchor(\'borrowDesc\')" tab-index="0">借款描述</a>\r\n		<a href="javascript:;" ng-click="gotoAnchor(\'borrowInf\')" tab-index="0">借款资料</a>\r\n		<a href="javascript:;" ng-click="gotoAnchor(\'investRecord\')" tab-index="0">投资记录</a>\r\n	</div>\r\n	<div class="tabs-group">\r\n		<div class="mod-panel mod-inv-detail">\r\n			<div class="mod-body">\r\n				<div cp-common-include="\'template_borrowDetailDetailUserInfo\'"></div>\r\n			 	<div cp-common-include="\'template_borrowDetailDetailDescribe\'"></div>\r\n			 	<div cp-common-include="\'template_borrowDetailDetailBorrowInfo\'"></div>\r\n				<div cp-common-include="\'template_borrowDetailDetailInvestRecord\'"></div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n</script>\r\n<!-- 借款详情 end -->\r\n\r\n<!-- 借款详情2 用于北极熊：北极熊是线下债权线上转让，不分借款和债权 -->\r\n<!-- 原名：template_borrowDetailDetail_easyer -->\r\n<script type="text/ng-template" id="template_borrowDetailDetail_debts">\r\n<div class="dir-tabs mod-panel" tabs>\r\n	<!--<div class="tabs-nav3 clearfix" cp-ui-fixed>\r\n		<a href="javascript:;" ng-click="gotoAnchor(\'userInfo\')" tab-index="0">债权转让详情</a>\r\n		<a href="javascript:;" ng-click="gotoAnchor(\'borrowDesc\')" tab-index="0">债权转让描述</a>\r\n		<a href="javascript:;" ng-click="gotoAnchor(\'borrowInf\')" tab-index="0">债权转让资料</a>\r\n		<a href="javascript:;" ng-click="gotoAnchor(\'investRecord\')" tab-index="0">投资记录</a>\r\n	</div>-->\r\n	<div class="tabs-group">\r\n		<div class="mod-panel mod-inv-detail">\r\n			<div class="mod-body">\r\n				<div cp-common-include="\'template_borrowDetailDetailUserInfo_debts\'"></div>\r\n			 	<div cp-common-include="\'template_borrowDetailDetailDescribe_debts\'"></div>\r\n			 	<div cp-common-include="\'template_borrowDetailDetailBorrowInfoSeter_debts\'"></div>\r\n				<div cp-common-include="\'template_borrowDetailDetailInvestRecord\'"></div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n</script>\r\n\r\n<script type="text/ng-template" id="template_borrowDetailDetailUserInfo_debts">\r\n<div class="part user-info">\r\n	<h3 class="anchor-name"><a id="userInfo">债权转让详情</a></h3>\r\n	<div class="anchor-content" ng-show="borrowData.userBaseInfoRes" >\r\n		<table class="w0">\r\n			<tr>\r\n				<td>真实姓名：<span ng-bind="borrowData.userBaseInfoRes.realName"></span></td>\r\n				<td>婚姻状况：<span ng-bind="borrowData.userBaseInfoRes.maritalStatus == 1 ? \'已婚\' : \'未婚\'"></span></td>\r\n				<td ng-switch="borrowData.userBaseInfoRes.monthIncomeRange">收入范围：\r\n					<span ng-switch-when="0">3000元以下</span>\r\n					<span ng-switch-when="1">3000-5000元</span>\r\n					<span ng-switch-when="2">5000-8000元</span>\r\n					<span ng-switch-when="3">8000-10000元</span>\r\n					<span ng-switch-when="4">10000-13000元</span>\r\n					<span ng-switch-when="5">13000-15000元</span>\r\n					<span ng-switch-when="6">15000-20000元</span>\r\n					<span ng-switch-when="7">20000元以上</span>\r\n				</td>\r\n			</tr>\r\n			<tr>\r\n				<td>年龄：<span ng-bind="borrowData.userBaseInfoRes.age"></span>岁</td>\r\n				<td>户籍城市：<span ng-bind="borrowData.userBaseInfoRes.province"></span><span ng-bind="borrowData.userBaseInfoRes.city"></span></td>\r\n				<td>车产：<span ng-bind="borrowData.userBaseInfoRes.hasCar == 1 ? \'有车\' : \'无车\'"></span></td>\r\n			</tr>\r\n			<tr>\r\n				<td ng-switch="borrowData.userBaseInfoRes.education">学历：\r\n					<span ng-switch-when="0">小学</span>\r\n					<span ng-switch-when="1">初中</span>\r\n					<span ng-switch-when="2">高中</span>\r\n					<span ng-switch-when="3">中专</span>\r\n					<span ng-switch-when="4">大专</span>\r\n					<span ng-switch-when="5">本科</span>\r\n					<span ng-switch-when="6">硕士</span>\r\n					<span ng-switch-when="7">博士</span>\r\n					<span ng-switch-default>其他</span>\r\n				</td>\r\n				<td ng-switch="borrowData.userBaseInfoRes.workExperience">工作时间：\r\n					<span ng-switch-when="0">0-3年</span>\r\n					<span ng-switch-when="1">3-5年</span>\r\n					<span ng-switch-when="2">5-8年</span>\r\n					<span ng-switch-when="3">8年以上</span>\r\n				</td>\r\n				<td>房产：<span ng-bind="borrowData.userBaseInfoRes.hasHouse == 1 ? \'有房\' : \'无房\'"></span></td>\r\n			</tr>\r\n		</table>\r\n	</div>\r\n	<div class="anchor-content" ng-show="borrowData.corpUserInfoRes" >\r\n		<table class="w0">\r\n			<tr>\r\n				<td>转让企业名称：<span ng-bind="borrowData.corpUserInfoRes.corpName"></span></td>\r\n				<td>法人真实姓名：<span ng-bind="borrowData.corpUserInfoRes.legalRepresentative"></span></td>\r\n			</tr>\r\n			<tr>\r\n				<!-- <td>转让企业代表：<span ng-bind="borrowData.realName"></span></td> -->\r\n				<td>公司注册号：<span ng-bind="borrowData.corpUserInfoRes.businessLicenceCode"></span></td>\r\n				<td>公司地址：<span ng-bind="borrowData.corpUserInfoRes.corpAddress"></span></td>\r\n			</tr>\r\n		</table>\r\n	</div>\r\n</div>\r\n</script>\r\n\r\n<script type="text/ng-template" id="template_borrowDetailDetailDescribe_debts">\r\n<div class="part">\r\n	<h3 class="anchor-name"><a id="borrowDesc">债权转让描述</a></h3>\r\n	<div class="anchor-content">\r\n		<div class="borrow-desc-content" ng-bind-html="borrowData.content | html"></div>\r\n		<div id="page" ng-show="!borrowData.content">\r\n			<div class="no-data" ng-class="noData">暂时没有数据</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n</script>\r\n\r\n<script type="text/ng-template" id="template_borrowDetailDetailBorrowInfoSeter_debts">\r\n<div class="part borrow-info">\r\n	<h3 class="anchor-name"><a id="borrowInf">债权转让资料</a></h3>\r\n	<div ng-if="borrowData">\r\n		<div class="anchor-content" cp-list params="{{ {\'pageSize\':1,\'rows\':1} }}" data="borrowData.borrowImageList || []" var-name="imageData">\r\n			<ul class="clearfix image-list" cp-ui-image-preview="imageData">\r\n				<li ng-repeat="item in imageData" ng-class="{mr0: $index % 3 == 2,floatright: $index % 3 == 2}">\r\n					<img ng-src="{{domain + item.imageUrl + \'?imageView2/1/w/800\'}}"  />\r\n				</li>\r\n			</ul>\r\n			<div id="page">\r\n				<div paging\r\n					class="small"\r\n					page="imageDataPage"\r\n					page-size="imageDataPageSize"\r\n					total="imageDataTotal"\r\n					adjacent="2"\r\n					dots="..."\r\n					scroll-top="false"\r\n					hide-if-empty="true"\r\n					ul-class="pagination"\r\n					active-class="active"\r\n					disabled-class="disabled"\r\n					show-prev-next="true"\r\n					paging-action="imageDataPageSearch(page)">\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n</script>\r\n\r\n<!-- 借款详情3 用于坤龙车贷 -->\r\n<script type="text/ng-template" id="template_borrowDetailDetail_kunlongchedai">\r\n<div class="dir-tabs mod-panel" tabs>\r\n	<div class="tabs-nav3 clearfix" cp-ui-fixed>\r\n		<!-- ///////客户要求：详情页去掉“借款方详情”/////// -->\r\n		<!-- <a href="javascript:;" ng-click="gotoAnchor(\'userInfo\')" tab-index="0">借款方详情</a>  -->\r\n		<a href="javascript:;" ng-click="gotoAnchor(\'borrowDesc\')" tab-index="0">借款描述</a>\r\n		<a href="javascript:;" ng-click="gotoAnchor(\'borrowInf\')" tab-index="0">借款资料</a>\r\n		<a href="javascript:;" ng-click="gotoAnchor(\'investRecord\')" tab-index="0">投资记录</a>\r\n	</div>\r\n	<div class="tabs-group">\r\n		<div class="mod-panel mod-inv-detail">\r\n			<div class="mod-body">\r\n				<!-- <div cp-common-include="\'template_borrowDetailDetailUserInfo_username\'"></div> -->\r\n			 	<div cp-common-include="\'template_borrowDetailDetailDescribe\'"></div>\r\n			 	<div cp-common-include="\'template_borrowDetailDetailBorrowInfo_imgonerow\'"></div>\r\n				<div cp-common-include="\'template_borrowDetailDetailInvestRecord\'"></div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n</script>\r\n\r\n<!-- 借款详情4 用于宏高财富 -->\r\n<script type="text/ng-template" id="template_borrowDetailDetail_honggao">\r\n	<div class="dir-tabs mod-panel" tabs>\r\n		<div class="tabs-nav3 clearfix" cp-ui-fixed>\r\n			<!--  <a href="javascript:;" ng-click="gotoAnchor(\'userInfo\')" tab-index="0">借款方详情</a> -->\r\n			<a href="javascript:;" ng-click="gotoAnchor(\'borrowDesc\')" tab-index="0">借款描述</a>\r\n			<a href="javascript:;" ng-click="gotoAnchor(\'borrowInf\')" tab-index="0">借款资料</a>\r\n			<a href="javascript:;" ng-click="gotoAnchor(\'investRecord\')" tab-index="0">投资记录</a>\r\n		</div>\r\n		<div class="tabs-group">\r\n			<div class="mod-panel mod-inv-detail">\r\n				<div class="mod-body">\r\n				<!-- 	<div cp-common-include="\'template_borrowDetailDetailUserInfo_username\'"></div> -->\r\n					<div cp-common-include="\'template_borrowDetailDetailDescribe\'"></div>\r\n					<div cp-common-include="\'template_borrowDetailDetailBorrowInfo_imgonerow\'"></div>\r\n					<div cp-common-include="\'template_borrowDetailDetailInvestRecord\'"></div>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</script>\r\n\r\n<!-- 债权详情 -->\r\n<script type="text/ng-template" id="template_bondDetailDetail">\r\n<div class="dir-tabs mod-panel" tabs>\r\n	<div class="tabs-nav3 clearfix" cp-ui-fixed>\r\n		<a href="javascript:;" ng-click="gotoAnchor(\'userInfo\')" tab-index="0">借款方详情</a>\r\n		<a href="javascript:;" ng-click="gotoAnchor(\'borrowDesc\')" tab-index="0">借款描述</a>\r\n		<a href="javascript:;" ng-click="gotoAnchor(\'borrowInf\')" tab-index="0">借款资料</a>\r\n		<a href="javascript:;" ng-click="gotoAnchor(\'repayPlan\')" tab-index="0">还款计划</a>\r\n		<a href="javascript:;" ng-click="gotoAnchor(\'transRecord\')" tab-index="0">债权转让记录</a>\r\n	</div>\r\n	<div class="tabs-group">\r\n		<div class="mod-panel mod-inv-detail">\r\n			<div class="mod-body">\r\n				<div cp-common-include="[\'template_borrowDetailDetailUserInfo\', \'template_borrowDetailDetailDescribe\', \'template_borrowDetailDetailBorrowInfo\']"\r\n					var-watch="bondData"\r\n					vars="{borrowData: {userBaseInfoRes: bondData.userBaseInfo, corpUserInfoRes:bondData.corpUserInfo, content: bondData.borrow.content, borrowImageList: bondData.borrow.borrowImageList} }"></div>\r\n				<div cp-common-include="[\'template_borrowDetailDetailRepayPlan\', \'template_borrowDetailDetailTransRecord\']"></div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n</script>\r\n\r\n<script type="text/ng-template" id="template_borrowDetailDetailUserInfo">\r\n<div class="part user-info">\r\n	<h3 class="anchor-name"><a id="userInfo">借款方详情</a></h3>\r\n	<div class="anchor-content" ng-show="borrowData.userBaseInfoRes" >\r\n		<table class="w0">\r\n			<tr>\r\n				<td>真实姓名：<span ng-bind="borrowData.userBaseInfoRes.realName"></span></td>\r\n				<td>婚姻状况：<span ng-bind="borrowData.userBaseInfoRes.maritalStatus == 1 ? \'已婚\' : \'未婚\'"></span></td>\r\n				<td ng-switch="borrowData.userBaseInfoRes.monthIncomeRange">收入范围：\r\n					<span ng-switch-when="0">3000元以下</span>\r\n					<span ng-switch-when="1">3000-5000元</span>\r\n					<span ng-switch-when="2">5000-8000元</span>\r\n					<span ng-switch-when="3">8000-10000元</span>\r\n					<span ng-switch-when="4">10000-13000元</span>\r\n					<span ng-switch-when="5">13000-15000元</span>\r\n					<span ng-switch-when="6">15000-20000元</span>\r\n					<span ng-switch-when="7">20000元以上</span>\r\n				</td>\r\n			</tr>\r\n			<tr>\r\n				<td>年龄：<span ng-bind="borrowData.userBaseInfoRes.age"></span>岁</td>\r\n				<td>户籍城市：<span ng-bind="borrowData.userBaseInfoRes.province"></span><span ng-bind="borrowData.userBaseInfoRes.city"></span></td>\r\n				<td>车产：<span ng-bind="borrowData.userBaseInfoRes.hasCar == 1 ? \'有车\' : \'无车\'"></span></td>\r\n			</tr>\r\n			<tr>\r\n				<td ng-switch="borrowData.userBaseInfoRes.education">学历：\r\n					<span ng-switch-when="0">小学</span>\r\n					<span ng-switch-when="1">初中</span>\r\n					<span ng-switch-when="2">高中</span>\r\n					<span ng-switch-when="3">中专</span>\r\n					<span ng-switch-when="4">大专</span>\r\n					<span ng-switch-when="5">本科</span>\r\n					<span ng-switch-when="6">硕士</span>\r\n					<span ng-switch-when="7">博士</span>\r\n					<span ng-switch-default>其他</span>\r\n				</td>\r\n				<td ng-switch="borrowData.userBaseInfoRes.workExperience">工作时间：\r\n					<span ng-switch-when="0">0-3年</span>\r\n					<span ng-switch-when="1">3-5年</span>\r\n					<span ng-switch-when="2">5-8年</span>\r\n					<span ng-switch-when="3">8年以上</span>\r\n				</td>\r\n				<td>房产：<span ng-bind="borrowData.userBaseInfoRes.hasHouse == 1 ? \'有房\' : \'无房\'"></span></td>\r\n			</tr>\r\n		</table>\r\n	</div>\r\n	<div class="anchor-content" ng-show="borrowData.corpUserInfoRes" >\r\n		<table class="w0">\r\n			<tr>\r\n				<td>公司名称：<span ng-bind="borrowData.corpUserInfoRes.corpName"></span></td>\r\n				<td>法人真实姓名：<span ng-bind="borrowData.corpUserInfoRes.legalRepresentative"></span></td>\r\n			</tr>\r\n			<tr>\r\n				<td>借款人真实姓名：<span ng-bind="borrowData.realName"></span></td>\r\n				<td>公司注册号：<span ng-bind="borrowData.corpUserInfoRes.businessLicenceCode"></span></td>\r\n			</tr>\r\n			<tr>\r\n				<td>公司地址：<span ng-bind="borrowData.corpUserInfoRes.corpAddress"></span></td>\r\n				<td></td>\r\n			</tr>\r\n		</table>\r\n	</div>\r\n</div>\r\n</script>\r\n\r\n<script type="text/ng-template" id="template_borrowDetailDetailDescribe">\r\n<div class="part">\r\n	<h3 class="anchor-name"><a id="borrowDesc">借款描述</a></h3>\r\n	<div class="anchor-content">\r\n		<div class="borrow-desc-content" ng-bind-html="borrowData.content | html"></div>\r\n		<div id="page" ng-show="!borrowData.content">\r\n			<div class="no-data" ng-class="noData">暂时没有数据</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n</script>\r\n\r\n<script type="text/ng-template" id="template_borrowDetailDetailBorrowInfo">\r\n<div class="part borrow-info">\r\n	<h3 class="anchor-name"><a id="borrowInf">借款资料</a></h3>\r\n	<div ng-if="borrowData">\r\n		<div class="anchor-content" cp-list page-size="6" data="borrowData.borrowImageList || []" var-name="imageData">\r\n			<ul class="clearfix image-list" cp-ui-image-preview="imageData">\r\n				<li ng-repeat="item in imageData" ng-class="{mr0: $index % 3 == 2,floatright: $index % 3 == 2}">\r\n					<img ng-src="{{domain + item.imageUrl + \'?imageView2/1/w/800\'}}"  />\r\n				</li>\r\n			</ul>\r\n			<div id="page">\r\n				<div paging\r\n					class="small"\r\n					page="imageDataPage"\r\n					page-size="imageDataPageSize"\r\n					total="imageDataTotal"\r\n					adjacent="2"\r\n					dots="..."\r\n					scroll-top="false"\r\n					hide-if-empty="true"\r\n					ul-class="pagination"\r\n					active-class="active"\r\n					disabled-class="disabled"\r\n					show-prev-next="true"\r\n					paging-action="imageDataPageSearch(page)">\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n</script>\r\n<script type="text/ng-template" id="template_borrowDetailDetailBorrowInfoSeter">\r\n<div class="part borrow-info">\r\n	<h3 class="anchor-name"><a id="borrowInf">借款资料</a></h3>\r\n	<div ng-if="borrowData">\r\n		<div class="anchor-content" params="{{ {\'pageSize\':1,\'rows\':1} }}"  cp-list data="borrowData.borrowImageList || []" var-name="imageData">\r\n			<ul class="clearfix image-list" cp-ui-image-preview="imageData">\r\n				<li ng-repeat="item in imageData" ng-class="{mr0: $index % 3 == 2,floatright: $index % 3 == 2}">\r\n					<img ng-src="{{domain + item.imageUrl + \'?imageView2/1/w/300/\'}}"  />\r\n				</li>\r\n			</ul>\r\n			<div id="page">\r\n				<div paging\r\n					class="small"\r\n					page="imageDataPage"\r\n					page-size="imageDataPageSize"\r\n					total="imageDataTotal"\r\n					adjacent="2"\r\n					dots="..."\r\n					scroll-top="false"\r\n					hide-if-empty="true"\r\n					ul-class="pagination"\r\n					active-class="active"\r\n					disabled-class="disabled"\r\n					show-prev-next="true"\r\n					paging-action="imageDataPageSearch(page)">\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n</script>\r\n\r\n<script type="text/ng-template" id="template_borrowDetailDetailInvestRecord">\r\n<div class="part invest-record">\r\n	<h3 class="anchor-name"><a id="investRecord">投资记录</a></h3>\r\n	<div class="anchor-content">\r\n		<table class="w0 list-table">\r\n			<thead>\r\n				<tr>\r\n					<td>序号</td>\r\n					<td>投资人</td>\r\n					<td>投资金额</td>\r\n					<td>投资时间</td>\r\n					<td>投资方式</td>\r\n					<td>状态</td>\r\n				</tr>\r\n			</thead>\r\n			<tbody cp-list-borrow-investment-record="$stateParams.id" var-name="record">\r\n				<tr ng-repeat="item in record" ng-class="{even: $index % 2, odd: ($index + 1) % 2}">\r\n					<td ng-bind="(recordPage-1) * recordPageSize +  $index + 1"></td>\r\n					<td ng-bind="item.username"></td>\r\n					<td ><span class="money">￥</span><span ng-bind="item.capital | number :2"></span></td>\r\n					<td ng-bind="item.addTime|date:\'yyyy-MM-dd\'"></td>\r\n\r\n					<td ng-switch="item.investmentType">\r\n						<span ng-switch-when="0">网站投标</span>\r\n						<span ng-switch-when="1">APP投标</span>\r\n						<span ng-switch-when="2">微信投标</span>\r\n						<span ng-switch-when="3">自动投标</span>\r\n					</td>\r\n					<td>\r\n						<span ng-if="item.status >= 0 && item.status <= 2">完成</span>\r\n						<span ng-if="item.status > 2">失败</span>\r\n					</td>\r\n				</tr>\r\n			</tbody>\r\n		</table>\r\n		<div id="page">\r\n			<div paging\r\n				class="small"\r\n				page="recordPage"\r\n				page-size="recordPageSize"\r\n				total="recordTotal"\r\n				adjacent="2"\r\n				dots="..."\r\n				scroll-top="false"\r\n				hide-if-empty="true"\r\n				ul-class="pagination"\r\n				active-class="active"\r\n				disabled-class="disabled"\r\n				show-prev-next="true"\r\n				paging-action="recordPageSearch(page)">\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n</script>\r\n\r\n<script type="text/ng-template" id="template_borrowDetailDetailRepayPlan">\r\n<div class="part repay-plan">\r\n	<h3 class="anchor-name"><a id="repayPlan">还款计划</a></h3>\r\n	<div class="anchor-content">\r\n		<table class="w0 list-table">\r\n			<thead>\r\n				<tr>\r\n					<td>期数</td>\r\n					<td>年化利率</td>\r\n					<td>计息起始日</td>\r\n					<td>预计还款日期</td>\r\n					<td>应还本息(元)</td>\r\n					<td>应还利息(元)</td>\r\n					<td>状态</td>\r\n				</tr>\r\n			</thead>\r\n			<tbody cp-list-bond-repay-plan="bondData" var-name="repayList">\r\n				<tr ng-repeat="item in repayList">\r\n					<td ng-bind="item.period + \'/\' + item.totalPeriod"></td>\r\n					<td ><span ng-bind="item.rateYear"></span>%</td>\r\n					<td ng-bind="item.interestStartTime|date:\'yyyy-MM-dd\'"></td>\r\n					<td ng-bind="item.repaymentTime|date:\'yyyy-MM-dd\'"></td>\r\n\r\n					<td ng-bind="item.repaymentAmount | number :2"></td>\r\n					<td ng-bind="item.interest | number :2"></td>\r\n					<td >\r\n\r\n						<span ng-if="item.status==0">未还款</span>\r\n						<span ng-if="item.status==1">已还款</span>\r\n					</td>\r\n				</tr>\r\n			</tbody>\r\n		</table>\r\n		<div id="page">\r\n			<div paging\r\n				class="small"\r\n				page="repayListPage"\r\n				page-size="repayListPageSize"\r\n				total="repayListTotal"\r\n				adjacent="2"\r\n				dots="..."\r\n				scroll-top="false"\r\n				hide-if-empty="true"\r\n				ul-class="pagination"\r\n				active-class="active"\r\n				disabled-class="disabled"\r\n				show-prev-next="true"\r\n				paging-action="repayListPageSearch(page)">\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n</script>\r\n\r\n<script type="text/ng-template" id="template_borrowDetailDetailTransRecord">\r\n<div class="part trans-record">\r\n	<h3 class="anchor-name"><a id="transRecord">债权转让记录</a></h3>\r\n	<div class="anchor-content">\r\n		<table class="w0 list-table">\r\n			<thead>\r\n				<tr>\r\n					<td>序号</td>\r\n					<td>投资人</td>\r\n					<td>债权价值</td>\r\n					<td>投资金额</td>\r\n					<td>投资时间</td>\r\n					<td>投资方式</td>\r\n				</tr>\r\n			</thead>\r\n			<tbody cp-list-bond-transfer-record="$stateParams.id" var-name="investmentList">\r\n				<tr ng-repeat="item in investmentList">\r\n					<td ng-bind="(investmentListPage-1) * investmentListPageSize + $index + 1"></td>\r\n					<td ng-bind="item.username"></td>\r\n					<td><span class="money">￥</span><span ng-bind="item.investMoney | number :2"></span></td>\r\n					<td><span class="money">￥</span><span ng-bind="item.boughtPrice | number :2"></span></td>\r\n					<td ng-bind="item.addTime|date:\'yyyy-MM-dd\'"></td>\r\n					<td ng-switch="item.investType">\r\n						<span ng-switch-when="0">网站投标</span>\r\n						<span ng-switch-when="1">APP投标</span>\r\n						<span ng-switch-when="2">WAP投标</span>\r\n						<span ng-switch-when="3">自动投标</span>\r\n					</td>\r\n				</tr>\r\n			</tbody>\r\n		</table>\r\n		<div id="page">\r\n			<div paging\r\n				class="small"\r\n				page="investmentListPage"\r\n				page-size="investmentListPageSize"\r\n				total="investmentListTotal"\r\n				adjacent="2"\r\n				dots="..."\r\n				scroll-top="false"\r\n				hide-if-empty="true"\r\n				ul-class="pagination"\r\n				active-class="active"\r\n				disabled-class="disabled"\r\n				show-prev-next="true"\r\n				paging-action="investmentListPageSearch(page)">\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n</script>\r\n\r\n\r\n\r\n\r\n<script type="text/ng-template" id="template_borrowInvestmentRank">\r\n<div class="dir-tabs mod-panel  mod-inv-rank">\r\n	<div class="mod-head">\r\n		<h5 class="h5">投资排行</h5>\r\n	</div>\r\n	<div class="mod-body">\r\n		<table>\r\n			<thead>\r\n				<tr>\r\n					<td width="20%">排名</td>\r\n					<td width="40%">投资人</td>\r\n					<td width="40%">投资金额</td>\r\n				</tr>\r\n			</thead>\r\n			<tbody cp-list-borrow-investment-rank="$stateParams.id" var-name="monthRankData">\r\n				<tr ng-repeat="item in monthRankData" ng-class="{odd: ($index + 1) % 2}">\r\n					<td>\r\n						<i ng-if="item.rank == 1" class="badge1"></i>\r\n						<i ng-if="item.rank == 2" class="badge2"></i>\r\n						<i ng-if="item.rank == 3" class="badge3"></i>\r\n						<i class="n greybg" ng-if="item.rank > 3">{{item.rank}}</i>\r\n					</td>\r\n					<td ng-bind="item.username"></td>\r\n					<td>￥<span ng-bind="item.totalInvestMoney | number: 2"></span></td>\r\n				</tr>\r\n			</tbody>\r\n		</table>\r\n		<div id="page" ng-show="!monthRankData.length">\r\n			<div class="no-data" ng-class="noData">暂时没有数据</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n</script>\r\n\r\n<script type="text/ng-template" id="template_safePromise">\r\n<div class="dir-tabs mod-panel  mod-safe-prom">\r\n	<div class="mod-head">\r\n		<h5 class="h5">安全保障</h5>\r\n	</div>\r\n	<div class="mod-body">\r\n		<i class="icon"></i>\r\n		<ul class="safe-list">\r\n			<li>\r\n				<h4>业务模式</h4>\r\n				<p>一对多的交易制，有效分散风险</p>\r\n			</li>\r\n			<li>\r\n				<h4>机构合作</h4>\r\n				<p>全面控制源头风险</p>\r\n			</li>\r\n			<li>\r\n				<h4>项目审核</h4>\r\n				<p>多重审核，保证每笔借款都是优质的</p>\r\n			</li>\r\n			<li>\r\n				<h4>资金保护</h4>\r\n				<p>本息保障制度</p>\r\n			</li>\r\n			<li>\r\n				<h4>网站建设</h4>\r\n				<p>银行级别的投资安全保障</p>\r\n			</li>\r\n		</ul>\r\n	</div>\r\n</div>\r\n</script>\r\n\r\n<script type="text/ng-template" id="template_safePromise_honggao">\r\n	<div class="dir-tabs mod-panel  mod-safe-prom">\r\n		<div class="mod-head">\r\n			<h5 class="h5">安全保障</h5>\r\n		</div>\r\n		<div class="mod-body">\r\n			<i class="icon"></i>\r\n			<ul class="safe-list">\r\n				<!--<li>\r\n					<h4>业务模式</h4>\r\n					<p>一对多的交易制，有效分散风险</p>\r\n				</li>-->\r\n				<li>\r\n					<h4>机构合作</h4>\r\n					<p>全面控制源头风险</p>\r\n				</li>\r\n				<li>\r\n					<h4>项目审核</h4>\r\n					<p>多重审核，保证每笔借款都是优质的</p>\r\n				</li>\r\n				<li>\r\n					<h4>资金保护</h4>\r\n					<p>本息保障制度</p>\r\n				</li>\r\n				<li>\r\n					<h4>网站建设</h4>\r\n					<p>银行级别的投资安全保障</p>\r\n				</li>\r\n			</ul>\r\n			<ul class="baozhang clearfix">\r\n				<li>\r\n					<i></i>\r\n					<p>本息担保</p>\r\n				</li>\r\n				<li>\r\n					<i class="li2"></i>\r\n					<p>稳定经营</p>\r\n				</li>\r\n				<li class="no_margin_right">\r\n					<i class="li3"></i>\r\n					<p>资质优良</p>\r\n				</li>\r\n			</ul>\r\n		</div>\r\n	</div>\r\n</script>\r\n\r\n<!-- 回款计划 待回款 -->\r\n<script type="text/ng-template" id="template_borrowCollection">\r\n<table class="table-noline">\r\n	<thead>\r\n		<tr><td>标的名称</td><td>年化利率</td><td>投资金额</td><td>计息起始日</td><td>预计本期回款日</td><td>预计回收本息</td><td>预计赚取收益</td><td>期数</td></tr>\r\n	</thead>\r\n	<tbody cp-list-borrow-collection var-name="collectionData" params="{status:0}">\r\n		<tr ng-repeat="item in collectionData">\r\n			<td class="nameTitle"><a ng-bind="item.borrowName" title="{{item.borrowName}}"  ui-sref="borrowDetail({id:item.borrowId})"></a></td>\r\n			<td><span ng-if="item.classify==1&&item.isRegionConfirm==0" ng-bind="item.rateYearMin+\'~\'+item.rateYear+\'%\'"></span><span ng-if="item.classify!=1||item.isRegionConfirm==1" ng-bind="item.rateYear+\'%\'"></span></td>\r\n			<td><span ng-bind="item.investAmount | number:2"></span>元</td>\r\n			<td ng-bind="item.interestStartTime | date:\'yyyy-MM-dd\'"></td>\r\n			<td ng-bind="item.repaymentTime  | date:\'yyyy-MM-dd\'"></td>\r\n			<td><span ng-bind="item.repaymentAmount | number:2"></span>元</td>\r\n			<td><span ng-if="item.classify==1&&item.isRegionConfirm==0" ng-bind="(item.interestMin+item.platformInterest | number:2)+\'~\'+(item.interest+item.platformInterest | number:2)"></span><span ng-if="item.classify!=1||item.isRegionConfirm==1" ng-bind="item.interest+item.platformInterest | number:2"></span>元</td>\r\n			<td>{{item.period}}/{{item.totalPeriod}}</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n<div id="page" class="tc">\r\n	<div paging\r\n	class="small"\r\n	page="collectionDataPage"\r\n	page-size="collectionDataPageSize"\r\n	total="collectionDataTotal"\r\n	adjacent="2"\r\n	dots="..."\r\n	scroll-top="false"\r\n	hide-if-empty="true"\r\n	ul-class="pagination"\r\n	active-class="active"\r\n	disabled-class="disabled"\r\n	show-prev-next="true"\r\n	paging-action="collectionDataPageSearch(page)">\r\n	</div>\r\n</div>\r\n</script>\r\n\r\n<!-- 回款计划 已回款 -->\r\n<script type="text/ng-template" id="template_borrowCollection1" >\r\n<table class="table-noline">\r\n	<thead>\r\n		<tr><td>标的名称</td><td>年化利率</td><td>投资金额</td><td>计息起始日</td><td>本期回款日</td><td>回收本息</td><td>赚取收益</td><td>期数</td></tr>\r\n	</thead>\r\n	<tbody cp-list-borrow-collection var-name="collection1Data" params="{status:1}">\r\n		<tr ng-repeat="item in collection1Data">\r\n			<td class="nameTitle" ><a ng-bind="item.borrowName" title="{{item.borrowName}}"  ui-sref="borrowDetail({id:item.borrowId})"></a></td>\r\n			<td ng-bind="item.rateYear+\'%\'"></td>\r\n			<td><span ng-bind="item.investAmount | number:2"></span>元</td>\r\n			<td ng-bind="item.interestStartTime | date:\'yyyy-MM-dd\'"></td>\r\n			<td ng-bind="item.repaymentTime | date:\'yyyy-MM-dd\'"></td>\r\n			<td><span ng-bind="item.repaymentAmount | number:2"></span>元</td>\r\n			<td>\r\n				<span ng-if="item.classify==1&&item.isRegionConfirm==0" ng-bind="(item.interestMin+item.platformInterest | number:2)+\'~\'+(item.interest+item.platformInterest | number:2)"></span>\r\n				<span ng-if="item.classify!=1||item.isRegionConfirm==1" ng-bind="item.interest+item.platformInterest | number:2"></span>元\r\n			</td>\r\n			<td>{{item.period}}/{{item.totalPeriod}}</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n<div id="page" class="tc">\r\n	<div paging\r\n	class="small"\r\n	page="collection1DataPage"\r\n	page-size="collection1DataPageSize"\r\n	total="collection1DataTotal"\r\n	adjacent="2"\r\n	dots="..."\r\n	scroll-top="false"\r\n	hide-if-empty="true"\r\n	ul-class="pagination"\r\n	active-class="active"\r\n	disabled-class="disabled"\r\n	show-prev-next="true"\r\n	paging-action="collection1DataPageSearch(page)">\r\n	</div>\r\n</div>\r\n</script>\r\n\r\n<!-- 投资记录  投资中-->\r\n<script type="text/ng-template" id="template_investments1" >\r\n<table class="table-noline">\r\n	<thead>\r\n		<tr><td>标的名称</td><td>年化利率</td><td>项目期限</td><td>投资金额</td><td>项目进度</td><td>预计待收收益</td></tr>\r\n	</thead>\r\n	<tbody cp-list-myinvest-record var-name="record1Data" params="{status:0}">\r\n		<tr ng-repeat="item in record1Data">\r\n			<td class="nameTitle">\r\n				<a ng-bind="item.borrowName" title="{{item.borrowName}}"  ui-sref="borrowDetail({id:item.borrowId})"></a>\r\n			</td>\r\n			<td><span ng-if="item.classify==1&&item.isRegionConfirm==0" ng-bind="item.rateYearMin+\'~\'+item.rateYear+\'%\'"></span><span ng-if="item.classify!=1||item.isRegionConfirm==1" ng-bind="item.rateYear+\'%\'"></span></td>\r\n			<td><span ng-bind="item.timeLimit"></span><span ng-if="item.timeType==1">天</span><span ng-if="item.timeType==0">个月</span></td>\r\n			<td><span ng-bind="item.capital | number:2"></span>元</td>\r\n			<td>\r\n				<div class="progressbar_1 relative">\r\n					<div ng-style="{width:item.progressPercentage+\'%\'}" class="bar" ></div>\r\n					<span class="r absolute Percentage" ng-bind="item.progressPercentage+\'%\'"></span>\r\n				</div>\r\n			</td>\r\n			<td><span ng-if="item.classify==1&&item.isRegionConfirm==0" ng-bind="(item.interestMin | number:2)+\'~\'+(item.waitInterest | number:2)"></span><span ng-if="item.classify!=1||item.isRegionConfirm==1" ng-bind="(item.interest + item.platformInterest) | number:2"></span>元</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n<div id="page">\r\n	<div paging\r\n	class="small"\r\n	page="record1DataPage"\r\n	page-size="record1DatapageSize"\r\n	total="record1DataTotal"\r\n	adjacent="2"\r\n	dots="..."\r\n	scroll-top="false"\r\n	hide-if-empty="true"\r\n	ul-class="pagination"\r\n	active-class="active"\r\n	disabled-class="disabled"\r\n	show-prev-next="true"\r\n	paging-action="record1DataPageSearch(page)">\r\n	</div>\r\n</div>\r\n</script>\r\n\r\n<!-- 投资记录  待回款-->\r\n<script type="text/ng-template" id="template_investments2" >\r\n<table class="table-noline">\r\n	<thead>\r\n		<tr><td>标的名称</td><td>年化利率</td><td>投资金额</td><td>计息起始日</td><td>到期日</td><td>已收本金</td><td>已收收益</td><td>预计待收收益</td><td>操作</td></tr>\r\n	</thead>\r\n	<tbody cp-list-myinvest-record var-name="record2Data" params="{status:1}">\r\n		<tr ng-repeat="item in record2Data">\r\n			<td class="nameTitle"><a ng-bind="item.borrowName" title="{{item.borrowName}}"  ui-sref="borrowDetail({id:item.borrowId})" style="max-width: 90px;"></a></td>\r\n			<td>\r\n				<span ng-if="item.classify==1&&item.isRegionConfirm==0" ng-bind="item.rateYearMin+\'~\'+item.rateYear+\'%\'"></span>\r\n				<span ng-if="item.classify!=1||item.isRegionConfirm==1" ng-bind="item.rateYear+\'%\'"></span>\r\n			</td>\r\n			<td><span ng-bind="item.capital | number:2"></span>元</td>\r\n			<td ng-bind="item.interestStartTime | date:\'yyyy-MM-dd\'"></td>\r\n			<td ng-bind="item.paymentTime | date:\'yyyy-MM-dd\'"></td>\r\n			<td><span ng-bind="item.repaidCapital | number:2"></span>元</td>\r\n			<td><span ng-bind="item.repaidInterest | number:2"></span>元</td>\r\n			<td>\r\n				<span ng-if="item.classify==1&&item.isRegionConfirm==0" ng-bind="(item.interestMin | number:2)+\'~\'+(item.waitInterest | number:2)"></span>\r\n				<span ng-if="item.classify!=1||item.isRegionConfirm==1" ng-bind="(item.interest + item.platformInterest) | number:2"></span>元\r\n			</td>\r\n			<td>\r\n				<a  cp-do-borrows-borrow-protocol-preview="item">协议</a> <span> | </span> <a   cp-do-borrow-collections="item" >回款计划</a>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n<div id="page">\r\n	<div paging\r\n	class="small"\r\n	page="record2DataPage"\r\n	page-size="record2DataPageSize"\r\n	total="record2DataTotal"\r\n	adjacent="2"\r\n	dots="..."\r\n	scroll-top="false"\r\n	hide-if-empty="true"\r\n	ul-class="pagination"\r\n	active-class="active"\r\n	disabled-class="disabled"\r\n	show-prev-next="true"\r\n	paging-action="record2DataPageSearch(page)">\r\n	</div>\r\n</div>\r\n</script>\r\n\r\n<!-- 投资记录  已结算-->\r\n<script type="text/ng-template" id="template_investments3" >\r\n<table class="table-noline">\r\n	<thead>\r\n		<tr><td>标的名称</td><td>年化利率</td><td>投资金额</td><td>计息起始日</td><td>到期日</td><td>已收收益</td><td>操作</td></tr>\r\n	</thead>\r\n	<tbody cp-list-myinvest-record var-name="record3Data" params="{status:2}">\r\n		<tr ng-repeat="item in record3Data">\r\n			<td class="nameTitle" >\r\n				<a ng-bind="item.borrowName" title="{{item.borrowName}}"  ui-sref="borrowDetail({id:item.borrowId})"></a>\r\n			</td>\r\n			<td ng-bind="item.rateYear+\'%\'"></td>\r\n			<td><span ng-bind="item.capital | number:2"></span>元</td>\r\n			<td ng-bind="item.interestStartTime | date:\'yyyy-MM-dd\'"></td>\r\n			<td ng-bind="item.paymentTime | date:\'yyyy-MM-dd\'"></td>\r\n			<td><span ng-bind="item.repaidInterest | number:2"></span>元</td>\r\n			<td>\r\n				<a  cp-do-borrows-borrow-protocol-preview="item" >协议</a> <span> | </span> <a cp-do-borrow-collections="item"  >回款计划</a>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n<div id="page">\r\n	<div paging\r\n	class="small"\r\n	page="record3DataPage"\r\n	page-size="record3DataPageSize"\r\n	total="record3DataTotal"\r\n	adjacent="2"\r\n	dots="..."\r\n	scroll-top="false"\r\n	hide-if-empty="true"\r\n	ul-class="pagination"\r\n	active-class="active"\r\n	disabled-class="disabled"\r\n	show-prev-next="true"\r\n	paging-action="record3DataPageSearch(page)">\r\n	</div>\r\n</div>\r\n</script>\r\n\r\n<!-- 投资记录  失败-->\r\n<script type="text/ng-template" id="template_investments4" >\r\n<table class="table-noline">\r\n	<thead>\r\n		<tr><td>标的名称</td><td>年化利率</td><td>项目期限</td><td>投资金额</td><td>失败备注</td></tr>\r\n	</thead>\r\n	<tbody cp-list-myinvest-record var-name="record4Data" params="{status:-2}">\r\n		<tr ng-repeat="item in record4Data">\r\n			<td class="nameTitle"><a  ng-bind="item.borrowName" title="{{item.borrowName}}"  ui-sref="borrowDetail({id:item.borrowId})"></a></td>\r\n			<td><span ng-if="item.classify==1&&item.isRegionConfirm==0" ng-bind="item.rateYearMin+\'~\'+item.rateYear+\'%\'"></span><span ng-if="item.classify!=1||item.isRegionConfirm==1" ng-bind="item.rateYear+\'%\'"></span></td>\r\n			<td><span ng-bind="item.timeLimit"></span><span ng-if="item.timeType==1">天</span><span ng-if="item.timeType==0">个月</span></td>\r\n			<td><span ng-bind="item.capital | number:2"></span>元</td>\r\n			<td>\r\n				<span ng-if="item.status==3">复审不通过</span>\r\n				<span ng-if="item.status==4">投资撤回</span>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n<div id="page">\r\n	<div paging\r\n	class="small"\r\n	page="record4DataPage"\r\n	page-size="record4DataPageSize"\r\n	total="record4DataTotal"\r\n	adjacent="2"\r\n	dots="..."\r\n	scroll-top="false"\r\n	hide-if-empty="true"\r\n	ul-class="pagination"\r\n	active-class="active"\r\n	disabled-class="disabled"\r\n	show-prev-next="true"\r\n	paging-action="record4DataPageSearch(page)">\r\n	</div>\r\n</div>\r\n</script>\r\n\r\n<!-- 投资记录 协议预览 -->\r\n<script type="text/ng-template" id="template_borrowsBorrowProtocolPreview">\r\n<div cp-info-borrows-borrow-protocol="_selectedRecord" var-name="protocol" id="protocol" ng-bind-html="protocol|html"></div>\r\n<div class="mt30 tc">\r\n	<a class="dialog-button" cp-do-borrows-borrow-protocol-download="_selectedRecord"  target="_blank">下载协议</a>\r\n</div>\r\n</script>\r\n\r\n<!--投资记录 协议下载提示-->\r\n<script type="text/ng-template" id="template_borrowsBorrowProtocolDownloadTip">\r\n<div class="eqb mt10" cp-info-borrows-borrow-protocol-download="_selectedRecord" var-name="protocolDownloadInfo">\r\n	<div ng-show="protocolDownloadInfo.status == \'esign\'">\r\n		<p>平台已免费为您订购协议签名服务，您可查看签名协议！</p>\r\n		<a class="dialog-button mt20" ng-href="{{protocolDownloadInfo.url}}"  target="_blank">去查看</a>\r\n	</div>\r\n	<div ng-show="protocolDownloadInfo.status == \'notSign\'" class="tc">\r\n		<p>确定要下载该协议？</p>\r\n		<a class="dialog-button mt20" ng-href="{{\'borrows/investedBorrowProtocolPreview?borrowId=\' + _selectedRecord.borrowId +\'&investmentId=\' + _selectedRecord.id}}"  target="_blank">下载协议</a>\r\n	</div>\r\n</div>\r\n</script>\r\n\r\n\r\n<!-- 借款详情 查看 -->\r\n<script type="text/ng-template" id="template_borrowsProtocolPreview">\r\n<div cp-info-borrows-see-protocol="_selectedRecord" var-name="protocol" id="protocol" ng-bind-html="protocol|html"></div>\r\n<div class="mt30 tc">\r\n	<a class="dialog-button" ng-if="protocol" ng-href="{{\'borrows/borrowerProtocolDownload?isBorrowProtocol=1&borrowId=\' + _selectedRecord.id}}" target="_blank">下载协议</a>\r\n</div>\r\n</script>\r\n\r\n\r\n<!-- 回款计划弹窗 -->\r\n<script type="text/ng-template" id="template_backRecord">\r\n<div class="payplan" id="payplan">\r\n	<table class="table-noline">\r\n		<thead>\r\n			<tr><td>标的名称</td><td>年化利率</td><td>投资金额</td><td>计息起始日</td><td>本期回款日</td><td>回收本金</td><td>预计收益</td><td>期数</td></tr>\r\n		</thead>\r\n		<tbody class="scroll"  cp-list-borrow-collections="_selectedRecord" page-size="5" var-name="collectionsData" params="{investmentId:_selectedRecord.id,borrowId: _selectedRecord.borrowId,status: _selectedRecord.status - 1}">\r\n			<tr ng-repeat="item in collectionsData">\r\n				<td class="nameTitle" ><a ng-bind="item.borrowName" title="{{item.borrowName}}" ng-click="close()"></a></td>\r\n				<td>\r\n					<span ng-if="item.classify==1 && item.isRegionConfirm==0" ng-bind="item.rateYearMin+\'~\'+item.rateYear+\'%\'"></span>\r\n					<span ng-if="item.classify!=1||item.isRegionConfirm==1" ng-bind="item.rateYear+\'%\'"></span>\r\n				</td>\r\n				<td><span ng-bind="item.investAmount | number:2"></span>元</td>\r\n				<td ng-bind="item.interestStartTime  | date:\'yyyy-MM-dd\'"></td>\r\n				<td ng-bind="item.repaymentTime  | date:\'yyyy-MM-dd\'"></td>\r\n				<td><span ng-bind="item.capital | number:2"></span>元</td>\r\n				<td>\r\n					<span ng-if="item.classify==1&&item.isRegionConfirm==0" ng-bind="(item.interestMin | number:2)+\'~\'+(item.waitInterest | number:2)"></span>\r\n					<span ng-if="item.classify!=1||item.isRegionConfirm==1" ng-bind="(item.interest + item.platformInterest) | number:2"></span>元\r\n				</td>\r\n				<td>{{item.period}}/{{item.totalPeriod}}</td>\r\n			</tr>\r\n		</tbody>\r\n	</table>\r\n	<div id="page">\r\n		<div paging\r\n		class="small"\r\n		page="collectionsDataPage"\r\n		page-size="collectionsDataPageSize"\r\n		total="collectionsDataTotal"\r\n		adjacent="2"\r\n		dots="..."\r\n		scroll-top="false"\r\n		hide-if-empty="true"\r\n		ul-class="pagination"\r\n		active-class="active"\r\n		disabled-class="disabled"\r\n		show-prev-next="true"\r\n		paging-action="collectionsDataPageSearch(page)">\r\n		</div>\r\n	</div>\r\n</div>\r\n</script>\r\n\r\n<!-- 还款详情 还款弹窗 -->\r\n<script type="text/ng-template" id="template_payBack">\r\n	<div class="pay-dialog" ng-show=\'!succ&&!error\' >	<!--cp-info-borrows-repayment="_selectedRepayment" var-name="repaymentData" -->\r\n		<div class="operate">\r\n			<div class="tl f16 mb10">应还金额：<span class="org" ng-bind="repaymentData.actualAmount"></span> 元</div>\r\n			<div class="tl f16 mb10">应还本金：<span class="org" ng-bind="repaymentData.capital"></span> 元</div>\r\n			<div class="tl f16 mb10">应还利息：<span class="org" ng-bind="repaymentData.interest"></span> 元 <span ng-show=\'repaymentData.isPreRepayment==1\'>(补偿利息：<span class="org" ng-bind="repaymentData.penaltyInterest"></span> 元)</span></div>\r\n			<div ng-if="repaymentData.platformInterest" class="tl f16 mb10">加息利息：<span class="org" ng-bind="repaymentData.platformInterest"></span> 元</div>\r\n			<div class="tl f16 mb10" ng-show=\'repaymentData.isPreRepayment==1&&repaymentData.penaltyDay > 0\'>补偿天数：<span class="org" ng-bind="repaymentData.penaltyDay"></span> 天 (提前还款：<span class="org" ng-bind="repaymentData.timelimit - repaymentData.paymentDay"></span> 天)</div>\r\n			<div class="tl f16 mb10">逾期利息：<span class="org" ng-bind="repaymentData.overdueInterest"></span> 元</div>\r\n			<div ng-show="!paid&&((user.userType!=2&&corpInfo.tppType==1)||corpInfo.tppType==2||corpInfo.tppType==3)" class="mt30 apply">\r\n				<form action="repayments/repayForm" method="post" target="_blank">\r\n				<input type="hidden" name="id" ng-value="repaymentData.id">\r\n				<input type="hidden" name="token" ng-value="repaymentData.token">\r\n				<input class="button-light"  type="submit" ng-click="paid=true" cp-do-replace-popupdialog value="确认还款"/> <!---->\r\n				</form>\r\n				<!--<a class="dialog-button ml20" cp-do-close-popupdialog >关闭</a>-->\r\n			</div>\r\n			<div ng-show="!paid&&(user.userType==2&&corpInfo.tppType==1)" class="mt30 apply">\r\n				<form action="repayments/repayAPI" method="post" target="_blank">\r\n				<input type="hidden" name="id" ng-value="repaymentData.id">\r\n				<input type="hidden" name="token" ng-value="repaymentData.token">\r\n				<input class="button-light"  type="submit" ng-click="paid=true" cp-do-replace-popupdialog value="确认还款"/> <!---->\r\n				</form>\r\n				<!--<a class="dialog-button ml20" cp-do-close-popupdialog >关闭</a>-->\r\n			</div>\r\n			<div ng-show="paid" class="mt30">\r\n				<a class="dialog-button" cp-do-reload-popupdialog >已完成支付</a>\r\n				<a class="dialog-button ml20" cp-do-reload-popupdialog target="_blank" ui-sref=\'article.faq\'>支付时遇到问题</a>\r\n			</div>\r\n		</div>\r\n	</div>\r\n\r\n</script>\r\n\r\n<!--红包选择-->\r\n<script type="text/ng-template" id="template_selectRedpacket">\r\n  <div class="mod-redp-choose">\r\n    <p class="select-all">\r\n      <input type="checkbox" ng-click="selectAllRedp($event, borrowData.redPacketResArrays, borrowData.redPacketInvestMaxRatioKey)" ng-checked="rRedpAll" />全选\r\n    </p>\r\n    <div class="list">\r\n      <ul class="clearfix">\r\n        <li ng-repeat="item in borrowData.redPacketResArrays">\r\n          <div ng-class="{\'redp-normal\': !item.checked,\'redp-checked\': item.checked}" ng-click="selectRedpacket(item,investValue, borrowData.redPacketResArrays, borrowData.redPacketInvestMaxRatioKey)">\r\n            <span class="value" ng-bind="item.amount"></span>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <div class="calculate">\r\n      <p class="basic">\r\n        <span>选择红包总金额：<em ng-bind="redpacketTotal"></em>元</span>\r\n        <span>实际应付金额：<em ng-bind="investValue - redpacketTotal | number :2"></em>元</span>\r\n      </p>\r\n      <p class="ratio">\r\n        <em>提醒：</em>投资使用红包金额最大比率为<em ng-bind="borrowData.redPacketInvestMaxRatioKey"></em>,您最多可使用\r\n        <em class="cl-orange" ng-bind="investValue * borrowData.redPacketInvestMaxRatioKey | number :2"></em>元红包\r\n      </p>\r\n    </div>\r\n    <div class="tip">\r\n      <p ng-show="rInvalidateRatio"><em>红包超出可用范围！</em></p>\r\n    </div>\r\n  </div>\r\n</script>\r\n\r\n\r\n<!-- 支付跳转弹窗 -->\r\n<script type="text/ng-template" id="template_investPay">\r\n	<div class="mod-invest-pay">\r\n		<div class="info">\r\n			<div ng-show="!paid"><i class="dialog-info"></i>请点击支付按钮前往支付页面完成支付。</div>\r\n			<div ng-show="paid">\r\n				<div class="inlineblock ta-left">\r\n					投资完成前，请不要关闭窗口；<br />\r\n					投资完成后，请根据您的投资结果点击下面按钮。\r\n				</div>\r\n			</div>\r\n		</div>\r\n		<div class="operate">\r\n			<div ng-show="!paid">\r\n				<form action="{{formUrl}}" method="post" target="_blank">\r\n					<input type="hidden" name="capitalStr" ng-value="capitalStr">\r\n					<input type="hidden" name="borrowId" ng-value="borrowData.id" />\r\n					<input type="hidden" name="redPacketIds" ng-value="redPacketIds"  />\r\n					<input type="hidden" name="passwordDirect" ng-value="passwordDirect"  />\r\n					<input type="hidden" name="token" ng-value="borrowData.token"  />\r\n					<input class="button-light" type="submit" ng-click="paid=true" value="去支付"/>\r\n				</form>\r\n			</div>\r\n			<div ng-show="paid">\r\n				<a class="button-light" ng-click="reload()">投资成功</a>\r\n				<a class="button-grey" ng-click="removeDialog()" ui-sref="article.faq">投资失败</a>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</script>\r\n<!-- 债权转让跳转弹窗 -->\r\n<script type="text/ng-template" id="template_bond_investPay">\r\n	<div class="mod-invest-pay">\r\n		<div class="info">\r\n			<div ng-show="!paid"><i class="dialog-info"></i>请点击支付按钮前往支付页面完成支付。</div>\r\n			<div ng-show="paid">\r\n				<div class="inlineblock ta-left">\r\n					投资完成前，请不要关闭窗口；<br />\r\n					投资完成后，请根据您的投资结果点击下面按钮。\r\n				</div>\r\n			</div>\r\n		</div>\r\n		<div class="operate">\r\n			<div ng-show="!paid">\r\n				<form action="{{formUrl}}" method="post" target="_blank">\r\n					<input type="hidden" name="investCapitalStr" ng-value="capitalStr">\r\n					<input type="hidden" name="id" value="{{bondData.bond.id}}" />\r\n					<input type="hidden" name="userId" value="{{bondData.bond.userId}}" />\r\n					<input type="hidden" name="borrowId" ng-value="bondData.bond.borrowId" />\r\n					<input type="hidden" name="redPacketIds" ng-value="redPacketIds"  />\r\n					<input type="hidden" name="passwordDirect" ng-value="passwordDirect"  />\r\n					<input type="hidden" name="token" ng-value="bondData.bond.token"  />\r\n					<input class="button-light" type="submit" ng-click="paid=true" value="去支付"/>\r\n				</form>\r\n			</div>\r\n			<div ng-show="paid">\r\n				<a class="button-light" ng-click="reload()">投资成功</a>\r\n				<a class="button-grey" ng-click="removeDialog()" ui-sref="article.faq">投资失败</a>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</script>\r\n\r\n\r\n<!--PAYACCOUNT  支付账户-->\r\n<script type="text/ng-template" id="template_accountIdentify">\r\n	<div class="mod-invest-pay">\r\n		<div class="info">\r\n			<div ng-show="!identified"><i class="dialog-info"></i>请点击认证按钮前往认证页面完成认证。</div>\r\n			<div ng-show="identified">\r\n				<div class="inlineblock ta-left">\r\n					认证完成前，请不要关闭窗口；<br />\r\n					认证完成后，请根据您的认证结果点击下面按钮。\r\n				</div>\r\n			</div>\r\n		</div>\r\n		<div class="operate">\r\n			<div ng-show="!identified">\r\n				<form ng-if="user.userType==0" action="account/paymentaccount" method="post" target="_blank">\r\n					<input type="hidden" ng-value="formParams.realName" name="realName"/>\r\n					<input type="hidden" ng-value="formParams.idNo" name="idNo"/>\r\n					<input class="button-light" type="submit" ng-click="$parent.identified=true" value="去认证" cp-common-singleton-button/>\r\n				</form>\r\n				<form ng-if="user.userType==1 || user.userType==2" action="companyRegister" method="post" target="_blank">\r\n					<input type="hidden" ng-value="formParams.corpName" name="corpName"/>\r\n					<input type="hidden" ng-value="formParams.businessLicenceCode" name="businessLicenceCode"/>\r\n					<input class="button-light" type="submit" ng-click="$parent.identified=true" value="去认证" cp-common-singleton-button/>\r\n				</form>\r\n			</div>\r\n			<div ng-show="identified">\r\n				<a class="button-light" ng-click="reload_corp()">认证成功</a>\r\n				<a class="button-grey" cp-do-close-popupdialog ui-sref="article.faq">认证失败</a>\r\n				<!--<a class="button-grey" ng-click="removeDialog_corp()" ui-sref="article.faq">认证失败</a>-->\r\n			</div>\r\n		</div>\r\n	</div>\r\n</script>\r\n<!--\r\n * realNameStatus： 实名认证状态\r\n * 0 未开通\r\n * 1 已开通,已授权\r\n * 2 开通失败\r\n * 3 已开通,待授权\r\n * 4 待第三方审核（汇付）\r\n * 5 实名审核通过，但后台未登记信息（双乾企业）\r\n * @ 2016-6-20 16:56:27 @wyk@erongdu.com\r\n */ -->\r\n<script type="text/ng-template" id="template_paymentAccountWrap">\r\n<div class="tabs2">\r\n	<div class="tab2-nav">\r\n		<a href="" class="active no-border"><span>支付账户</span></a>\r\n	</div>\r\n\r\n	<div ng-show="user.realNameStatus == 0||user.realNameStatus == 2" cp-common-include="\'template_paymentAccountForm\'">\r\n\r\n	</div>\r\n	<div ng-show="user.realNameStatus == 1||user.realNameStatus == 5" cp-common-include="\'template_paymentAccountInfo\'">\r\n\r\n	</div>\r\n	<div ng-show="user.realNameStatus == 3" cp-common-include="\'template_paymentAccountInfo_tppType\'">\r\n\r\n	</div>\r\n	<div ng-show="user.realNameStatus == 4" cp-common-include="\'template_paymentAccountInfo_tppType_middle\'">\r\n\r\n	</div>\r\n\r\n</div>\r\n\r\n</script>\r\n\r\n<script type="text/ng-template" id="template_paymentAccountForm">\r\n<!-- 个人账户 -->\r\n<div class="table-form part-cont" ng-if="user.userType==0">\r\n	<form cp-form-payment-account disable-enter>\r\n		<table>\r\n			<tr class="form-group">\r\n				<td class="name">真实姓名：</td>\r\n				<td class="value"><input type="text" class="textbox" size="30" required ng-model="formParams.realName" name="realName" ng-pattern="/^[\\u4E00-\\u9FA5]{2,}(?:·[\\u4E00-\\u9FA5]{2,})*$/" pattern-err-type="realName" cp-ui-placeholder="真实姓名"/></td>\r\n			</tr>\r\n			<tr class="form-group">\r\n				<td class="name">身份证：</td>\r\n				<td class="value"><input type="text" class="textbox" required ng-pattern="/(^\\d{15}$)|(^\\d{18}$)|(^\\d{17}(\\d|X|x)$)|(^[a-zA-Z]\\d{6}$)|(^[a-zA-Z]\\d{7}$)|(^[a-zA-Z]\\d{8}$)|(^[a-zA-Z]\\d{10}$)/" ng-model="formParams.idNo" name="idNo"  size="30" cp-ui-placeholder="身份证号"/></td>\r\n			</tr>\r\n			<tr class="form-group">\r\n				<td class="name">手机号码：</td>\r\n				<td class="value"><span ng-bind="user.phone"></span></td>\r\n			</tr>\r\n			<tr class="operate">\r\n				<td class="name"></td>\r\n				<td class="value">\r\n					<input class="button-light" type="submit" ng-click="identified=true" value="确认提交" cp-common-singleton-button/>\r\n				</td>\r\n			</tr>\r\n		</table>\r\n	</form>\r\n</div>\r\n<!-- 企业账户 或 担保人账户 -->\r\n<div class="table-form part-cont" ng-if="user.userType==1 || user.userType==2">\r\n	<form cp-form-payment-account-corp disable-enter>\r\n		<table>\r\n			<tr class="form-group">\r\n				<td class="name">企业名称：</td>\r\n				<td class="value"><input name="corpName" size="40" type="text" class="textbox"  required ng-model="formParams.corpName" cp-ui-placeholder="企业名称"/></td>\r\n			</tr>\r\n			<tr class="form-group">\r\n				<td class="name">营业执照注册号：</td>\r\n				<td class="value"><input name="businessLicenceCode" size="40" type="text" class="textbox" required ng-model="formParams.businessLicenceCode" cp-ui-placeholder="营业执照注册号"/></td>\r\n			</tr>\r\n\r\n			<tr class="operate">\r\n				<td class="name"></td>\r\n				<td class="value"><input  class="button-light" type="submit" ng-click="identified=true" value="确认开通" cp-common-singleton-button/></td>\r\n			</tr>\r\n		</table>\r\n	</form>\r\n</div>\r\n</script>\r\n\r\n<!-- 支付账户信息 -->\r\n<script type="text/ng-template" id="template_paymentAccountInfo">\r\n<div class="realname-panel" ng-if="corpInfo.tppType==\'1\'">\r\n	<div class="top">\r\n		<div class="icon">\r\n		</div>\r\n		<div class="info">\r\n			<h4>已经绑定联动优势</h4>\r\n			<p>第三方账户名：<em ng-bind="user.tppCustId"></em></p>\r\n		</div>\r\n	</div>\r\n	<div class="middle f16">\r\n		<b style="color:red">您好，初始密码已通过短信下发至您开通的手机，请注意查收！</b>\r\n	</div>\r\n	<div class="bottom">\r\n		<div class="part">\r\n			<h4 class="title">更改密码：</h4>\r\n			<p class="content">GGMM#原密码#新密码，如短信编写：GGMM#123456#456789，根据您个人号码用户类型发送至对应号码即可。</p>\r\n		</div>\r\n		<div class="part">\r\n			<h4 class="title">重设密码：</h4>\r\n			<p class="content">CSMM#注册时填写的身份证号后四位，如身份证号码是110104190001012124，则短信编写"CSMM#2124"，发送至对应号码即可。</p>\r\n		</div>\r\n		<div class="part">\r\n			<h4 class="title">短信指令发送手机号码<s>（短信指令英文字母不区分大小写）</s>：</h4>\r\n			<div class="content">\r\n				<p>三网（移动、联通、电信）：10690569687</p>\r\n			</div>\r\n		</div>\r\n		<div class="part">\r\n			<h4 class="title"><s>温馨提示：</s></h4>\r\n			<div>\r\n				<p><s>有关资金托管账户、交易密码、充值、提现问题，请拨打客服电话：<span ng-bind="corpInfo.webPhone"></span>进行咨询。您好，初始密码已通过短信下发至您开通的手机，请注意查收！</s></p>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n<div class="realname-panel" ng-if="corpInfo.tppType==\'2\'" > <!---->\r\n	<div class="top">\r\n		<div class="icon">\r\n		</div>\r\n		<div class="info">\r\n			<h4>已经绑定汇付</h4>\r\n			<p>第三方账户名：<em ng-bind="user.tppCustId"></em></p>\r\n		</div>\r\n	</div>\r\n	<a ng-click="getTppUrl()" class="button-blue">进入托管账户</a>\r\n</div>\r\n<div ng-if="corpInfo.tppType==\'3\'">\r\n	<div class="realname-panel">\r\n		<div class="top">\r\n			<div class="icon">\r\n			</div>\r\n			<div class="info">\r\n				<h4>已经绑定双乾</h4>\r\n				<p>第三方账户名：<em ng-bind="user.tppCustId"></em></p>\r\n			</div>\r\n		</div>\r\n		<a ng-click="getTppUrl()" class="button-blue">进入托管账户</a>\r\n	</div>\r\n	<!-- <div class="realname-panel" id="realname-panel" >\r\n		<div class="top">\r\n			<div class="info">\r\n				<a ng-click="empower()" class="button-blue">去授权</a>\r\n				<p>温馨提示：如您未开启投标授权、还款转账授权、二次分配审核授权，请先至第三方页面开启授权；若您已开启授权，无需重复操作。</p>\r\n			</div>\r\n		</div>\r\n	</div> -->\r\n	<!--<div class="realname-panel" ng-if = "empower">\r\n		<div class="top">\r\n			<div class="icon">\r\n			</div>\r\n			<div class="info">\r\n				<h4>已开启投标授权、还款转账授权、二次分配审核授权</h4>\r\n				<p>托管账户：<em ng-bind="empower.account"></em></p>\r\n			</div>\r\n		</div>\r\n	</div>-->\r\n</div>\r\n</script>\r\n<!--\r\n * 支付账户类型\r\n * tppType: 第三方类型\r\n * 1：联动\r\n * 2：汇付\r\n * 3：双乾\r\n * @ 2016-6-20 17:21:21 wyk@erongdu.com\r\n */ -->\r\n<script type="text/ng-template" id="template_paymentAccountInfo_tppType">\r\n<div class="realname-panel" ng-if="corpInfo.tppType==\'1\'">\r\n	<div class="top">\r\n		<div class="icon">\r\n		</div>\r\n		<div class="info">\r\n			<h4>已经绑定联动优势</h4>\r\n			<p>第三方账户名：<em ng-bind="user.tppCustId"></em></p>\r\n		</div>\r\n	</div>\r\n	<div class="middle">\r\n		您好，初始密码已通过短信下发至您开通的手机，请注意查收！\r\n	</div>\r\n	<div class="bottom">\r\n		<div class="part">\r\n			<h4 class="title">更改密码：</h4>\r\n			<p class="content">GGMM#原密码#新密码，如短信编写：GGMM#123456#456789，根据您个人号码用户类型发送至对应号码即可。</p>\r\n		</div>\r\n		<div class="part">\r\n			<h4 class="title">重设密码：</h4>\r\n			<p class="content">CSMM#注册时填写的身份证号后四位，如身份证号码是110104190001012124，则短信编写"CSMM#2124"，发送至对应号码即可。</p>\r\n		</div>\r\n		<div class="part">\r\n			<h4 class="title">短信指令发送手机号码<s>（短信指令英文字母不区分大小写）</s>：</h4>\r\n			<div class="content">\r\n				<p>三网（移动、联通、电信）：10690569687</p>\r\n			</div>\r\n		</div>\r\n		<div class="part">\r\n			<h4 class="title"><s>温馨提示：</s></h4>\r\n			<div>\r\n				<p><s>有关资金托管账户、交易密码、充值、提现问题，请拨打客服电话：<span ng-bind="corpInfo.webPhone"></span>进行咨询。您好，初始密码已通过短信下发至您开通的手机，请注意查收！</s></p>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n<div class="realname-panel" ng-if="corpInfo.tppType==\'2\'" > <!---->\r\n	<div class="top">\r\n		<div class="icon">\r\n		</div>\r\n		<div class="info">\r\n			<h4>已经绑定汇付</h4>\r\n			<p>第三方账户名：<em ng-bind="user.tppCustId"></em></p>\r\n		</div>\r\n	</div>\r\n	<a ng-click="getTppUrl()" class="button-blue">进入托管账户</a>\r\n</div>\r\n<!-- 去授权操作 -->\r\n<div ng-if="corpInfo.tppType==\'3\'">\r\n	<div class="realname-panel">\r\n		<div class="top">\r\n			<div class="icon">\r\n			</div>\r\n			<div class="info">\r\n				<h4>需要开启投标授权、还款转账授权、二次分配审核授权，才能进行投资</h4>\r\n				<!-- <h4>已开启投标授权、还款转账授权、二次分配审核授权</h4> -->\r\n				<p>托管账户名：<em ng-bind="user.tppCustId"></em></p>\r\n				<!-- <form action="users/authSign" class="auth_form" target="_blank">\r\n					<button class="button-blue" ng-click="authorize.alert_window()">去授权</button>\r\n				</form> -->\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n</script>\r\n\r\n<script type="text/ng-template" id="template_paymentAccountInfo_tppType_middle">\r\n	<div class="realname-panel" ng-if="corpInfo.tppType==\'1\'">\r\n		<div class="top">\r\n			<div class="icon4">\r\n			</div>\r\n			<div class="info">\r\n				<h4>正在审核中</h4>\r\n			</div>\r\n		</div>\r\n	</div>\r\n	<div class="realname-panel" ng-if="corpInfo.tppType==\'2\'" >\r\n		<div class="top">\r\n			<div class="icon4">\r\n			</div>\r\n			<div class="info">\r\n				<h4>正在审核中</h4>\r\n			</div>\r\n		</div>\r\n	</div>\r\n	<div ng-if="corpInfo.tppType==\'3\'">\r\n		<div class="realname-panel">\r\n			<div class="top">\r\n				<div class="icon4">\r\n				</div>\r\n				<div class="info">\r\n					<h4>正在审核中</h4>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</script>\r\n\r\n<!--TODO: 未使用，可以删除 -->\r\n<script type="text/ng-template" id="template_empower">\r\n	<p>温馨提示：如您未开启投标授权、还款转账授权、二次分配审核授权，</br>请先至第三方页面开启授权；若您已开启授权，无需重复操作。</p>\r\n</script>\r\n\r\n<!-- 我的消息 -->\r\n<script type="text/ng-template" id="template_userMessage">\r\n<div class="tabs2">\r\n	<div class="tab2-nav">\r\n		<a href="" class="active no-border"><span>我的消息</span></a>\r\n	</div>\r\n	<div>\r\n		<div class="top-operate-bar clearfix" cp-do-operate-user-message="messageData">\r\n\r\n			<div class="floatleft left-part">\r\n				<label><input type="checkbox" ng-click="checkedAll(!bAll)" ng-model="bAll" />选择所有</label>\r\n			</div>\r\n			<div class="floatright right-part">\r\n				<a ng-click="signRow(1)">删除信息</a>|\r\n				<a ng-click="signRow(3)">标记已读</a>|\r\n				<a ng-click="signRow(2)">标记未读</a>\r\n			</div>\r\n		</div>\r\n		<ul class="message-list" cp-list-user-message var-name="messageData">\r\n			<li ng-repeat="item in messageData">\r\n				<div ng-class="{title:true,Read:item.isReaded == 2}">\r\n					<input type="checkbox" ng-model="item.checked" />\r\n					<span class="status" ng-show="item.isReaded == 2"><i class="read"></i></span>\r\n					<span class="status" ng-show="item.isReaded == 1"><i class="unread"></i></span>\r\n					<span></span>\r\n					<span class="r">{{item.addTime | date:\'yyyy-MM-dd HH:mm:ss\'}}</span>\r\n\r\n				</div>\r\n				<div class="intro">\r\n					<!-- <span class="intro-content" ng-bind-html="item.content | html"></span> -->\r\n					<a class="message-switch" ng-show="item.expand" ng-click="expandRow(item,false)">{{item.title}}<i class="message-shrink"></i></a>\r\n					<a class="message-switch" ng-class="{title:true,Read:item.isReaded == 2}" ng-hide="item.expand" ng-click="expandRow(item,true)">{{item.title}}<i class="message-expand"></i></a>\r\n				</div>\r\n				<div class="content mt20" ng-show="item.expand"  ng-bind-html="item.content | html">\r\n				<div>\r\n			</li>\r\n		</ul>\r\n		<div id="page">\r\n			<div paging\r\n				class="small"\r\n				page="messageDataPage"\r\n				page-size="messageDataPageSize"\r\n				total="messageDataTotal"\r\n				adjacent="2"\r\n				dots="..."\r\n				scroll-top="false"\r\n				hide-if-empty="true"\r\n				ul-class="pagination"\r\n				active-class="active"\r\n				disabled-class="disabled"\r\n				show-prev-next="true"\r\n				paging-action="messageDataPageSearch(page)">\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n</script>\r\n\r\n<!-- 投标操作 -->\r\n<script type="text/ng-template" id="template_investOperation">\r\n<div class="mod-panel mod-inv-opt">\r\n	<div class="mod-head">\r\n		<div class="can-inv-money" ng-show="user.id">\r\n			<p class="key">可用余额</p>\r\n			<p><span class="value" ng-bind="borrowData.useableBalanceAvailable | number :2"></span>元</p>\r\n		</div>\r\n		<div class="remain-inv-money">\r\n			<p class="key">剩余可投</p>\r\n			<p><span class="value" ng-bind="borrowData.amountInvestable | number :2"></span>元</p>\r\n		</div>\r\n	</div>\r\n	<div class="mod-body">\r\n		<div class="opt-switch" cp-info-borrow-status="borrowData" var-name="investStatus">\r\n			<div classs="opt-normal" ng-show="investStatus == 1 && borrowData.countDown <= 0" >\r\n				<div class="inv-form">\r\n					<form class="form-fields form-invest-borrow" name="investBorrowForm" cp-form-invest-borrow disable-enter novalidate>\r\n			       		<div class="field form-group">\r\n			       			<div class="input-wrap">\r\n					       		<label>投标金额</label>\r\n				       			<input\r\n				       				type="text"\r\n				       				cp-ui-placeholder="0.00"\r\n				       				cp-ui-limit-decimal="2"\r\n				       				cp-valid-invest-value="borrowData"\r\n				       				element-modifier="nullModifier"\r\n				       				name="capital"\r\n				       				ng-model="capital"\r\n				       				ng-change="clearRedp(borrowData.redPacketResArrays)"\r\n				       				ng-disabled="disabledInvest"/>\r\n				       			<i>元</i>\r\n				       		</div>\r\n			       		</div>\r\n			       		<div class="field form-group" ng-show="user.id">\r\n			       			<a class="redp-trigger" cp-do-select-redpacket="borrowData" invest-value="capital">\r\n			       				<i class="icon" ></i>\r\n			       				已选择<span class="value" ng-bind="redpacketTotal"></span>元红包抵扣\r\n			       				<i class="icon2" ></i>\r\n			       			</a>\r\n			       		</div>\r\n			       		<div class="field form-group directive-password"  ng-if="borrowData.isDirect">\r\n		       				<label>定向密码</label>\r\n		       				<input name="passwordDirect" type="password" cp-ui-placeholder="请输入定向密码" ng-model="passwordDirect" required/>\r\n			       		</div>\r\n\r\n			       		<div class="field actual-invest">\r\n							<p ng-show="user.id">实际投资：<s ng-bind="capital >= 0 ? capital : 0 | number:2"></s>元</p>\r\n							<p ng-show="user.id">实际支付：<s ng-bind="capital - redpacketTotal | number:2"></s>元</p>\r\n							<p>预期收益：<s ng-bind="(borrowData.interestRepayment / borrowData.amountBorrow) * (!capital ? 0 : capital) | number:2"></s>元</p>\r\n			       		</div>\r\n			       		<div class="field">\r\n							<input type="hidden" name="borrowId" value="{{borrowData.id}}" />\r\n							<input type="hidden" name="redPacketIds" value="{{redPacketIds}}"  />\r\n							<input ng-show="user.id" type="submit" value="立即投标" cp-common-singleton-button />\r\n							<input ng-show="!user.id" type="button" ng-click="$state.go(\'login\')" value="立即投标"  />\r\n						</div>\r\n\r\n			       	</form>\r\n\r\n				</div>\r\n\r\n			</div>\r\n			<div cp-common-include="\'template_investOperationAbnormal\'"></div>\r\n		</div>\r\n	</div>\r\n</div>\r\n</script>\r\n\r\n<!-- 投标按钮对应状态 -->\r\n<script type="text/ng-template" id="template_investOperationAbnormal">\r\n  <div class="opt-corp-user" ng-show="investStatus == 6">\r\n    <div class="inv-status">\r\n      <i class="glyphicon inv-status-stop"></i>\r\n      <br/>\r\n      <a class="button-disabled mt15" ng-if="user.userType == 1">企业借款用户不可投资</a>\r\n      <a class="button-disabled mt15" ng-if="user.userType == 2">企业担保用户不可投资</a>\r\n    </div>\r\n  </div>\r\n  <div class="opt-finish" ng-show="investStatus == 2">\r\n    <div class="inv-status">\r\n      <i ng-if="borrowData.status == 4" class="glyphicon inv-status-repaying"></i>\r\n      <i ng-if="borrowData.status == 5 || borrowData.status == 6" class="glyphicon inv-status-stop"></i>\r\n      <i ng-if="borrowData.status == 8 || borrowData.status == 3 || borrowData.status == 7" class="glyphicon inv-status-finish"></i>\r\n      <br/>\r\n      <a class="button-disabled">\r\n        <span ng-if="borrowData.status == 3 || borrowData.status == 7">招标结束</span>\r\n        <span ng-if="borrowData.status == 4">还款中</span>\r\n        <span ng-if="borrowData.status == 5 || borrowData.status == 6">招标失败</span>\r\n        <span ng-if="borrowData.status == 8">已还款</span>\r\n      </a>\r\n    </div>\r\n  </div>\r\n  <div class="opt-self" ng-show="investStatus == 3">\r\n    <div class="inv-status">\r\n      <i class="glyphicon inv-status-stop"></i>\r\n      <br/>\r\n      <a class="button-disabled">当前项目为您自己的借款标</a>\r\n    </div>\r\n  </div>\r\n  <div class="opt-novice" ng-show="investStatus == 4">\r\n    <div class="inv-status">\r\n      <i class="glyphicon inv-status-stop"></i>\r\n      <br/>\r\n      <a class="button-disabled">新手专享</a>\r\n    </div>\r\n  </div>\r\n  <div class="opt-countdown" ng-show="investStatus == 1 && borrowData.countDown > 0">\r\n    <div class="inv-status">\r\n      <i class="glyphicon inv-status-countdown"></i>\r\n      <br/>\r\n      <a class="button-disabled"><span countdown="borrowData.countDown"></span></a>\r\n    </div>\r\n  </div>\r\n  <p class="inv-else" ng-show="investStatus > 1 || borrowData.countDown > 0">\r\n    <a ui-sref="invest({type:\'invest\'})">看看其他项目吧</a>\r\n  </p>\r\n</script>\r\n\r\n<script type="text/ng-template" id="template_investBondOperationAbnormal">\r\n  <div class="opt-corp-user" ng-show="investStatus == 6">\r\n    <div class="inv-status">\r\n      <i class="glyphicon inv-status-stop"></i>\r\n      <br/>\r\n      <a class="button-disabled" ng-if="user.userType == 1">企业借款用户不可投资</a>\r\n      <a class="button-disabled" ng-if="user.userType == 2">企业担保用户不可投资</a>\r\n    </div>\r\n  </div>\r\n  <div class="opt-finish" ng-show="investStatus == 2">\r\n    <div class="inv-status">\r\n      <i class="glyphicon inv-status-finish"></i>\r\n      <br/>\r\n      <a class="button-disabled">\r\n        <span ng-if="bondData.bond.status == 3">转让完成</span>\r\n        <span ng-if="bondData.bond.status >3">已结束</span>\r\n      </a>\r\n    </div>\r\n  </div>\r\n  <div class="opt-self" ng-show="investStatus == 3">\r\n    <div class="inv-status">\r\n      <i class="glyphicon inv-status-stop"></i>\r\n      <br/>\r\n      <a class="button-disabled">当前是您的债权转让信息</a>\r\n    </div>\r\n  </div>\r\n  <div class="opt-novice" ng-show="investStatus == 5">\r\n    <div class="inv-status">\r\n      <i class="glyphicon inv-status-stop"></i>\r\n      <br/>\r\n      <a class="button-disabled">您是此债权所属标的借款人</a>\r\n    </div>\r\n  </div>\r\n  <p class="inv-else" ng-show="investStatus > 1">\r\n    <a ui-sref="invest({type:\'bond\'})">看看其他债权吧</a>\r\n  </p>\r\n</script>\r\n\r\n<!-- 债权详情 用于北极熊：北极熊是线下债权线上转让，不分借款和债权 -->\r\n<!-- 原名：template_borrowDetailDetail_easyer_debts -->\r\n<script type="text/ng-template" id="template_bondDetailDetail_debts">\r\n<div class="dir-tabs mod-panel" tabs>\r\n	<!--<div class="tabs-nav3 clearfix" cp-ui-fixed>\r\n		<a href="javascript:;" ng-click="gotoAnchor(\'userInfo\')" tab-index="0">债权转让详情</a>\r\n		<a href="javascript:;" ng-click="gotoAnchor(\'borrowDesc\')" tab-index="0">债权转让描述</a>\r\n		<a href="javascript:;" ng-click="gotoAnchor(\'borrowInf\')" tab-index="0">债权转让资料</a>\r\n		<a href="javascript:;" ng-click="gotoAnchor(\'investRecord\')" tab-index="0">投资记录</a>\r\n	</div>-->\r\n	<div class="tabs-group">\r\n		<div class="mod-panel mod-inv-detail">\r\n			<div class="mod-body">\r\n				<div cp-common-include="\'template_bondDetailDetailUserInfo_debts\'"></div>\r\n			 	<div cp-common-include="\'template_bondDetailDetailDescribe_debts\'"></div>\r\n			 	<div cp-common-include="\'template_bondDetailDetailBorrowInfoSeter_debts\'"></div>\r\n				<div cp-common-include="\'template_borrowDetailDetailRepayPlan\'"></div>\r\n				<div cp-common-include="\'template_borrowDetailDetailTransRecord\'"></div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n</script>\r\n\r\n<script type="text/ng-template" id="template_bondDetailDetailUserInfo_debts">\r\n<div class="part user-info">\r\n  <h3 class="anchor-name"><a id="userInfo">债权转让详情</a></h3>\r\n  <div class="anchor-content" ng-show="bondData.userBaseInfo">\r\n    <table class="w0">\r\n      <tr>\r\n        <td>真实姓名：<span ng-bind="bondData.userBaseInfo.realName"></span></td>\r\n        <td>婚姻状况：<span ng-bind="bondData.userBaseInfo.maritalStatus == 1 ? \'已婚\' : \'未婚\'"></span></td>\r\n        <td ng-switch="bondData.userBaseInfo.monthIncomeRange">收入范围：\r\n          <span ng-switch-when="0">3000元以下</span>\r\n          <span ng-switch-when="1">3000-5000元</span>\r\n          <span ng-switch-when="2">5000-8000元</span>\r\n          <span ng-switch-when="3">8000-10000元</span>\r\n          <span ng-switch-when="4">10000-13000元</span>\r\n          <span ng-switch-when="5">13000-15000元</span>\r\n          <span ng-switch-when="6">15000-20000元</span>\r\n          <span ng-switch-when="7">20000元以上</span>\r\n        </td>\r\n      </tr>\r\n      <tr>\r\n        <td>年龄：<span ng-bind="bondData.userBaseInfo.age"></span>岁</td>\r\n        <td>户籍城市：<span ng-bind="bondData.userBaseInfo.province"></span><span ng-bind="bondData.userBaseInfo.city"></span></td>\r\n        <td>车产：<span ng-bind="bondData.userBaseInfo.hasCar == 1 ? \'有车\' : \'无车\'"></span></td>\r\n      </tr>\r\n      <tr>\r\n        <td ng-switch="bondData.userBaseInfo.education">学历：\r\n          <span ng-switch-when="0">小学</span>\r\n          <span ng-switch-when="1">初中</span>\r\n          <span ng-switch-when="2">高中</span>\r\n          <span ng-switch-when="3">中专</span>\r\n          <span ng-switch-when="4">大专</span>\r\n          <span ng-switch-when="5">本科</span>\r\n          <span ng-switch-when="6">硕士</span>\r\n          <span ng-switch-when="7">博士</span>\r\n          <span ng-switch-default>其他</span>\r\n        </td>\r\n        <td ng-switch="bondData.userBaseInfo.workExperience">工作时间：\r\n          <span ng-switch-when="0">0-3年</span>\r\n          <span ng-switch-when="1">3-5年</span>\r\n          <span ng-switch-when="2">5-8年</span>\r\n          <span ng-switch-when="3">8年以上</span>\r\n        </td>\r\n        <td>房产：<span ng-bind="bondData.userBaseInfo.hasHouse == 1 ? \'有房\' : \'无房\'"></span></td>\r\n      </tr>\r\n    </table>\r\n  </div>\r\n  <div class="anchor-content" ng-show="bondData.corpUserInfo">\r\n    <table class="w0">\r\n      <tr>\r\n        <td>转让企业名称：<span ng-bind="bondData.corpUserInfo.corpName"></span></td>\r\n        <td>法人真实姓名：<span ng-bind="bondData.corpUserInfo.legalRepresentative"></span></td>\r\n      </tr>\r\n      <tr>\r\n        <td>公司地址：<span ng-bind="bondData.corpUserInfo.corpAddress"></span></td>\r\n        <td>公司注册号：<span ng-bind="bondData.corpUserInfo.businessLicenceCode"></span></td>\r\n      </tr>\r\n    </table>\r\n  </div>\r\n</div>\r\n</script>\r\n\r\n<script type="text/ng-template" id="template_bondDetailDetailDescribe_debts">\r\n<div class="part">\r\n  <h3 class="anchor-name"><a id="borrowDesc">债权转让描述</a></h3>\r\n  <div class="anchor-content">\r\n    <!-- <p class="borrow-desc-content" multi-line-text-overflow="100" text="bondData.borrow.content"></p> -->\r\n    <p class="borrow-desc-content" ng-bind-html="bondData.borrow.content|html"></p>\r\n    <div id="page" ng-show="!bondData.borrow.content">\r\n      <div class="no-data" ng-class="noData">暂时没有数据</div>\r\n    </div>\r\n  </div>\r\n</div>\r\n</script>\r\n\r\n<script type="text/ng-template" id="template_bondDetailDetailBorrowInfoSeter_debts">\r\n<div class="part borrow-info">\r\n  <h3 class="anchor-name"><a id="borrowInf">债权转让资料</a></h3>\r\n  <div class="anchor-content" params="{{ {\'pageSize\':1,\'rows\':1} }}" cp-list data="bondData.borrowImageList || []" var-name="imageData">\r\n    <ul class="clearfix image-list" cp-ui-image-preview="imageData">\r\n      <li ng-repeat="item in imageData" ng-class="{mr0: $index % 3 == 2,floatright: $index % 3 == 2}">\r\n        <img ng-src="{{domain + item.imageUrl + \'?imageView2/1/w/100/h/100\'}}" />\r\n      </li>\r\n    </ul>\r\n    <div id="page">\r\n      <div paging class="small" page="imagePage" page-size="imagePageSize" total="imageTotal" adjacent="2" dots="..." scroll-top="false" hide-if-empty="true" ul-class="pagination" active-class="active" disabled-class="disabled" show-prev-next="true" paging-action="imagePagingAction(page)">\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n</script>\r\n<!--债权转让-结束-->\r\n\r\n<script type="text/ng-template" id="template_borrowDetailDetailUserInfo_username">\r\n<div class="part user-info">\r\n	<h3 class="anchor-name"><a id="userInfo">借款方详情</a></h3>\r\n	<div class="anchor-content" ng-show="borrowData.userBaseInfoRes" >\r\n		<table class="w0">\r\n			<tr>\r\n				<td>用户名：<span ng-bind="borrowData.userBaseInfoRes.username"></span></td>\r\n				<td>婚姻状况：<span ng-bind="borrowData.userBaseInfoRes.maritalStatus == 1 ? \'已婚\' : \'未婚\'"></span></td>\r\n				<td ng-switch="borrowData.userBaseInfoRes.monthIncomeRange">收入范围：\r\n					<span ng-switch-when="0">3000元以下</span>\r\n					<span ng-switch-when="1">3000-5000元</span>\r\n					<span ng-switch-when="2">5000-8000元</span>\r\n					<span ng-switch-when="3">8000-10000元</span>\r\n					<span ng-switch-when="4">10000-13000元</span>\r\n					<span ng-switch-when="5">13000-15000元</span>\r\n					<span ng-switch-when="6">15000-20000元</span>\r\n					<span ng-switch-when="7">20000元以上</span>\r\n				</td>\r\n			</tr>\r\n			<tr>\r\n				<td>年龄：<span ng-bind="borrowData.userBaseInfoRes.age"></span>岁</td>\r\n				<td>户籍城市：<span ng-bind="borrowData.userBaseInfoRes.province"></span><span ng-bind="borrowData.userBaseInfoRes.city"></span></td>\r\n				<td>车产：<span ng-bind="borrowData.userBaseInfoRes.hasCar == 1 ? \'有车\' : \'无车\'"></span></td>\r\n			</tr>\r\n			<tr>\r\n				<td ng-switch="borrowData.userBaseInfoRes.education">学历：\r\n					<span ng-switch-when="0">小学</span>\r\n					<span ng-switch-when="1">初中</span>\r\n					<span ng-switch-when="2">高中</span>\r\n					<span ng-switch-when="3">中专</span>\r\n					<span ng-switch-when="4">大专</span>\r\n					<span ng-switch-when="5">本科</span>\r\n					<span ng-switch-when="6">硕士</span>\r\n					<span ng-switch-when="7">博士</span>\r\n					<span ng-switch-default>其他</span>\r\n				</td>\r\n				<td ng-switch="borrowData.userBaseInfoRes.workExperience">工作时间：\r\n					<span ng-switch-when="0">0-3年</span>\r\n					<span ng-switch-when="1">3-5年</span>\r\n					<span ng-switch-when="2">5-8年</span>\r\n					<span ng-switch-when="3">8年以上</span>\r\n				</td>\r\n				<td>房产：<span ng-bind="borrowData.userBaseInfoRes.hasHouse == 1 ? \'有房\' : \'无房\'"></span></td>\r\n			</tr>\r\n		</table>\r\n	</div>\r\n	<div class="anchor-content" ng-show="borrowData.corpUserInfoRes" >\r\n		<table class="w0">\r\n			<tr>\r\n				<td>公司名称：<span ng-bind="borrowData.corpUserInfoRes.corpName"></span></td>\r\n				<td>法人真实姓名：<span ng-bind="borrowData.corpUserInfoRes.legalRepresentative"></span></td>\r\n			</tr>\r\n			<tr>\r\n				<td>借款人真实姓名：<span ng-bind="borrowData.realName"></span></td>\r\n				<td>公司注册号：<span ng-bind="borrowData.corpUserInfoRes.businessLicenceCode"></span></td>\r\n			</tr>\r\n			<tr>\r\n				<td>公司地址：<span ng-bind="borrowData.corpUserInfoRes.corpAddress"></span></td>\r\n				<td></td>\r\n			</tr>\r\n		</table>\r\n	</div>\r\n</div>\r\n</script>\r\n<script type="text/ng-template" id="template_borrowDetailDetailBorrowInfo_imgonerow">\r\n<div class="part borrow-info">\r\n	<h3 class="anchor-name"><a id="borrowInf">借款资料</a></h3>\r\n	<div ng-if="borrowData">\r\n		<div class="anchor-content" cp-list page-size="3" data="borrowData.borrowImageList || []" var-name="imageData">\r\n			<ul class="clearfix image-list" cp-ui-image-preview="imageData">\r\n				<li ng-repeat="item in imageData" ng-class="{mr0: $index % 3 == 2,floatright: $index % 3 == 2}">\r\n					<img ng-src="{{domain + item.imageUrl + \'?imageView2/1/w/100/h/100\'}}"  />\r\n				</li>\r\n			</ul>\r\n			<div id="page">\r\n				<div paging\r\n					class="small"\r\n					page="imageDataPage"\r\n					page-size="imageDataPageSize"\r\n					total="imageDataTotal"\r\n					adjacent="2"\r\n					dots="..."\r\n					scroll-top="false"\r\n					hide-if-empty="true"\r\n					ul-class="pagination"\r\n					active-class="active"\r\n					disabled-class="disabled"\r\n					show-prev-next="true"\r\n					paging-action="imageDataPageSearch(page)">\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n</script>\r\n<!--坤龙车贷投资详情-结束-->\r\n\r\n<!--坤龙车贷债权详情-开始-->\r\n<!--///////客户要求，详情页去掉“借款方详情”///////-->\r\n<script type="text/ng-template" id="template_bondDetailDetail_kunlongchedai">\r\n<div class="dir-tabs mod-panel" tabs>\r\n	<div class="tabs-nav3 clearfix" cp-ui-fixed>\r\n		<!-- <a href="javascript:;" ng-click="gotoAnchor(\'userInfo\')" tab-index="0">借款方详情</a> -->\r\n		<a href="javascript:;" ng-click="gotoAnchor(\'borrowDesc\')" tab-index="0">借款描述</a>\r\n		<a href="javascript:;" ng-click="gotoAnchor(\'borrowInf\')" tab-index="0">借款资料</a>\r\n		<a href="javascript:;" ng-click="gotoAnchor(\'repayPlan\')" tab-index="0">还款计划</a>\r\n		<a href="javascript:;" ng-click="gotoAnchor(\'transRecord\')" tab-index="0">债权转让记录</a>\r\n	</div>\r\n	<div class="tabs-group">\r\n		<div class="mod-panel mod-inv-detail">\r\n			<div class="mod-body">   <!-- \'template_borrowDetailDetailUserInfo_username\',  -->\r\n				<div cp-common-include="[\'template_borrowDetailDetailDescribe\', \'template_borrowDetailDetailBorrowInfo_imgonerow\']"\r\n					var-watch="bondData"\r\n					vars="{borrowData: {userBaseInfoRes: bondData.userBaseInfo, corpUserInfoRes:bondData.corpUserInfo, content: bondData.borrow.content, borrowImageList: bondData.borrow.borrowImageList} }"></div>\r\n				<div cp-common-include="[\'template_borrowDetailDetailRepayPlan\', \'template_borrowDetailDetailTransRecord\']"></div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n</script>\r\n<!--坤龙车贷债权详情-结束-->\r\n\r\n<!--jinrongbaza投资记录状态图标-->\r\n<script type="text/ng-template" id="template_borrowDetailDetail_jinrongbaza">\r\n<div class="dir-tabs mod-panel" tabs>\r\n	<div class="tabs-nav3 clearfix" cp-ui-fixed>\r\n		<a href="javascript:;" ng-click="gotoAnchor(\'userInfo\')" tab-index="0">借款方详情</a>\r\n		<a href="javascript:;" ng-click="gotoAnchor(\'borrowDesc\')" tab-index="0">借款描述</a>\r\n		<a href="javascript:;" ng-click="gotoAnchor(\'borrowInf\')" tab-index="0">借款资料</a>\r\n		<a href="javascript:;" ng-click="gotoAnchor(\'investRecord\')" tab-index="0">投资记录</a>\r\n	</div>\r\n	<div class="tabs-group">\r\n		<div class="mod-panel mod-inv-detail">\r\n			<div class="mod-body">\r\n				<div cp-common-include="\'template_borrowDetailDetailUserInfo_username\'"></div>\r\n			 	<div cp-common-include="\'template_borrowDetailDetailDescribe\'"></div>\r\n			 	<div cp-common-include="\'template_borrowDetailDetailBorrowInfo_imgonerow\'"></div>\r\n				<div cp-common-include="\'template_borrowDetailDetailInvestRecord_imgicon\'"></div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n</script>\r\n<script type="text/ng-template" id="template_borrowDetailDetailInvestRecord_imgicon">\r\n<div class="part invest-record">\r\n	<h3 class="anchor-name"><a id="investRecord">投资记录</a></h3>\r\n	<div class="anchor-content">\r\n		<table class="w0 list-table">\r\n			<thead>\r\n				<tr>\r\n					<td width="12%" align="center">序号</td>\r\n					<td width="18%">投资人</td>\r\n					<td width="20%">投资金额</td>\r\n					<td width="20%">投资时间</td>\r\n					<td width="18%">投资方式</td>\r\n					<td width="12%" align="center">状态</td>\r\n				</tr>\r\n			</thead>\r\n			<tbody cp-list-borrow-investment-record="$stateParams.id" var-name="record">\r\n				<tr ng-repeat="item in record" ng-class="{even: $index % 2, odd: ($index + 1) % 2}">\r\n					<td align="center" ng-bind="(recordPage-1) * recordPageSize +  $index + 1"></td>\r\n					<td ng-bind="item.username"></td>\r\n					<td ><span class="money">￥</span><span ng-bind="item.capital | number :2"></span></td>\r\n					<td ng-bind="item.addTime|date:\'yyyy-MM-dd\'"></td>\r\n\r\n					<td ng-switch="item.investmentType">\r\n						<span ng-switch-when="0">网站投标</span>\r\n						<span ng-switch-when="1">APP投标</span>\r\n						<span ng-switch-when="2">微信投标</span>\r\n						<span ng-switch-when="3">自动投标</span>\r\n					</td>\r\n					<td align="center">\r\n						<span ng-if="item.status >= 0 && item.status <= 2"><img src="resources/images/successrecord.png" /></span>\r\n						<span ng-if="item.status > 2"><img src="resources/images/failrecord.png" /></span>\r\n					</td>\r\n				</tr>\r\n			</tbody>\r\n		</table>\r\n		<div id="page">\r\n			<div paging\r\n				class="small"\r\n				page="recordPage"\r\n				page-size="recordPageSize"\r\n				total="recordTotal"\r\n				adjacent="2"\r\n				dots="..."\r\n				scroll-top="false"\r\n				hide-if-empty="true"\r\n				ul-class="pagination"\r\n				active-class="active"\r\n				disabled-class="disabled"\r\n				show-prev-next="true"\r\n				paging-action="recordPageSearch(page)">\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n</script>\r\n\r\n<!-- 投标按钮的多个状态，用于北极熊二期 -->\r\n<script type="text/ng-template" id="template_invest_button">\r\n	<a ng-if="item.countDown <= 0 && item.status==1" ui-sref="borrowDetail({id:item.id})" class="btn btn-default">立即抢购</a>\r\n	<a ng-if="item.countDown <= 0 && item.status==3" ui-sref="borrowDetail({id:item.id})" class="btn btn-gray">招标结束</a>\r\n	<a ng-if="item.countDown <= 0 && item.status==4" ui-sref="borrowDetail({id:item.id})" class="btn btn-gray">还款中</a>\r\n	<a ng-if="item.countDown <= 0 && item.status==8" ui-sref="borrowDetail({id:item.id})" class="btn btn-gray">已还款</a>\r\n	<a ng-if="item.countDown > 0"  class="btn btn-gray btn-countdown" ui-sref="borrowDetail({id:item.id})">倒计时：<span countdown="item.countDown"></span></a>\r\n</script>\r\n\r\n<!-- 转让按钮的多个状态，用于北极熊二期 -->\r\n<script type="text/ng-template" id="template_bond_button">\r\n	<a ng-if="item.status==1" class="btn btn-default" ui-sref="bondDetail({id:{{item.id}},userId:{{item.userId}}})">立即受让</a>\r\n	<a ng-if="item.status==3||item.status==4||item.status==5||item.status==6" class="btn btn-gray" ui-sref="bondDetail({id:{{item.id}},userId:{{item.userId}}})">转让完成</a>\r\n</script>';
}),function(e){function t(e,n){for(var r in n)"object"==typeof n[r]?e[r]=t(n[r]):e[r]=n[r];return e}Alert=function(e){this.isHasDisplay=!1,this.callBackName=0,this.isAndroid=navigator.userAgent.indexOf("Android")>0?!0:!1,this.returnVal=!1},Alert.prototype={getButtons:function(){var e,t=this.args;if(this.buttonsDiv=this.buttonsDiv||document.createElement("div"),this.buttonsDiv.className="ui_alert_button",this.buttonsDiv.innerHTML="",t.buttons){var n,r,i=t.buttons,a=t.buttons;for(a="default"===a?[{value:"取消"},{value:"确定"}]:a,n=0,r=a.length;r>n;n++)e=document.createElement("button"),a[n].className&&(e.className=a[n].className),e.innerHTML=a[n].value,this.buttonsDiv.appendChild(e),"default"==i&&1==n?this.bindCallBack(e,t.callBack):this.bindCallBack(e,a[n].callBack)}else e=document.createElement("button"),e.className="ui_alert_btn",e.innerHTML="确定",this.bindCallBack(e,t.callBack),this.buttonsDiv.appendChild(e);return this.buttonsDiv},bindCallBack:function(e,t){t&&"function"==typeof t&&(++this.callBackName,this.callBack[this.callBackName]=t,e.callBack=this.callBackName)},getTemplate:function(){var t=this.args;this.box=document.createElement("div"),this.box.className=this.className,t.title?(this.title=this.title||document.createElement("h1"),this.title.innerHTML=t.title,this.isHasDisplay||this.box.appendChild(this.title),this.title.style.display=""):this.title&&(this.title.style.display="none"),t.closeBtn?(this.closeBtn=this.closeBtn||document.createElement("button"),this.closeBtn.className="close",this.closeBtn.innerHTML="×",this.isHasDisplay||this.box.appendChild(this.closeBtn),this.closeBtn.style.display=""):this.closeBtn&&(this.closeBtn.style.display="none"),this.content=this.content||document.createElement("div"),this.content.className="default "+this.addClassName,this.content.id="content";var n=document.createElement("div");n.id=t.type||"info",this.content.appendChild(n);var r=document.createElement("div");r.id="contDetail",r.innerHTML=this.msg||"",this.content.appendChild(r),this.isHasDisplay||this.box.appendChild(this.content),this.buttonsDiv=this.getButtons(),this.isHasDisplay||this.box.appendChild(this.buttonsDiv),this.isHasDisplay||document.body.appendChild(this.box),!1!==this.isCover&&(document.getElementById(this.coverClassName)?this.cover=document.getElementById(this.coverClassName):(this.cover=this.cover||document.createElement("div"),this.cover.id=this.coverClassName,this.cover.className=this.coverClassName,this.isHasDisplay||document.body.appendChild(this.cover)),this.cover.style.height=e.screen.height>=document.body.clientHeight?e.screen.height:document.body.clientHeight+"px")},bindEvents:function(){var t=this;this.box.onclick=function(n){var n=n||e.event,r=n.srcElement||n.target;if("BUTTON"===r.tagName){var i=r.callBack;if(i&&t.callBack[i]){var a=t.callBack[i](t);if(!1===a)return}t.close(t)}}},close:function(e){return"Microsoft Internet Explorer"==navigator.appName?e.box.removeNode(!0):"Netscape"==navigator.appName?e.box.parentNode.removeChild(e.box):e.box.remove(),e.removeClass(e.box,e.showClassName),e.cover.style.height="0px",!1},setPosition:function(e){var t=document.documentElement.clientHeight,n=e.box.clientHeight;e.box.style.position="fixed",e.box.style.top="50%",t&&t>n?e.box.style.top=382*(t-n)/1e3+"px":e.box.style.top="0px",e.box.style.marginLeft="-"+e.box.clientWidth/2+"px",clearInterval(e.showInterval)},reset:function(){var t=this;e.onresize=function(){t.setPosition(t)}},show:function(e){this.msg=e.msg,this.args=e.args||{},this.showClassName=this.args.showClassName||"ui_alert_show",this.className=this.args.className||"ui_alert",this.coverClassName=this.args.coverClassName||"ui_alert_cover",this.addClassName=this.args.addClassName||" ",this.callBack={},this.delay=e.delay,this.isCover=this.args.isCover,this.isMiddle=this.args.isMiddle,this.getTemplate(),this.isHasDisplay||this.bindEvents(),this.isHasDisplay=!0,this.addClass(this.box,this.showClassName);var t=this;this.showInterval=setInterval(function(){t.setPosition(t),t.reset()},"300"),clearTimeout(this.timeoutValue),this.timeoutValue=null,this.delay&&(this.timeoutValue=setTimeout(function(){clearTimeout(this.timeoutValue),this.timeoutValue=null,t.close(t)},this.delay))},addClass:function(e,t){var n=e.className;n===t||n.indexOf(" "+t)>=0||n.indexOf(t+" ")>=0||(n?e.className=n+" "+t:e.className=t)},removeClass:function(e,t){var n=e.className;n===t?e.className="":n.indexOf(" "+t)>=0?e.className=n.replace(" "+t,""):n.indexOf(t+" ")>=0&&(e.className=n.replace(t+" ",""))}},e.alert=function(e,n,r){var i={title:" ",closeBtn:!0},n=t(i,n);if(!a)var a=new Alert;return a.show({msg:e,args:n,delay:r}),a},e.confirm=function(e,n,r){var i={title:" ",closeBtn:!0},n=t(i,n);if(!a)var a=new Alert;return a.show({msg:e,args:n,delay:r})}}(window),define("dialog",function(){}),!function(e,t){"use strict";function n(e,t){for(var n,r=[],a=0;a<e.length;++a){if(n=o[e[a]]||i(e[a]),!n)throw"module definition dependecy not found: "+e[a];r.push(n)}t.apply(null,r)}function r(e,r,i){if("string"!=typeof e)throw"invalid module definition, module id must be defined and be a string";if(r===t)throw"invalid module definition, dependencies must be specified";if(i===t)throw"invalid module definition, definition function must be specified";n(r,function(){o[e]=i.apply(null,arguments)})}function i(t){for(var n=e,r=t.split(/[.\/]/),i=0;i<r.length;++i){if(!n[r[i]])return;n=n[r[i]]}return n}function a(n){for(var r=0;r<n.length;r++){for(var i=e,a=n[r],s=a.split(/[.\/]/),c=0;c<s.length-1;++c)i[s[c]]===t&&(i[s[c]]={}),i=i[s[c]];i[s[s.length-1]]=o[a]}}var o={},s="moxie/core/utils/Basic",c="moxie/core/I18n",l="moxie/core/utils/Mime",u="moxie/core/utils/Env",d="moxie/core/utils/Dom",p="moxie/core/Exceptions",f="moxie/core/EventTarget",m="moxie/core/utils/Encode",h="moxie/runtime/Runtime",g="moxie/runtime/RuntimeClient",v="moxie/file/Blob",b="moxie/file/File",w="moxie/file/FileInput",y="moxie/file/FileDrop",$="moxie/runtime/RuntimeTarget",x="moxie/file/FileReader",S="moxie/core/utils/Url",D="moxie/file/FileReaderSync",_="moxie/xhr/FormData",E="moxie/xhr/XMLHttpRequest",k="moxie/runtime/Transporter",R="moxie/image/Image",I="moxie/runtime/html5/Runtime",C="moxie/runtime/html5/file/Blob",A="moxie/core/utils/Events",T="moxie/runtime/html5/file/FileInput",P="moxie/runtime/html5/file/FileDrop",M="moxie/runtime/html5/file/FileReader",N="moxie/runtime/html5/xhr/XMLHttpRequest",O="moxie/runtime/html5/utils/BinaryReader",B="moxie/runtime/html5/image/JPEGHeaders",L="moxie/runtime/html5/image/ExifParser",j="moxie/runtime/html5/image/JPEG",F="moxie/runtime/html5/image/PNG",q="moxie/runtime/html5/image/ImageInfo",U="moxie/runtime/html5/image/MegaPixel",H="moxie/runtime/html5/image/Image",V="moxie/runtime/flash/Runtime",z="moxie/runtime/flash/file/Blob",G="moxie/runtime/flash/file/FileInput",X="moxie/runtime/flash/file/FileReader",W="moxie/runtime/flash/file/FileReaderSync",Y="moxie/runtime/flash/xhr/XMLHttpRequest",J="moxie/runtime/flash/runtime/Transporter",Z="moxie/runtime/flash/image/Image",K="moxie/runtime/silverlight/Runtime",Q="moxie/runtime/silverlight/file/Blob",ee="moxie/runtime/silverlight/file/FileInput",te="moxie/runtime/silverlight/file/FileDrop",ne="moxie/runtime/silverlight/file/FileReader",re="moxie/runtime/silverlight/file/FileReaderSync",ie="moxie/runtime/silverlight/xhr/XMLHttpRequest",ae="moxie/runtime/silverlight/runtime/Transporter",oe="moxie/runtime/silverlight/image/Image",se="moxie/runtime/html4/Runtime",ce="moxie/runtime/html4/file/FileInput",le="moxie/runtime/html4/file/FileReader",ue="moxie/runtime/html4/xhr/XMLHttpRequest",de="moxie/runtime/html4/image/Image";r(s,[],function(){var e=function(e){var t;return e===t?"undefined":null===e?"null":e.nodeType?"node":{}.toString.call(e).match(/\s([a-z|A-Z]+)/)[1].toLowerCase()},t=function(r){var i;return n(arguments,function(a,s){s>0&&n(a,function(n,a){n!==i&&(e(r[a])===e(n)&&~o(e(n),["array","object"])?t(r[a],n):r[a]=n)})}),r},n=function(e,t){var n,r,i,a;if(e){try{n=e.length}catch(o){n=a}if(n===a){for(r in e)if(e.hasOwnProperty(r)&&t(e[r],r)===!1)return}else for(i=0;n>i;i++)if(t(e[i],i)===!1)return}},r=function(t){var n;if(!t||"object"!==e(t))return!0;for(n in t)return!1;return!0},i=function(t,n){function r(i){"function"===e(t[i])&&t[i](function(e){++i<a&&!e?r(i):n(e)})}var i=0,a=t.length;"function"!==e(n)&&(n=function(){}),t&&t.length||n(),r(i)},a=function(e,t){var r=0,i=e.length,a=new Array(i);n(e,function(e,n){e(function(e){if(e)return t(e);var o=[].slice.call(arguments);o.shift(),a[n]=o,r++,r===i&&(a.unshift(null),t.apply(this,a))})})},o=function(e,t){if(t){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e);for(var n=0,r=t.length;r>n;n++)if(t[n]===e)return n}return-1},s=function(t,n){var r=[];"array"!==e(t)&&(t=[t]),"array"!==e(n)&&(n=[n]);for(var i in t)-1===o(t[i],n)&&r.push(t[i]);return r.length?r:!1},c=function(e,t){var r=[];return n(e,function(e){-1!==o(e,t)&&r.push(e)}),r.length?r:null},l=function(e){var t,n=[];for(t=0;t<e.length;t++)n[t]=e[t];return n},u=function(){var e=0;return function(t){var n,r=(new Date).getTime().toString(32);for(n=0;5>n;n++)r+=Math.floor(65535*Math.random()).toString(32);return(t||"o_")+r+(e++).toString(32)}}(),d=function(e){return e?String.prototype.trim?String.prototype.trim.call(e):e.toString().replace(/^\s*/,"").replace(/\s*$/,""):e},p=function(e){if("string"!=typeof e)return e;var t,n={t:1099511627776,g:1073741824,m:1048576,k:1024};return e=/^([0-9]+)([mgk]?)$/.exec(e.toLowerCase().replace(/[^0-9mkg]/g,"")),t=e[2],e=+e[1],n.hasOwnProperty(t)&&(e*=n[t]),e};return{guid:u,typeOf:e,extend:t,each:n,isEmptyObj:r,inSeries:i,inParallel:a,inArray:o,arrayDiff:s,arrayIntersect:c,toArray:l,trim:d,parseSizeStr:p}}),r(c,[s],function(e){var t={};return{addI18n:function(n){return e.extend(t,n)},translate:function(e){return t[e]||e},_:function(e){return this.translate(e)},sprintf:function(t){var n=[].slice.call(arguments,1);return t.replace(/%[a-z]/g,function(){var t=n.shift();return"undefined"!==e.typeOf(t)?t:""})}}}),r(l,[s,c],function(e,t){var n="application/msword,doc dot,application/pdf,pdf,application/pgp-signature,pgp,application/postscript,ps ai eps,application/rtf,rtf,application/vnd.ms-excel,xls xlb,application/vnd.ms-powerpoint,ppt pps pot,application/zip,zip,application/x-shockwave-flash,swf swfl,application/vnd.openxmlformats-officedocument.wordprocessingml.document,docx,application/vnd.openxmlformats-officedocument.wordprocessingml.template,dotx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,xlsx,application/vnd.openxmlformats-officedocument.presentationml.presentation,pptx,application/vnd.openxmlformats-officedocument.presentationml.template,potx,application/vnd.openxmlformats-officedocument.presentationml.slideshow,ppsx,application/x-javascript,js,application/json,json,audio/mpeg,mp3 mpga mpega mp2,audio/x-wav,wav,audio/x-m4a,m4a,audio/ogg,oga ogg,audio/aiff,aiff aif,audio/flac,flac,audio/aac,aac,audio/ac3,ac3,audio/x-ms-wma,wma,image/bmp,bmp,image/gif,gif,image/jpeg,jpg jpeg jpe,image/photoshop,psd,image/png,png,image/svg+xml,svg svgz,image/tiff,tiff tif,text/plain,asc txt text diff log,text/html,htm html xhtml,text/css,css,text/csv,csv,text/rtf,rtf,video/mpeg,mpeg mpg mpe m2v,video/quicktime,qt mov,video/mp4,mp4,video/x-m4v,m4v,video/x-flv,flv,video/x-ms-wmv,wmv,video/avi,avi,video/webm,webm,video/3gpp,3gpp 3gp,video/3gpp2,3g2,video/vnd.rn-realvideo,rv,video/ogg,ogv,video/x-matroska,mkv,application/vnd.oasis.opendocument.formula-template,otf,application/octet-stream,exe",r={mimes:{},extensions:{},addMimeType:function(e){var t,n,r,i=e.split(/,/);for(t=0;t<i.length;t+=2){for(r=i[t+1].split(/ /),n=0;n<r.length;n++)this.mimes[r[n]]=i[t];this.extensions[i[t]]=r}},extList2mimes:function(t,n){var r,i,a,o,s=this,c=[];for(i=0;i<t.length;i++)for(r=t[i].extensions.split(/\s*,\s*/),a=0;a<r.length;a++){if("*"===r[a])return[];if(o=s.mimes[r[a]])-1===e.inArray(o,c)&&c.push(o);else{if(!n||!/^\w+$/.test(r[a]))return[];c.push("."+r[a])}}return c},mimes2exts:function(t){var n=this,r=[];return e.each(t,function(t){if("*"===t)return r=[],!1;var i=t.match(/^(\w+)\/(\*|\w+)$/);i&&("*"===i[2]?e.each(n.extensions,function(e,t){new RegExp("^"+i[1]+"/").test(t)&&[].push.apply(r,n.extensions[t])}):n.extensions[t]&&[].push.apply(r,n.extensions[t]))}),r},mimes2extList:function(n){var r=[],i=[];return"string"===e.typeOf(n)&&(n=e.trim(n).split(/\s*,\s*/)),i=this.mimes2exts(n),r.push({title:t.translate("Files"),extensions:i.length?i.join(","):"*"}),r.mimes=n,r},getFileExtension:function(e){var t=e&&e.match(/\.([^.]+)$/);return t?t[1].toLowerCase():""},getFileMime:function(e){return this.mimes[this.getFileExtension(e)]||""}};return r.addMimeType(n),r}),r(u,[s],function(e){function t(e,t,n){var r=0,i=0,a=0,o={dev:-6,alpha:-5,a:-5,beta:-4,b:-4,RC:-3,rc:-3,"#":-2,p:1,pl:1},s=function(e){return e=(""+e).replace(/[_\-+]/g,"."),e=e.replace(/([^.\d]+)/g,".$1.").replace(/\.{2,}/g,"."),e.length?e.split("."):[-8]},c=function(e){return e?isNaN(e)?o[e]||-7:parseInt(e,10):0};for(e=s(e),t=s(t),i=Math.max(e.length,t.length),r=0;i>r;r++)if(e[r]!=t[r]){if(e[r]=c(e[r]),t[r]=c(t[r]),e[r]<t[r]){a=-1;break}if(e[r]>t[r]){a=1;break}}if(!n)return a;switch(n){case">":case"gt":return a>0;case">=":case"ge":return a>=0;case"<=":case"le":return 0>=a;case"==":case"=":case"eq":return 0===a;case"<>":case"!=":case"ne":return 0!==a;case"":case"<":case"lt":return 0>a;default:return null}}var n=function(e){var t="",n="?",r="function",i="undefined",a="object",o="major",s="name",c="version",l={has:function(e,t){return-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()}},u={rgx:function(){for(var t,n,o,s,c,l,u,d=0,p=arguments;d<p.length;d+=2){var f=p[d],m=p[d+1];if(typeof t===i){t={};for(s in m)c=m[s],typeof c===a?t[c[0]]=e:t[c]=e}for(n=o=0;n<f.length;n++)if(l=f[n].exec(this.getUA())){for(s=0;s<m.length;s++)u=l[++o],c=m[s],typeof c===a&&c.length>0?2==c.length?t[c[0]]=typeof c[1]==r?c[1].call(this,u):c[1]:3==c.length?t[c[0]]=typeof c[1]!==r||c[1].exec&&c[1].test?u?u.replace(c[1],c[2]):e:u?c[1].call(this,u,c[2]):e:4==c.length&&(t[c[0]]=u?c[3].call(this,u.replace(c[1],c[2])):e):t[c]=u?u:e;break}if(l)break}return t},str:function(t,r){for(var i in r)if(typeof r[i]===a&&r[i].length>0){for(var o=0;o<r[i].length;o++)if(l.has(r[i][o],t))return i===n?e:i}else if(l.has(r[i],t))return i===n?e:i;return t}},d={browser:{oldsafari:{major:{1:["/8","/1","/3"],2:"/4","?":"/"},version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",RT:"ARM"}}}},p={browser:[[/(opera\smini)\/((\d+)?[\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/((\d+)?[\w\.-]+)/i,/(opera).+version\/((\d+)?[\w\.]+)/i,/(opera)[\/\s]+((\d+)?[\w\.]+)/i],[s,c,o],[/\s(opr)\/((\d+)?[\w\.]+)/i],[[s,"Opera"],c,o],[/(kindle)\/((\d+)?[\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?((\d+)?[\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?((\d+)?[\w\.]*)/i,/(?:ms|\()(ie)\s((\d+)?[\w\.]+)/i,/(rekonq)((?:\/)[\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron)\/((\d+)?[\w\.-]+)/i],[s,c,o],[/(trident).+rv[:\s]((\d+)?[\w\.]+).+like\sgecko/i],[[s,"IE"],c,o],[/(yabrowser)\/((\d+)?[\w\.]+)/i],[[s,"Yandex"],c,o],[/(comodo_dragon)\/((\d+)?[\w\.]+)/i],[[s,/_/g," "],c,o],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?((\d+)?[\w\.]+)/i],[s,c,o],[/(dolfin)\/((\d+)?[\w\.]+)/i],[[s,"Dolphin"],c,o],[/((?:android.+)crmo|crios)\/((\d+)?[\w\.]+)/i],[[s,"Chrome"],c,o],[/((?:android.+))version\/((\d+)?[\w\.]+)\smobile\ssafari/i],[[s,"Android Browser"],c,o],[/version\/((\d+)?[\w\.]+).+?mobile\/\w+\s(safari)/i],[c,o,[s,"Mobile Safari"]],[/version\/((\d+)?[\w\.]+).+?(mobile\s?safari|safari)/i],[c,o,s],[/webkit.+?(mobile\s?safari|safari)((\/[\w\.]+))/i],[s,[o,u.str,d.browser.oldsafari.major],[c,u.str,d.browser.oldsafari.version]],[/(konqueror)\/((\d+)?[\w\.]+)/i,/(webkit|khtml)\/((\d+)?[\w\.]+)/i],[s,c,o],[/(navigator|netscape)\/((\d+)?[\w\.-]+)/i],[[s,"Netscape"],c,o],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?((\d+)?[\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/((\d+)?[\w\.-]+)/i,/(mozilla)\/((\d+)?[\w\.]+).+rv\:.+gecko\/\d+/i,/(uc\s?browser|polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|qqbrowser)[\/\s]?((\d+)?[\w\.]+)/i,/(links)\s\(((\d+)?[\w\.]+)/i,/(gobrowser)\/?((\d+)?[\w\.]+)*/i,/(ice\s?browser)\/v?((\d+)?[\w\._]+)/i,/(mosaic)[\/\s]((\d+)?[\w\.]+)/i],[s,c,o]],engine:[[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[s,c],[/rv\:([\w\.]+).*(gecko)/i],[c,s]],os:[[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[s,[c,u.str,d.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[s,"Windows"],[c,u.str,d.os.windows.version]],[/\((bb)(10);/i],[[s,"BlackBerry"],c],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)\/([\w\.]+)/i,/(android|webos|palm\os|qnx|bada|rim\stablet\sos|meego)[\/\s-]?([\w\.]+)*/i],[s,c],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[s,"Symbian"],c],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[s,"Firefox OS"],c],[/(nintendo|playstation)\s([wids3portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[s,c],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[s,"Chromium OS"],c],[/(sunos)\s?([\w\.]+\d)*/i],[[s,"Solaris"],c],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[s,c],[/(ip[honead]+)(?:.*os\s*([\w]+)*\slike\smac|;\sopera)/i],[[s,"iOS"],[c,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i],[s,[c,/_/g,"."]],[/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(macintosh|mac(?=_powerpc)|plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos)/i,/(unix)\s?([\w\.]+)*/i],[s,c]]},f=function(e){var n=e||(window&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:t);this.getBrowser=function(){return u.rgx.apply(this,p.browser)},this.getEngine=function(){return u.rgx.apply(this,p.engine)},this.getOS=function(){return u.rgx.apply(this,p.os)},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS()}},this.getUA=function(){return n},this.setUA=function(e){return n=e,this},this.setUA(n)};return(new f).getResult()}(),r=function(){var t={define_property:function(){return!1}(),create_canvas:function(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))}(),return_response_type:function(t){try{if(-1!==e.inArray(t,["","text","document"]))return!0;if(window.XMLHttpRequest){var n=new XMLHttpRequest;if(n.open("get","/"),"responseType"in n)return n.responseType=t,n.responseType!==t?!1:!0}}catch(r){}return!1},use_data_uri:function(){var e=new Image;return e.onload=function(){t.use_data_uri=1===e.width&&1===e.height},setTimeout(function(){e.src="data:image/gif;base64,R0lGODlhAQABAIAAAP8AAAAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw=="},1),!1}(),use_data_uri_over32kb:function(){return t.use_data_uri&&("IE"!==i.browser||i.version>=9)},use_data_uri_of:function(e){return t.use_data_uri&&33e3>e||t.use_data_uri_over32kb()},use_fileinput:function(){var e=document.createElement("input");return e.setAttribute("type","file"),!e.disabled}};return function(n){var r=[].slice.call(arguments);return r.shift(),"function"===e.typeOf(t[n])?t[n].apply(this,r):!!t[n]}}(),i={can:r,browser:n.browser.name,version:parseFloat(n.browser.major),os:n.os.name,osVersion:n.os.version,verComp:t,swf_url:"../flash/Moxie.swf",xap_url:"../silverlight/Moxie.xap",global_event_dispatcher:"moxie.core.EventTarget.instance.dispatchEvent"};return i.OS=i.os,i}),r(d,[u],function(e){var t=function(e){return"string"!=typeof e?e:document.getElementById(e)},n=function(e,t){if(!e.className)return!1;var n=new RegExp("(^|\\s+)"+t+"(\\s+|$)");return n.test(e.className)},r=function(e,t){n(e,t)||(e.className=e.className?e.className.replace(/\s+$/,"")+" "+t:t)},i=function(e,t){if(e.className){var n=new RegExp("(^|\\s+)"+t+"(\\s+|$)");e.className=e.className.replace(n,function(e,t,n){return" "===t&&" "===n?" ":""})}},a=function(e,t){return e.currentStyle?e.currentStyle[t]:window.getComputedStyle?window.getComputedStyle(e,null)[t]:void 0},o=function(t,n){function r(e){var t,n,r=0,i=0;return e&&(n=e.getBoundingClientRect(),t="CSS1Compat"===l.compatMode?l.documentElement:l.body,r=n.left+t.scrollLeft,i=n.top+t.scrollTop),{x:r,y:i}}var i,a,o,s=0,c=0,l=document;if(t=t,n=n||l.body,t&&t.getBoundingClientRect&&"IE"===e.browser&&(!l.documentMode||l.documentMode<8))return a=r(t),o=r(n),{x:a.x-o.x,y:a.y-o.y};for(i=t;i&&i!=n&&i.nodeType;)s+=i.offsetLeft||0,c+=i.offsetTop||0,i=i.offsetParent;for(i=t.parentNode;i&&i!=n&&i.nodeType;)s-=i.scrollLeft||0,c-=i.scrollTop||0,i=i.parentNode;return{x:s,y:c}},s=function(e){return{w:e.offsetWidth||e.clientWidth,h:e.offsetHeight||e.clientHeight}};return{get:t,hasClass:n,addClass:r,removeClass:i,getStyle:a,getPos:o,getSize:s}}),r(p,[s],function(e){function t(e,t){var n;for(n in e)if(e[n]===t)return n;return null}return{RuntimeError:function(){function n(e){this.code=e,this.name=t(r,e),this.message=this.name+": RuntimeError "+this.code}var r={NOT_INIT_ERR:1,NOT_SUPPORTED_ERR:9,JS_ERR:4};return e.extend(n,r),n.prototype=Error.prototype,n}(),OperationNotAllowedException:function(){function t(e){this.code=e,this.name="OperationNotAllowedException"}return e.extend(t,{NOT_ALLOWED_ERR:1}),t.prototype=Error.prototype,t}(),ImageError:function(){function n(e){this.code=e,this.name=t(r,e),this.message=this.name+": ImageError "+this.code}var r={WRONG_FORMAT:1,MAX_RESOLUTION_ERR:2};return e.extend(n,r),n.prototype=Error.prototype,n}(),FileException:function(){function n(e){this.code=e,this.name=t(r,e),this.message=this.name+": FileException "+this.code}var r={NOT_FOUND_ERR:1,SECURITY_ERR:2,ABORT_ERR:3,NOT_READABLE_ERR:4,ENCODING_ERR:5,NO_MODIFICATION_ALLOWED_ERR:6,INVALID_STATE_ERR:7,SYNTAX_ERR:8};return e.extend(n,r),n.prototype=Error.prototype,n}(),DOMException:function(){function n(e){this.code=e,this.name=t(r,e),this.message=this.name+": DOMException "+this.code}var r={INDEX_SIZE_ERR:1,DOMSTRING_SIZE_ERR:2,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,INVALID_CHARACTER_ERR:5,NO_DATA_ALLOWED_ERR:6,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INUSE_ATTRIBUTE_ERR:10,INVALID_STATE_ERR:11,SYNTAX_ERR:12,INVALID_MODIFICATION_ERR:13,NAMESPACE_ERR:14,INVALID_ACCESS_ERR:15,VALIDATION_ERR:16,TYPE_MISMATCH_ERR:17,SECURITY_ERR:18,NETWORK_ERR:19,ABORT_ERR:20,URL_MISMATCH_ERR:21,QUOTA_EXCEEDED_ERR:22,TIMEOUT_ERR:23,INVALID_NODE_TYPE_ERR:24,DATA_CLONE_ERR:25};return e.extend(n,r),n.prototype=Error.prototype,n}(),EventException:function(){function t(e){this.code=e,this.name="EventException"}return e.extend(t,{UNSPECIFIED_EVENT_TYPE_ERR:0}),t.prototype=Error.prototype,t}()}}),r(f,[p,s],function(e,t){function n(){var n={};t.extend(this,{uid:null,init:function(){this.uid||(this.uid=t.guid("uid_"))},addEventListener:function(e,r,i,a){var o,s=this;return e=t.trim(e),/\s/.test(e)?void t.each(e.split(/\s+/),function(e){s.addEventListener(e,r,i,a)}):(e=e.toLowerCase(),i=parseInt(i,10)||0,o=n[this.uid]&&n[this.uid][e]||[],o.push({fn:r,priority:i,scope:a||this}),n[this.uid]||(n[this.uid]={}),void(n[this.uid][e]=o))},hasEventListener:function(e){return e?!(!n[this.uid]||!n[this.uid][e]):!!n[this.uid]},removeEventListener:function(e,r){e=e.toLowerCase();var i,a=n[this.uid]&&n[this.uid][e];if(a){if(r){for(i=a.length-1;i>=0;i--)if(a[i].fn===r){a.splice(i,1);break}}else a=[];a.length||(delete n[this.uid][e],t.isEmptyObj(n[this.uid])&&delete n[this.uid])}},removeAllEventListeners:function(){n[this.uid]&&delete n[this.uid]},dispatchEvent:function(r){var i,a,o,s,c,l={},u=!0;if("string"!==t.typeOf(r)){if(s=r,"string"!==t.typeOf(s.type))throw new e.EventException(e.EventException.UNSPECIFIED_EVENT_TYPE_ERR);r=s.type,s.total!==c&&s.loaded!==c&&(l.total=s.total,l.loaded=s.loaded),l.async=s.async||!1}if(-1!==r.indexOf("::")?function(e){i=e[0],r=e[1]}(r.split("::")):i=this.uid,r=r.toLowerCase(),a=n[i]&&n[i][r]){a.sort(function(e,t){return t.priority-e.priority}),o=[].slice.call(arguments),o.shift(),l.type=r,o.unshift(l);var d=[];t.each(a,function(e){o[0].target=e.scope,l.async?d.push(function(t){setTimeout(function(){t(e.fn.apply(e.scope,o)===!1)},1)}):d.push(function(t){t(e.fn.apply(e.scope,o)===!1)})}),d.length&&t.inSeries(d,function(e){u=!e})}return u},bind:function(){this.addEventListener.apply(this,arguments)},unbind:function(){this.removeEventListener.apply(this,arguments)},unbindAll:function(){this.removeAllEventListeners.apply(this,arguments)},trigger:function(){return this.dispatchEvent.apply(this,arguments)},convertEventPropsToHandlers:function(e){var n;"array"!==t.typeOf(e)&&(e=[e]);for(var r=0;r<e.length;r++)n="on"+e[r],"function"===t.typeOf(this[n])?this.addEventListener(e[r],this[n]):"undefined"===t.typeOf(this[n])&&(this[n]=null)}})}return n.instance=new n,n}),r(m,[],function(){var e=function(e){return unescape(encodeURIComponent(e))},t=function(e){return decodeURIComponent(escape(e))},n=function(e,n){if("function"==typeof window.atob)return n?t(window.atob(e)):window.atob(e);var r,i,a,o,s,c,l,u,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",p=0,f=0,m="",h=[];if(!e)return e;e+="";do o=d.indexOf(e.charAt(p++)),s=d.indexOf(e.charAt(p++)),c=d.indexOf(e.charAt(p++)),l=d.indexOf(e.charAt(p++)),u=o<<18|s<<12|c<<6|l,r=255&u>>16,i=255&u>>8,a=255&u,h[f++]=64==c?String.fromCharCode(r):64==l?String.fromCharCode(r,i):String.fromCharCode(r,i,a);while(p<e.length);return m=h.join(""),n?t(m):m},r=function(t,n){if(n&&e(t),"function"==typeof window.btoa)return window.btoa(t);var r,i,a,o,s,c,l,u,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",p=0,f=0,m="",h=[];if(!t)return t;do r=t.charCodeAt(p++),i=t.charCodeAt(p++),a=t.charCodeAt(p++),u=r<<16|i<<8|a,o=63&u>>18,s=63&u>>12,c=63&u>>6,l=63&u,h[f++]=d.charAt(o)+d.charAt(s)+d.charAt(c)+d.charAt(l);while(p<t.length);m=h.join("");var g=t.length%3;return(g?m.slice(0,g-3):m)+"===".slice(g||3)};return{utf8_encode:e,utf8_decode:t,atob:n,btoa:r}}),r(h,[s,d,f],function(e,t,n){function r(n,i,o,s,c){var l,u=this,d=e.guid(i+"_"),p=c||"browser";n=n||{},a[d]=this,o=e.extend({access_binary:!1,access_image_binary:!1,display_media:!1,do_cors:!1,drag_and_drop:!1,filter_by_extension:!0,resize_image:!1,report_upload_progress:!1,return_response_headers:!1,return_response_type:!1,return_status_code:!0,send_custom_headers:!1,select_file:!1,select_folder:!1,select_multiple:!0,send_binary_string:!1,send_browser_cookies:!0,send_multipart:!0,slice_blob:!1,stream_upload:!1,summon_file_dialog:!1,upload_filesize:!0,use_http_method:!0},o),n.preferred_caps&&(p=r.getMode(s,n.preferred_caps,p)),l=function(){var t={};return{exec:function(e,n,r,i){return l[n]&&(t[e]||(t[e]={context:this,instance:new l[n]}),t[e].instance[r])?t[e].instance[r].apply(this,i):void 0},removeInstance:function(e){delete t[e]},removeAllInstances:function(){var n=this;e.each(t,function(t,r){"function"===e.typeOf(t.instance.destroy)&&t.instance.destroy.call(t.context),n.removeInstance(r)})}}}(),e.extend(this,{initialized:!1,uid:d,type:i,mode:r.getMode(s,n.required_caps,p),shimid:d+"_container",clients:0,options:n,can:function(t,n){var i=arguments[2]||o;if("string"===e.typeOf(t)&&"undefined"===e.typeOf(n)&&(t=r.parseCaps(t)),"object"===e.typeOf(t)){for(var a in t)if(!this.can(a,t[a],i))return!1;return!0}return"function"===e.typeOf(i[t])?i[t].call(this,n):n===i[t]},getShimContainer:function(){var n,r=t.get(this.shimid);return r||(n=this.options.container?t.get(this.options.container):document.body,r=document.createElement("div"),r.id=this.shimid,r.className="moxie-shim moxie-shim-"+this.type,e.extend(r.style,{position:"absolute",top:"0px",left:"0px",width:"1px",height:"1px",overflow:"hidden"}),n.appendChild(r),n=null),r},getShim:function(){return l},shimExec:function(e,t){var n=[].slice.call(arguments,2);return u.getShim().exec.call(this,this.uid,e,t,n)},exec:function(e,t){var n=[].slice.call(arguments,2);return u[e]&&u[e][t]?u[e][t].apply(this,n):u.shimExec.apply(this,arguments)},destroy:function(){if(u){var e=t.get(this.shimid);e&&e.parentNode.removeChild(e),l&&l.removeAllInstances(),this.unbindAll(),delete a[this.uid],this.uid=null,d=u=l=e=null}}}),this.mode&&n.required_caps&&!this.can(n.required_caps)&&(this.mode=!1)}var i={},a={};return r.order="html5,flash,silverlight,html4",r.getRuntime=function(e){return a[e]?a[e]:!1},r.addConstructor=function(e,t){t.prototype=n.instance,i[e]=t},r.getConstructor=function(e){return i[e]||null},r.getInfo=function(e){var t=r.getRuntime(e);return t?{uid:t.uid,type:t.type,mode:t.mode,can:function(){return t.can.apply(t,arguments)}}:null},r.parseCaps=function(t){var n={};return"string"!==e.typeOf(t)?t||{}:(e.each(t.split(","),function(e){n[e]=!0}),n)},r.can=function(e,t){var n,i,a=r.getConstructor(e);return a?(n=new a({required_caps:t}),i=n.mode,n.destroy(),!!i):!1},r.thatCan=function(e,t){var n=(t||r.order).split(/\s*,\s*/);for(var i in n)if(r.can(n[i],e))return n[i];return null},r.getMode=function(t,n,r){var i=null;if("undefined"===e.typeOf(r)&&(r="browser"),n&&!e.isEmptyObj(t)){if(e.each(n,function(n,r){if(t.hasOwnProperty(r)){var a=t[r](n);if("string"==typeof a&&(a=[a]),i){if(!(i=e.arrayIntersect(i,a)))return i=!1}else i=a}}),i)return-1!==e.inArray(r,i)?r:i[0];if(i===!1)return!1}return r},r.capTrue=function(){return!0},r.capFalse=function(){return!1},r.capTest=function(e){return function(){return!!e}},r}),r(g,[p,s,h],function(e,t,n){return function r(){var r;t.extend(this,{connectRuntime:function(i){function a(t){var o,c;return t.length?(o=t.shift(),(c=n.getConstructor(o))?(r=new c(i),r.bind("Init",function(){r.initialized=!0,setTimeout(function(){r.clients++,s.trigger("RuntimeInit",r)},1)}),r.bind("Error",function(){r.destroy(),a(t)}),r.mode?void r.init():void r.trigger("Error")):void a(t)):(s.trigger("RuntimeError",new e.RuntimeError(e.RuntimeError.NOT_INIT_ERR)),void(r=null))}var o,s=this;if("string"===t.typeOf(i)?o=i:"string"===t.typeOf(i.ruid)&&(o=i.ruid),o){if(r=n.getRuntime(o))return r.clients++,r;throw new e.RuntimeError(e.RuntimeError.NOT_INIT_ERR)}a((i.runtime_order||n.order).split(/\s*,\s*/))},getRuntime:function(){return r&&r.uid?r:(r=null,null)},disconnectRuntime:function(){r&&--r.clients<=0&&(r.destroy(),r=null)}})}}),r(v,[s,m,g],function(e,t,n){function r(a,o){function s(t,n,a){var o,s=i[this.uid];return"string"===e.typeOf(s)&&s.length?(o=new r(null,{type:a,size:n-t}),o.detach(s.substr(t,o.size)),o):null}n.call(this),a&&this.connectRuntime(a),o?"string"===e.typeOf(o)&&(o={data:o}):o={},e.extend(this,{uid:o.uid||e.guid("uid_"),ruid:a,size:o.size||0,type:o.type||"",slice:function(e,t,n){return this.isDetached()?s.apply(this,arguments):this.getRuntime().exec.call(this,"Blob","slice",this.getSource(),e,t,n)},getSource:function(){return i[this.uid]?i[this.uid]:null},detach:function(e){this.ruid&&(this.getRuntime().exec.call(this,"Blob","destroy",i[this.uid]),this.disconnectRuntime(),this.ruid=null),e=e||"";var n=e.match(/^data:([^;]*);base64,/);n&&(this.type=n[1],e=t.atob(e.substring(e.indexOf("base64,")+7))),this.size=e.length,i[this.uid]=e},isDetached:function(){return!this.ruid&&"string"===e.typeOf(i[this.uid])},destroy:function(){this.detach(),delete i[this.uid]}}),o.data?this.detach(o.data):i[this.uid]=o}var i={};return r}),r(b,[s,l,v],function(e,t,n){function r(r,i){var a,o;if(i||(i={}),o=i.type&&""!==i.type?i.type:t.getFileMime(i.name),i.name)a=i.name.replace(/\\/g,"/"),a=a.substr(a.lastIndexOf("/")+1);else{
var s=o.split("/")[0];a=e.guid((""!==s?s:"file")+"_"),t.extensions[o]&&(a+="."+t.extensions[o][0])}n.apply(this,arguments),e.extend(this,{type:o||"",name:a||e.guid("file_"),lastModifiedDate:i.lastModifiedDate||(new Date).toLocaleString()})}return r.prototype=n.prototype,r}),r(w,[s,l,d,p,f,c,b,h,g],function(e,t,n,r,i,a,o,s,c){function l(i){var l,d,p,f=this;if(-1!==e.inArray(e.typeOf(i),["string","node"])&&(i={browse_button:i}),d=n.get(i.browse_button),!d)throw new r.DOMException(r.DOMException.NOT_FOUND_ERR);p={accept:[{title:a.translate("All Files"),extensions:"*"}],name:"file",multiple:!1,required_caps:!1,container:d.parentNode||document.body},i=e.extend({},p,i),"string"==typeof i.required_caps&&(i.required_caps=s.parseCaps(i.required_caps)),"string"==typeof i.accept&&(i.accept=t.mimes2extList(i.accept)),l=n.get(i.container),l||(l=document.body),"static"===n.getStyle(l,"position")&&(l.style.position="relative"),l=d=null,c.call(f),e.extend(f,{uid:e.guid("uid_"),ruid:null,shimid:null,files:null,init:function(){f.convertEventPropsToHandlers(u),f.bind("RuntimeInit",function(t,r){f.ruid=r.uid,f.shimid=r.shimid,f.bind("Ready",function(){f.trigger("Refresh")},999),f.bind("Change",function(){var t=r.exec.call(f,"FileInput","getFiles");f.files=[],e.each(t,function(e){return 0===e.size?!0:void f.files.push(new o(f.ruid,e))})},999),f.bind("Refresh",function(){var t,a,o,s;o=n.get(i.browse_button),s=n.get(r.shimid),o&&(t=n.getPos(o,n.get(i.container)),a=n.getSize(o),s&&e.extend(s.style,{top:t.y+"px",left:t.x+"px",width:a.w+"px",height:a.h+"px"})),s=o=null}),r.exec.call(f,"FileInput","init",i)}),f.connectRuntime(e.extend({},i,{required_caps:{select_file:!0}}))},disable:function(t){var n=this.getRuntime();n&&n.exec.call(this,"FileInput","disable","undefined"===e.typeOf(t)?!0:t)},refresh:function(){f.trigger("Refresh")},destroy:function(){var t=this.getRuntime();t&&(t.exec.call(this,"FileInput","destroy"),this.disconnectRuntime()),"array"===e.typeOf(this.files)&&e.each(this.files,function(e){e.destroy()}),this.files=null}})}var u=["ready","change","cancel","mouseenter","mouseleave","mousedown","mouseup"];return l.prototype=i.instance,l}),r(y,[c,d,p,s,b,g,f,l],function(e,t,n,r,i,a,o,s){function c(n){var o,c=this;"string"==typeof n&&(n={drop_zone:n}),o={accept:[{title:e.translate("All Files"),extensions:"*"}],required_caps:{drag_and_drop:!0}},n="object"==typeof n?r.extend({},o,n):o,n.container=t.get(n.drop_zone)||document.body,"static"===t.getStyle(n.container,"position")&&(n.container.style.position="relative"),"string"==typeof n.accept&&(n.accept=s.mimes2extList(n.accept)),a.call(c),r.extend(c,{uid:r.guid("uid_"),ruid:null,files:null,init:function(){c.convertEventPropsToHandlers(l),c.bind("RuntimeInit",function(e,t){c.ruid=t.uid,c.bind("Drop",function(){var e=t.exec.call(c,"FileDrop","getFiles");c.files=[],r.each(e,function(e){c.files.push(new i(c.ruid,e))})},999),t.exec.call(c,"FileDrop","init",n),c.dispatchEvent("ready")}),c.connectRuntime(n)},destroy:function(){var e=this.getRuntime();e&&(e.exec.call(this,"FileDrop","destroy"),this.disconnectRuntime()),this.files=null}})}var l=["ready","dragenter","dragleave","drop","error"];return c.prototype=o.instance,c}),r($,[s,g,f],function(e,t,n){function r(){this.uid=e.guid("uid_"),t.call(this),this.destroy=function(){this.disconnectRuntime(),this.unbindAll()}}return r.prototype=n.instance,r}),r(x,[s,m,p,f,v,b,$],function(e,t,n,r,i,a,o){function s(){function r(e,r){function u(e){l.readyState=s.DONE,l.error=e,l.trigger("error"),d()}function d(){a.destroy(),a=null,l.trigger("loadend")}function p(t){a.bind("Error",function(e,t){u(t)}),a.bind("Progress",function(e){l.result=t.exec.call(a,"FileReader","getResult"),l.trigger(e)}),a.bind("Load",function(e){l.readyState=s.DONE,l.result=t.exec.call(a,"FileReader","getResult"),l.trigger(e),d()}),t.exec.call(a,"FileReader","read",e,r)}if(a=new o,this.convertEventPropsToHandlers(c),this.readyState===s.LOADING)return u(new n.DOMException(n.DOMException.INVALID_STATE_ERR));if(this.readyState=s.LOADING,this.trigger("loadstart"),r instanceof i)if(r.isDetached()){var f=r.getSource();switch(e){case"readAsText":case"readAsBinaryString":this.result=f;break;case"readAsDataURL":this.result="data:"+r.type+";base64,"+t.btoa(f)}this.readyState=s.DONE,this.trigger("load"),d()}else p(a.connectRuntime(r.ruid));else u(new n.DOMException(n.DOMException.NOT_FOUND_ERR))}var a,l=this;e.extend(this,{uid:e.guid("uid_"),readyState:s.EMPTY,result:null,error:null,readAsBinaryString:function(e){r.call(this,"readAsBinaryString",e)},readAsDataURL:function(e){r.call(this,"readAsDataURL",e)},readAsText:function(e){r.call(this,"readAsText",e)},abort:function(){this.result=null,-1===e.inArray(this.readyState,[s.EMPTY,s.DONE])&&(this.readyState===s.LOADING&&(this.readyState=s.DONE),a&&a.getRuntime().exec.call(this,"FileReader","abort"),this.trigger("abort"),this.trigger("loadend"))},destroy:function(){this.abort(),a&&(a.getRuntime().exec.call(this,"FileReader","destroy"),a.disconnectRuntime()),l=a=null}})}var c=["loadstart","progress","load","abort","error","loadend"];return s.EMPTY=0,s.LOADING=1,s.DONE=2,s.prototype=r.instance,s}),r(S,[],function(){var e=function(t,n){for(var r=["source","scheme","authority","userInfo","user","pass","host","port","relative","path","directory","file","query","fragment"],i=r.length,a={http:80,https:443},o={},s=/^(?:([^:\/?#]+):)?(?:\/\/()(?:(?:()(?:([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?()(?:(()(?:(?:[^?#\/]*\/)*)()(?:[^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/,c=s.exec(t||"");i--;)c[i]&&(o[r[i]]=c[i]);if(!o.scheme){n&&"string"!=typeof n||(n=e(n||document.location.href)),o.scheme=n.scheme,o.host=n.host,o.port=n.port;var l="";/^[^\/]/.test(o.path)&&(l=n.path,/(\/|\/[^\.]+)$/.test(l)?l+="/":l=l.replace(/\/[^\/]+$/,"/")),o.path=l+(o.path||"")}return o.port||(o.port=a[o.scheme]||80),o.port=parseInt(o.port,10),o.path||(o.path="/"),delete o.source,o},t=function(t){var n={http:80,https:443},r=e(t);return r.scheme+"://"+r.host+(r.port!==n[r.scheme]?":"+r.port:"")+r.path+(r.query?r.query:"")},n=function(t){function n(e){return[e.scheme,e.host,e.port].join("/")}return"string"==typeof t&&(t=e(t)),n(e())===n(t)};return{parseUrl:e,resolveUrl:t,hasSameOrigin:n}}),r(D,[s,g,m],function(e,t,n){return function(){function r(e,t){if(!t.isDetached()){var r=this.connectRuntime(t.ruid).exec.call(this,"FileReaderSync","read",e,t);return this.disconnectRuntime(),r}var i=t.getSource();switch(e){case"readAsBinaryString":return i;case"readAsDataURL":return"data:"+t.type+";base64,"+n.btoa(i);case"readAsText":for(var a="",o=0,s=i.length;s>o;o++)a+=String.fromCharCode(i[o]);return a}}t.call(this),e.extend(this,{uid:e.guid("uid_"),readAsBinaryString:function(e){return r.call(this,"readAsBinaryString",e)},readAsDataURL:function(e){return r.call(this,"readAsDataURL",e)},readAsText:function(e){return r.call(this,"readAsText",e)}})}}),r(_,[p,s,v],function(e,t,n){function r(){var e,r=[];t.extend(this,{append:function(i,a){var o=this,s=t.typeOf(a);a instanceof n?e={name:i,value:a}:"array"===s?(i+="[]",t.each(a,function(e){o.append(i,e)})):"object"===s?t.each(a,function(e,t){o.append(i+"["+t+"]",e)}):"null"===s||"undefined"===s||"number"===s&&isNaN(a)?o.append(i,"false"):r.push({name:i,value:a.toString()})},hasBlob:function(){return!!this.getBlob()},getBlob:function(){return e&&e.value||null},getBlobName:function(){return e&&e.name||null},each:function(n){t.each(r,function(e){n(e.value,e.name)}),e&&n(e.value,e.name)},destroy:function(){e=null,r=[]}})}return r}),r(E,[s,p,f,m,S,h,$,v,D,_,u,l],function(e,t,n,r,i,a,o,s,c,l,u,d){function p(){this.uid=e.guid("uid_")}function f(){function n(e,t){return E.hasOwnProperty(e)?1===arguments.length?u.can("define_property")?E[e]:_[e]:void(u.can("define_property")?E[e]=t:_[e]=t):void 0}function c(t){function r(){S.destroy(),S=null,s.dispatchEvent("loadend"),s=null}function i(i){S.bind("LoadStart",function(e){n("readyState",f.LOADING),s.dispatchEvent("readystatechange"),s.dispatchEvent(e),P&&s.upload.dispatchEvent(e)}),S.bind("Progress",function(e){n("readyState")!==f.LOADING&&(n("readyState",f.LOADING),s.dispatchEvent("readystatechange")),s.dispatchEvent(e)}),S.bind("UploadProgress",function(e){P&&s.upload.dispatchEvent({type:"progress",lengthComputable:!1,total:e.total,loaded:e.loaded})}),S.bind("Load",function(t){n("readyState",f.DONE),n("status",Number(i.exec.call(S,"XMLHttpRequest","getStatus")||0)),n("statusText",m[n("status")]||""),n("response",i.exec.call(S,"XMLHttpRequest","getResponse",n("responseType"))),~e.inArray(n("responseType"),["text",""])?n("responseText",n("response")):"document"===n("responseType")&&n("responseXML",n("response")),F=i.exec.call(S,"XMLHttpRequest","getAllResponseHeaders"),s.dispatchEvent("readystatechange"),n("status")>0?(P&&s.upload.dispatchEvent(t),s.dispatchEvent(t)):(N=!0,s.dispatchEvent("error")),r()}),S.bind("Abort",function(e){s.dispatchEvent(e),r()}),S.bind("Error",function(e){N=!0,n("readyState",f.DONE),s.dispatchEvent("readystatechange"),M=!0,s.dispatchEvent(e),r()}),i.exec.call(S,"XMLHttpRequest","send",{url:v,method:b,async:k,user:w,password:y,headers:R,mimeType:C,encoding:I,responseType:s.responseType,withCredentials:s.withCredentials,options:j},t)}var s=this;$=(new Date).getTime(),S=new o,"string"==typeof j.required_caps&&(j.required_caps=a.parseCaps(j.required_caps)),j.required_caps=e.extend({},j.required_caps,{return_response_type:s.responseType}),t instanceof l&&(j.required_caps.send_multipart=!0),O||(j.required_caps.do_cors=!0),j.ruid?i(S.connectRuntime(j)):(S.bind("RuntimeInit",function(e,t){i(t)}),S.bind("RuntimeError",function(e,t){s.dispatchEvent("RuntimeError",t)}),S.connectRuntime(j))}function g(){n("responseText",""),n("responseXML",null),n("response",null),n("status",0),n("statusText",""),$=x=null}var v,b,w,y,$,x,S,D,_=this,E={timeout:0,readyState:f.UNSENT,withCredentials:!1,status:0,statusText:"",responseType:"",responseXML:null,responseText:null,response:null},k=!0,R={},I=null,C=null,A=!1,T=!1,P=!1,M=!1,N=!1,O=!1,B=null,L=null,j={},F="";e.extend(this,E,{uid:e.guid("uid_"),upload:new p,open:function(a,o,s,c,l){var u;if(!a||!o)throw new t.DOMException(t.DOMException.SYNTAX_ERR);if(/[\u0100-\uffff]/.test(a)||r.utf8_encode(a)!==a)throw new t.DOMException(t.DOMException.SYNTAX_ERR);if(~e.inArray(a.toUpperCase(),["CONNECT","DELETE","GET","HEAD","OPTIONS","POST","PUT","TRACE","TRACK"])&&(b=a.toUpperCase()),~e.inArray(b,["CONNECT","TRACE","TRACK"]))throw new t.DOMException(t.DOMException.SECURITY_ERR);if(o=r.utf8_encode(o),u=i.parseUrl(o),O=i.hasSameOrigin(u),v=i.resolveUrl(o),(c||l)&&!O)throw new t.DOMException(t.DOMException.INVALID_ACCESS_ERR);if(w=c||u.user,y=l||u.pass,k=s||!0,k===!1&&(n("timeout")||n("withCredentials")||""!==n("responseType")))throw new t.DOMException(t.DOMException.INVALID_ACCESS_ERR);A=!k,T=!1,R={},g.call(this),n("readyState",f.OPENED),this.convertEventPropsToHandlers(["readystatechange"]),this.dispatchEvent("readystatechange")},setRequestHeader:function(i,a){var o=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","content-transfer-encoding","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"];if(n("readyState")!==f.OPENED||T)throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);if(/[\u0100-\uffff]/.test(i)||r.utf8_encode(i)!==i)throw new t.DOMException(t.DOMException.SYNTAX_ERR);return i=e.trim(i).toLowerCase(),~e.inArray(i,o)||/^(proxy\-|sec\-)/.test(i)?!1:(R[i]?R[i]+=", "+a:R[i]=a,!0)},getAllResponseHeaders:function(){return F||""},getResponseHeader:function(t){return t=t.toLowerCase(),N||~e.inArray(t,["set-cookie","set-cookie2"])?null:F&&""!==F&&(D||(D={},e.each(F.split(/\r\n/),function(t){var n=t.split(/:\s+/);2===n.length&&(n[0]=e.trim(n[0]),D[n[0].toLowerCase()]={header:n[0],value:e.trim(n[1])})})),D.hasOwnProperty(t))?D[t].header+": "+D[t].value:null},overrideMimeType:function(r){var i,a;if(~e.inArray(n("readyState"),[f.LOADING,f.DONE]))throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);if(r=e.trim(r.toLowerCase()),/;/.test(r)&&(i=r.match(/^([^;]+)(?:;\scharset\=)?(.*)$/))&&(r=i[1],i[2]&&(a=i[2])),!d.mimes[r])throw new t.DOMException(t.DOMException.SYNTAX_ERR);B=r,L=a},send:function(n,i){if(j="string"===e.typeOf(i)?{ruid:i}:i?i:{},this.convertEventPropsToHandlers(h),this.upload.convertEventPropsToHandlers(h),this.readyState!==f.OPENED||T)throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);if(n instanceof s)j.ruid=n.ruid,C=n.type||"application/octet-stream";else if(n instanceof l){if(n.hasBlob()){var a=n.getBlob();j.ruid=a.ruid,C=a.type||"application/octet-stream"}}else"string"==typeof n&&(I="UTF-8",C="text/plain;charset=UTF-8",n=r.utf8_encode(n));this.withCredentials||(this.withCredentials=j.required_caps&&j.required_caps.send_browser_cookies&&!O),P=!A&&this.upload.hasEventListener(),N=!1,M=!n,A||(T=!0),c.call(this,n)},abort:function(){if(N=!0,A=!1,~e.inArray(n("readyState"),[f.UNSENT,f.OPENED,f.DONE]))n("readyState",f.UNSENT);else{if(n("readyState",f.DONE),T=!1,!S)throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);S.getRuntime().exec.call(S,"XMLHttpRequest","abort",M),M=!0}},destroy:function(){S&&("function"===e.typeOf(S.destroy)&&S.destroy(),S=null),this.unbindAll(),this.upload&&(this.upload.unbindAll(),this.upload=null)}})}var m={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",306:"Reserved",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",426:"Upgrade Required",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",510:"Not Extended"};p.prototype=n.instance;var h=["loadstart","progress","abort","error","load","timeout","loadend"];return f.UNSENT=0,f.OPENED=1,f.HEADERS_RECEIVED=2,f.LOADING=3,f.DONE=4,f.prototype=n.instance,f}),r(k,[s,m,g,f],function(e,t,n,r){function i(){function r(){u=d=0,l=this.result=null}function a(t,n){var r=this;c=n,r.bind("TransportingProgress",function(t){d=t.loaded,u>d&&-1===e.inArray(r.state,[i.IDLE,i.DONE])&&o.call(r)},999),r.bind("TransportingComplete",function(){d=u,r.state=i.DONE,l=null,r.result=c.exec.call(r,"Transporter","getAsBlob",t||"")},999),r.state=i.BUSY,r.trigger("TransportingStarted"),o.call(r)}function o(){var e,n=this,r=u-d;p>r&&(p=r),e=t.btoa(l.substr(d,p)),c.exec.call(n,"Transporter","receive",e,u)}var s,c,l,u,d,p;n.call(this),e.extend(this,{uid:e.guid("uid_"),state:i.IDLE,result:null,transport:function(t,n,i){var o=this;if(i=e.extend({chunk_size:204798},i),(s=i.chunk_size%3)&&(i.chunk_size+=3-s),p=i.chunk_size,r.call(this),l=t,u=t.length,"string"===e.typeOf(i)||i.ruid)a.call(o,n,this.connectRuntime(i));else{var c=function(e,t){o.unbind("RuntimeInit",c),a.call(o,n,t)};this.bind("RuntimeInit",c),this.connectRuntime(i)}},abort:function(){var e=this;e.state=i.IDLE,c&&(c.exec.call(e,"Transporter","clear"),e.trigger("TransportingAborted")),r.call(e)},destroy:function(){this.unbindAll(),c=null,this.disconnectRuntime(),r.call(this)}})}return i.IDLE=0,i.BUSY=1,i.DONE=2,i.prototype=r.instance,i}),r(R,[s,d,p,D,E,h,g,k,u,f,v,b,m],function(e,t,n,r,i,a,o,s,c,l,u,d,p){function f(){function r(e){e||(e=this.getRuntime().exec.call(this,"Image","getInfo")),this.size=e.size,this.width=e.width,this.height=e.height,this.type=e.type,this.meta=e.meta,""===this.name&&(this.name=e.name)}function l(t){var r=e.typeOf(t);try{if(t instanceof f){if(!t.size)throw new n.DOMException(n.DOMException.INVALID_STATE_ERR);h.apply(this,arguments)}else if(t instanceof u){if(!~e.inArray(t.type,["image/jpeg","image/png"]))throw new n.ImageError(n.ImageError.WRONG_FORMAT);g.apply(this,arguments)}else if(-1!==e.inArray(r,["blob","file"]))l.call(this,new d(null,t),arguments[1]);else if("string"===r)/^data:[^;]*;base64,/.test(t)?l.call(this,new u(null,{data:t}),arguments[1]):v.apply(this,arguments);else{if("node"!==r||"img"!==t.nodeName.toLowerCase())throw new n.DOMException(n.DOMException.TYPE_MISMATCH_ERR);l.call(this,t.src,arguments[1])}}catch(i){this.trigger("error",i)}}function h(t,n){var r=this.connectRuntime(t.ruid);this.ruid=r.uid,r.exec.call(this,"Image","loadFromImage",t,"undefined"===e.typeOf(n)?!0:n)}function g(t,n){function r(e){i.ruid=e.uid,e.exec.call(i,"Image","loadFromBlob",t)}var i=this;i.name=t.name||"",t.isDetached()?(this.bind("RuntimeInit",function(e,t){r(t)}),n&&"string"==typeof n.required_caps&&(n.required_caps=a.parseCaps(n.required_caps)),this.connectRuntime(e.extend({required_caps:{access_image_binary:!0,resize_image:!0}},n))):r(this.connectRuntime(t.ruid))}function v(e,t){var n,r=this;n=new i,n.open("get",e),n.responseType="blob",n.onprogress=function(e){r.trigger(e)},n.onload=function(){g.call(r,n.response,!0)},n.onerror=function(e){r.trigger(e)},n.onloadend=function(){n.destroy()},n.bind("RuntimeError",function(e,t){r.trigger("RuntimeError",t)}),n.send(null,t)}o.call(this),e.extend(this,{uid:e.guid("uid_"),ruid:null,name:"",size:0,width:0,height:0,type:"",meta:{},clone:function(){this.load.apply(this,arguments)},load:function(){this.bind("Load Resize",function(){r.call(this)},999),this.convertEventPropsToHandlers(m),l.apply(this,arguments)},downsize:function(t,r,i,a){try{if(!this.size)throw new n.DOMException(n.DOMException.INVALID_STATE_ERR);if(this.width>f.MAX_RESIZE_WIDTH||this.height>f.MAX_RESIZE_HEIGHT)throw new n.ImageError(n.ImageError.MAX_RESOLUTION_ERR);(!t&&!r||"undefined"===e.typeOf(i))&&(i=!1),t=t||this.width,r=r||this.height,a="undefined"===e.typeOf(a)?!0:!!a,this.getRuntime().exec.call(this,"Image","downsize",t,r,i,a)}catch(o){this.trigger("error",o)}},crop:function(e,t,n){this.downsize(e,t,!0,n)},getAsCanvas:function(){if(!c.can("create_canvas"))throw new n.RuntimeError(n.RuntimeError.NOT_SUPPORTED_ERR);var e=this.connectRuntime(this.ruid);return e.exec.call(this,"Image","getAsCanvas")},getAsBlob:function(e,t){if(!this.size)throw new n.DOMException(n.DOMException.INVALID_STATE_ERR);return e||(e="image/jpeg"),"image/jpeg"!==e||t||(t=90),this.getRuntime().exec.call(this,"Image","getAsBlob",e,t)},getAsDataURL:function(e,t){if(!this.size)throw new n.DOMException(n.DOMException.INVALID_STATE_ERR);return this.getRuntime().exec.call(this,"Image","getAsDataURL",e,t)},getAsBinaryString:function(e,t){var n=this.getAsDataURL(e,t);return p.atob(n.substring(n.indexOf("base64,")+7))},embed:function(r){function i(){if(c.can("create_canvas")){var t=a.getAsCanvas();if(t)return r.appendChild(t),t=null,a.destroy(),void m.trigger("embedded")}var i=a.getAsDataURL(o,l);if(!i)throw new n.ImageError(n.ImageError.WRONG_FORMAT);if(c.can("use_data_uri_of",i.length))r.innerHTML='<img src="'+i+'" width="'+a.width+'" height="'+a.height+'" />',a.destroy(),m.trigger("embedded");else{var u=new s;u.bind("TransportingComplete",function(){d=m.connectRuntime(this.result.ruid),m.bind("Embedded",function(){e.extend(d.getShimContainer().style,{top:"0px",left:"0px",width:a.width+"px",height:a.height+"px"}),d=null},999),d.exec.call(m,"ImageView","display",this.result.uid,g,v),a.destroy()}),u.transport(p.atob(i.substring(i.indexOf("base64,")+7)),o,e.extend({},h,{required_caps:{display_media:!0},runtime_order:"flash,silverlight",container:r}))}}var a,o,l,u,d,m=this,h=arguments[1]||{},g=this.width,v=this.height;try{if(!(r=t.get(r)))throw new n.DOMException(n.DOMException.INVALID_NODE_TYPE_ERR);if(!this.size)throw new n.DOMException(n.DOMException.INVALID_STATE_ERR);if(this.width>f.MAX_RESIZE_WIDTH||this.height>f.MAX_RESIZE_HEIGHT)throw new n.ImageError(n.ImageError.MAX_RESOLUTION_ERR);if(o=h.type||this.type||"image/jpeg",l=h.quality||90,u="undefined"!==e.typeOf(h.crop)?h.crop:!1,h.width)g=h.width,v=h.height||g;else{var b=t.getSize(r);b.w&&b.h&&(g=b.w,v=b.h)}return a=new f,a.bind("Resize",function(){i.call(m)}),a.bind("Load",function(){a.downsize(g,v,u,!1)}),a.clone(this,!1),a}catch(w){this.trigger("error",w)}},destroy:function(){this.ruid&&(this.getRuntime().exec.call(this,"Image","destroy"),this.disconnectRuntime()),this.unbindAll()}})}var m=["progress","load","error","resize","embedded"];return f.MAX_RESIZE_WIDTH=6500,f.MAX_RESIZE_HEIGHT=6500,f.prototype=l.instance,f}),r(I,[s,p,h,u],function(e,t,n,r){function i(t){var i=this,s=n.capTest,c=n.capTrue,l=e.extend({access_binary:s(window.FileReader||window.File&&window.File.getAsDataURL),access_image_binary:function(){return i.can("access_binary")&&!!o.Image},display_media:s(r.can("create_canvas")||r.can("use_data_uri_over32kb")),do_cors:s(window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest),drag_and_drop:s(function(){var e=document.createElement("div");return("draggable"in e||"ondragstart"in e&&"ondrop"in e)&&("IE"!==r.browser||r.version>9)}()),filter_by_extension:s(function(){return"Chrome"===r.browser&&r.version>=28||"IE"===r.browser&&r.version>=10}()),return_response_headers:c,return_response_type:function(e){return"json"===e&&window.JSON?!0:r.can("return_response_type",e)},return_status_code:c,report_upload_progress:s(window.XMLHttpRequest&&(new XMLHttpRequest).upload),resize_image:function(){return i.can("access_binary")&&r.can("create_canvas")},select_file:function(){return r.can("use_fileinput")&&window.File},select_folder:function(){return i.can("select_file")&&"Chrome"===r.browser&&r.version>=21},select_multiple:function(){return!(!i.can("select_file")||"Safari"===r.browser&&"Windows"===r.os||"iOS"===r.os&&r.verComp(r.osVersion,"7.0.4","<"))},send_binary_string:s(window.XMLHttpRequest&&((new XMLHttpRequest).sendAsBinary||window.Uint8Array&&window.ArrayBuffer)),send_custom_headers:s(window.XMLHttpRequest),send_multipart:function(){return!!(window.XMLHttpRequest&&(new XMLHttpRequest).upload&&window.FormData)||i.can("send_binary_string")},slice_blob:s(window.File&&(File.prototype.mozSlice||File.prototype.webkitSlice||File.prototype.slice)),stream_upload:function(){return i.can("slice_blob")&&i.can("send_multipart")},summon_file_dialog:s(function(){return"Firefox"===r.browser&&r.version>=4||"Opera"===r.browser&&r.version>=12||"IE"===r.browser&&r.version>=10||!!~e.inArray(r.browser,["Chrome","Safari"])}()),upload_filesize:c},arguments[2]);n.call(this,t,arguments[1]||a,l),e.extend(this,{init:function(){this.trigger("Init")},destroy:function(e){return function(){e.call(i),e=i=null}}(this.destroy)}),e.extend(this.getShim(),o)}var a="html5",o={};return n.addConstructor(a,i),o}),r(C,[I,v],function(e,t){function n(){function e(e,t,n){var r;if(!window.File.prototype.slice)return(r=window.File.prototype.webkitSlice||window.File.prototype.mozSlice)?r.call(e,t,n):null;try{return e.slice(),e.slice(t,n)}catch(i){return e.slice(t,n-t)}}this.slice=function(){return new t(this.getRuntime().uid,e.apply(this,arguments))}}return e.Blob=n}),r(A,[s],function(e){function t(){this.returnValue=!1}function n(){this.cancelBubble=!0}var r={},i="moxie_"+e.guid(),a=function(a,o,s,c){var l,u;o=o.toLowerCase(),a.addEventListener?(l=s,a.addEventListener(o,l,!1)):a.attachEvent&&(l=function(){var e=window.event;e.target||(e.target=e.srcElement),e.preventDefault=t,e.stopPropagation=n,s(e)},a.attachEvent("on"+o,l)),a[i]||(a[i]=e.guid()),r.hasOwnProperty(a[i])||(r[a[i]]={}),u=r[a[i]],u.hasOwnProperty(o)||(u[o]=[]),u[o].push({func:l,orig:s,key:c})},o=function(t,n,a){var o,s;if(n=n.toLowerCase(),t[i]&&r[t[i]]&&r[t[i]][n]){o=r[t[i]][n];for(var c=o.length-1;c>=0&&(o[c].orig!==a&&o[c].key!==a||(t.removeEventListener?t.removeEventListener(n,o[c].func,!1):t.detachEvent&&t.detachEvent("on"+n,o[c].func),o[c].orig=null,o[c].func=null,o.splice(c,1),a===s));c--);if(o.length||delete r[t[i]][n],e.isEmptyObj(r[t[i]])){delete r[t[i]];try{delete t[i]}catch(l){t[i]=s}}}},s=function(t,n){t&&t[i]&&e.each(r[t[i]],function(e,r){o(t,r,n)})};return{addEvent:a,removeEvent:o,removeAllEvents:s}}),r(T,[I,s,d,A,l,u],function(e,t,n,r,i,a){function o(){var e,o=[];t.extend(this,{init:function(s){var c,l,u,d,p,f,m=this,h=m.getRuntime();e=s,o=[],u=e.accept.mimes||i.extList2mimes(e.accept,h.can("filter_by_extension")),l=h.getShimContainer(),l.innerHTML='<input id="'+h.uid+'" type="file" style="font-size:999px;opacity:0;"'+(e.multiple&&h.can("select_multiple")?"multiple":"")+(e.directory&&h.can("select_folder")?"webkitdirectory directory":"")+(u?' accept="'+u.join(",")+'"':"")+" />",c=n.get(h.uid),t.extend(c.style,{position:"absolute",top:0,left:0,width:"100%",height:"100%"}),d=n.get(e.browse_button),h.can("summon_file_dialog")&&("static"===n.getStyle(d,"position")&&(d.style.position="relative"),p=parseInt(n.getStyle(d,"z-index"),10)||1,d.style.zIndex=p,l.style.zIndex=p-1,r.addEvent(d,"click",function(e){var t=n.get(h.uid);t&&!t.disabled&&t.click(),e.preventDefault()},m.uid)),f=h.can("summon_file_dialog")?d:l,r.addEvent(f,"mouseover",function(){m.trigger("mouseenter")},m.uid),r.addEvent(f,"mouseout",function(){m.trigger("mouseleave")},m.uid),r.addEvent(f,"mousedown",function(){m.trigger("mousedown")},m.uid),r.addEvent(n.get(e.container),"mouseup",function(){m.trigger("mouseup")},m.uid),c.onchange=function g(){if(o=[],e.directory?t.each(this.files,function(e){"."!==e.name&&o.push(e)}):o=[].slice.call(this.files),"IE"!==a.browser)this.value="";else{var n=this.cloneNode(!0);this.parentNode.replaceChild(n,this),n.onchange=g}m.trigger("change")},m.trigger({type:"ready",async:!0}),l=null},getFiles:function(){return o},disable:function(e){var t,r=this.getRuntime();(t=n.get(r.uid))&&(t.disabled=!!e)},destroy:function(){var t=this.getRuntime(),i=t.getShim(),a=t.getShimContainer();r.removeAllEvents(a,this.uid),r.removeAllEvents(e&&n.get(e.container),this.uid),r.removeAllEvents(e&&n.get(e.browse_button),this.uid),a&&(a.innerHTML=""),i.removeInstance(this.uid),o=e=a=i=null}})}return e.FileInput=o}),r(P,[I,s,d,A,l],function(e,t,n,r,i){function a(){function e(e){for(var n=[],r=0;r<e.length;r++)[].push.apply(n,e[r].extensions.split(/\s*,\s*/));return-1===t.inArray("*",n)?n:[]}function a(e){var n=i.getFileExtension(e.name);return!n||!p.length||-1!==t.inArray(n,p)}function o(e,n){var r=[];t.each(e,function(e){var t=e.webkitGetAsEntry();if(t)if(t.isFile){var n=e.getAsFile();a(n)&&d.push(n)}else r.push(t)}),r.length?s(r,n):n()}function s(e,n){var r=[];t.each(e,function(e){r.push(function(t){c(e,t)})}),t.inSeries(r,function(){n()})}function c(e,t){e.isFile?e.file(function(e){a(e)&&d.push(e),t()},function(){t()}):e.isDirectory?l(e,t):t()}function l(e,t){function n(e){i.readEntries(function(t){t.length?([].push.apply(r,t),n(e)):e()},e)}var r=[],i=e.createReader();n(function(){s(r,t)})}var u,d=[],p=[];t.extend(this,{init:function(n){var i,s=this;u=n,p=e(u.accept),i=u.container,r.addEvent(i,"dragover",function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="copy"},s.uid),r.addEvent(i,"drop",function(e){e.preventDefault(),e.stopPropagation(),d=[],e.dataTransfer.items&&e.dataTransfer.items[0].webkitGetAsEntry?o(e.dataTransfer.items,function(){s.trigger("drop")}):(t.each(e.dataTransfer.files,function(e){a(e)&&d.push(e)}),s.trigger("drop"))},s.uid),r.addEvent(i,"dragenter",function(e){e.preventDefault(),e.stopPropagation(),s.trigger("dragenter")},s.uid),r.addEvent(i,"dragleave",function(e){e.preventDefault(),e.stopPropagation(),s.trigger("dragleave")},s.uid)},getFiles:function(){return d},destroy:function(){r.removeAllEvents(u&&n.get(u.container),this.uid),d=p=u=null}})}return e.FileDrop=a}),r(M,[I,m,s],function(e,t,n){function r(){function e(e){return t.atob(e.substring(e.indexOf("base64,")+7))}var r,i=!1;n.extend(this,{read:function(e,t){var a=this;r=new window.FileReader,r.addEventListener("progress",function(e){a.trigger(e)}),r.addEventListener("load",function(e){a.trigger(e)}),r.addEventListener("error",function(e){a.trigger(e,r.error)}),r.addEventListener("loadend",function(){r=null}),"function"===n.typeOf(r[e])?(i=!1,r[e](t.getSource())):"readAsBinaryString"===e&&(i=!0,r.readAsDataURL(t.getSource()))},getResult:function(){return r&&r.result?i?e(r.result):r.result:null},abort:function(){r&&r.abort()},destroy:function(){r=null}})}return e.FileReader=r}),r(N,[I,s,l,S,b,v,_,p,u],function(e,t,n,r,i,a,o,s,c){function l(){function e(e,t){var n,r,i=this;n=t.getBlob().getSource(),r=new window.FileReader,r.onload=function(){t.append(t.getBlobName(),new a(null,{type:n.type,data:r.result})),m.send.call(i,e,t)},r.readAsBinaryString(n)}function l(){return!window.XMLHttpRequest||"IE"===c.browser&&c.version<8?function(){for(var e=["Msxml2.XMLHTTP.6.0","Microsoft.XMLHTTP"],t=0;t<e.length;t++)try{return new ActiveXObject(e[t])}catch(n){}}():new window.XMLHttpRequest}function u(e){var t=e.responseXML,n=e.responseText;return"IE"===c.browser&&n&&t&&!t.documentElement&&/[^\/]+\/[^\+]+\+xml/.test(e.getResponseHeader("Content-Type"))&&(t=new window.ActiveXObject("Microsoft.XMLDOM"),t.async=!1,t.validateOnParse=!1,t.loadXML(n)),t&&("IE"===c.browser&&0!==t.parseError||!t.documentElement||"parsererror"===t.documentElement.tagName)?null:t}function d(e){var t="----moxieboundary"+(new Date).getTime(),n="--",r="\r\n",i="",o=this.getRuntime();if(!o.can("send_binary_string"))throw new s.RuntimeError(s.RuntimeError.NOT_SUPPORTED_ERR);return p.setRequestHeader("Content-Type","multipart/form-data; boundary="+t),e.each(function(e,o){i+=e instanceof a?n+t+r+'Content-Disposition: form-data; name="'+o+'"; filename="'+unescape(encodeURIComponent(e.name||"blob"))+'"'+r+"Content-Type: "+(e.type||"application/octet-stream")+r+r+e.getSource()+r:n+t+r+'Content-Disposition: form-data; name="'+o+'"'+r+r+unescape(encodeURIComponent(e))+r}),i+=n+t+n+r}var p,f,m=this;t.extend(this,{send:function(n,i){var s=this,u="Mozilla"===c.browser&&c.version>=4&&c.version<7,m="Android Browser"===c.browser,h=!1;if(f=n.url.replace(/^.+?\/([\w\-\.]+)$/,"$1").toLowerCase(),p=l(),p.open(n.method,n.url,n.async,n.user,n.password),i instanceof a)i.isDetached()&&(h=!0),i=i.getSource();else if(i instanceof o){if(i.hasBlob())if(i.getBlob().isDetached())i=d.call(s,i),h=!0;else if((u||m)&&"blob"===t.typeOf(i.getBlob().getSource())&&window.FileReader)return void e.call(s,n,i);if(i instanceof o){var g=new window.FormData;i.each(function(e,t){e instanceof a?g.append(t,e.getSource()):g.append(t,e)}),i=g}}p.upload?(n.withCredentials&&(p.withCredentials=!0),p.addEventListener("load",function(e){s.trigger(e)}),p.addEventListener("error",function(e){s.trigger(e)}),p.addEventListener("progress",function(e){s.trigger(e)}),p.upload.addEventListener("progress",function(e){s.trigger({type:"UploadProgress",loaded:e.loaded,total:e.total})})):p.onreadystatechange=function(){switch(p.readyState){case 1:break;case 2:break;case 3:var e,t;try{r.hasSameOrigin(n.url)&&(e=p.getResponseHeader("Content-Length")||0),p.responseText&&(t=p.responseText.length)}catch(i){e=t=0}s.trigger({type:"progress",lengthComputable:!!e,total:parseInt(e,10),loaded:t});break;case 4:p.onreadystatechange=function(){},0===p.status?s.trigger("error"):s.trigger("load")}},t.isEmptyObj(n.headers)||t.each(n.headers,function(e,t){p.setRequestHeader(t,e)}),""!==n.responseType&&"responseType"in p&&(p.responseType="json"!==n.responseType||c.can("return_response_type","json")?n.responseType:"text"),h?p.sendAsBinary?p.sendAsBinary(i):function(){for(var e=new Uint8Array(i.length),t=0;t<i.length;t++)e[t]=255&i.charCodeAt(t);
p.send(e.buffer)}():p.send(i),s.trigger("loadstart")},getStatus:function(){try{if(p)return p.status}catch(e){}return 0},getResponse:function(e){var t=this.getRuntime();try{switch(e){case"blob":var r=new i(t.uid,p.response),a=p.getResponseHeader("Content-Disposition");if(a){var o=a.match(/filename=([\'\"'])([^\1]+)\1/);o&&(f=o[2])}return r.name=f,r.type||(r.type=n.getFileMime(f)),r;case"json":return c.can("return_response_type","json")?p.response:200===p.status&&window.JSON?JSON.parse(p.responseText):null;case"document":return u(p);default:return""!==p.responseText?p.responseText:null}}catch(s){return null}},getAllResponseHeaders:function(){try{return p.getAllResponseHeaders()}catch(e){}return""},abort:function(){p&&p.abort()},destroy:function(){m=f=null}})}return e.XMLHttpRequest=l}),r(O,[],function(){return function(){function e(e,t){var n,r=a?0:-8*(t-1),o=0;for(n=0;t>n;n++)o|=i.charCodeAt(e+n)<<Math.abs(r+8*n);return o}function n(e,t,n){n=3===arguments.length?n:i.length-t-1,i=i.substr(0,t)+e+i.substr(n+t)}function r(e,t,r){var i,o="",s=a?0:-8*(r-1);for(i=0;r>i;i++)o+=String.fromCharCode(255&t>>Math.abs(s+8*i));n(o,e,r)}var i,a=!1;return{II:function(e){return e===t?a:void(a=e)},init:function(e){a=!1,i=e},SEGMENT:function(e,t,r){switch(arguments.length){case 1:return i.substr(e,i.length-e-1);case 2:return i.substr(e,t);case 3:n(r,e,t);break;default:return i}},BYTE:function(t){return e(t,1)},SHORT:function(t){return e(t,2)},LONG:function(n,i){return i===t?e(n,4):void r(n,i,4)},SLONG:function(t){var n=e(t,4);return n>2147483647?n-4294967296:n},STRING:function(t,n){var r="";for(n+=t;n>t;t++)r+=String.fromCharCode(e(t,1));return r}}}}),r(B,[O],function(e){return function t(n){var r,i,a,o=[],s=0;if(r=new e,r.init(n),65496===r.SHORT(0)){for(i=2;i<=n.length;)if(a=r.SHORT(i),a>=65488&&65495>=a)i+=2;else{if(65498===a||65497===a)break;s=r.SHORT(i+2)+2,a>=65505&&65519>=a&&o.push({hex:a,name:"APP"+(15&a),start:i,length:s,segment:r.SEGMENT(i,s)}),i+=s}return r.init(null),{headers:o,restore:function(e){var t,n;for(r.init(e),i=65504==r.SHORT(2)?4+r.SHORT(4):2,n=0,t=o.length;t>n;n++)r.SEGMENT(i,0,o[n].segment),i+=o[n].length;return e=r.SEGMENT(),r.init(null),e},strip:function(e){var n,i,a;for(i=new t(e),n=i.headers,i.purge(),r.init(e),a=n.length;a--;)r.SEGMENT(n[a].start,n[a].length,"");return e=r.SEGMENT(),r.init(null),e},get:function(e){for(var t=[],n=0,r=o.length;r>n;n++)o[n].name===e.toUpperCase()&&t.push(o[n].segment);return t},set:function(e,t){var n,r,i,a=[];for("string"==typeof t?a.push(t):a=t,n=r=0,i=o.length;i>n&&(o[n].name===e.toUpperCase()&&(o[n].segment=a[r],o[n].length=a[r].length,r++),!(r>=a.length));n++);},purge:function(){o=[],r.init(null),r=null}}}}}),r(L,[s,O],function(e,n){return function r(){function r(e,n){var r,i,a,s,c,d,p,f,m=o.SHORT(e),h=[],g={};for(r=0;m>r;r++)if(p=d=e+12*r+2,a=n[o.SHORT(p)],a!==t){switch(s=o.SHORT(p+=2),c=o.LONG(p+=2),p+=4,h=[],s){case 1:case 7:for(c>4&&(p=o.LONG(p)+u.tiffHeader),i=0;c>i;i++)h[i]=o.BYTE(p+i);break;case 2:c>4&&(p=o.LONG(p)+u.tiffHeader),g[a]=o.STRING(p,c-1);continue;case 3:for(c>2&&(p=o.LONG(p)+u.tiffHeader),i=0;c>i;i++)h[i]=o.SHORT(p+2*i);break;case 4:for(c>1&&(p=o.LONG(p)+u.tiffHeader),i=0;c>i;i++)h[i]=o.LONG(p+4*i);break;case 5:for(p=o.LONG(p)+u.tiffHeader,i=0;c>i;i++)h[i]=o.LONG(p+4*i)/o.LONG(p+4*i+4);break;case 9:for(p=o.LONG(p)+u.tiffHeader,i=0;c>i;i++)h[i]=o.SLONG(p+4*i);break;case 10:for(p=o.LONG(p)+u.tiffHeader,i=0;c>i;i++)h[i]=o.SLONG(p+4*i)/o.SLONG(p+4*i+4);break;default:continue}f=1==c?h[0]:h,g[a]=l.hasOwnProperty(a)&&"object"!=typeof f?l[a][f]:f}return g}function i(){var e=u.tiffHeader;return o.II(18761==o.SHORT(e)),42!==o.SHORT(e+=2)?!1:(u.IFD0=u.tiffHeader+o.LONG(e+=2),c=r(u.IFD0,s.tiff),"ExifIFDPointer"in c&&(u.exifIFD=u.tiffHeader+c.ExifIFDPointer,delete c.ExifIFDPointer),"GPSInfoIFDPointer"in c&&(u.gpsIFD=u.tiffHeader+c.GPSInfoIFDPointer,delete c.GPSInfoIFDPointer),!0)}function a(e,t,n){var r,i,a,c=0;if("string"==typeof t){var l=s[e.toLowerCase()];for(var d in l)if(l[d]===t){t=d;break}}r=u[e.toLowerCase()+"IFD"],i=o.SHORT(r);for(var p=0;i>p;p++)if(a=r+12*p+2,o.SHORT(a)==t){c=a+8;break}return c?(o.LONG(c,n),!0):!1}var o,s,c,l,u={};return o=new n,s={tiff:{274:"Orientation",270:"ImageDescription",271:"Make",272:"Model",305:"Software",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer"},exif:{36864:"ExifVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",36867:"DateTimeOriginal",33434:"ExposureTime",33437:"FNumber",34855:"ISOSpeedRatings",37377:"ShutterSpeedValue",37378:"ApertureValue",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",41986:"ExposureMode",41987:"WhiteBalance",41990:"SceneCaptureType",41988:"DigitalZoomRatio",41992:"Contrast",41993:"Saturation",41994:"Sharpness"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude"}},l={ColorSpace:{1:"sRGB",0:"Uncalibrated"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{1:"Daylight",2:"Fliorescent",3:"Tungsten",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 -5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire.",1:"Flash fired.",5:"Strobe return light not detected.",7:"Strobe return light detected.",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},ExposureMode:{0:"Auto exposure",1:"Manual exposure",2:"Auto bracket"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},GPSLatitudeRef:{N:"North latitude",S:"South latitude"},GPSLongitudeRef:{E:"East longitude",W:"West longitude"}},{init:function(e){return u={tiffHeader:10},e!==t&&e.length?(o.init(e),65505===o.SHORT(0)&&"EXIF\x00"===o.STRING(4,5).toUpperCase()?i():!1):!1},TIFF:function(){return c},EXIF:function(){var t;if(t=r(u.exifIFD,s.exif),t.ExifVersion&&"array"===e.typeOf(t.ExifVersion)){for(var n=0,i="";n<t.ExifVersion.length;n++)i+=String.fromCharCode(t.ExifVersion[n]);t.ExifVersion=i}return t},GPS:function(){var t;return t=r(u.gpsIFD,s.gps),t.GPSVersionID&&"array"===e.typeOf(t.GPSVersionID)&&(t.GPSVersionID=t.GPSVersionID.join(".")),t},setExif:function(e,t){return"PixelXDimension"!==e&&"PixelYDimension"!==e?!1:a("exif",e,t)},getBinary:function(){return o.SEGMENT()},purge:function(){o.init(null),o=c=null,u={}}}}}),r(j,[s,p,B,O,L],function(e,t,n,r,i){function a(a){function o(){for(var e,t,n=0;n<=c.length;){if(e=l.SHORT(n+=2),e>=65472&&65475>=e)return n+=5,{height:l.SHORT(n),width:l.SHORT(n+=2)};t=l.SHORT(n+=2),n+=t-2}return null}function s(){d&&u&&l&&(d.purge(),u.purge(),l.init(null),c=p=u=d=l=null)}var c,l,u,d,p,f;if(c=a,l=new r,l.init(c),65496!==l.SHORT(0))throw new t.ImageError(t.ImageError.WRONG_FORMAT);u=new n(a),d=new i,f=!!d.init(u.get("app1")[0]),p=o.call(this),e.extend(this,{type:"image/jpeg",size:c.length,width:p&&p.width||0,height:p&&p.height||0,setExif:function(t,n){return f?("object"===e.typeOf(t)?e.each(t,function(e,t){d.setExif(t,e)}):d.setExif(t,n),void u.set("app1",d.getBinary())):!1},writeHeaders:function(){return arguments.length?u.restore(arguments[0]):c=u.restore(c)},stripHeaders:function(e){return u.strip(e)},purge:function(){s.call(this)}}),f&&(this.meta={tiff:d.TIFF(),exif:d.EXIF(),gps:d.GPS()})}return a}),r(F,[p,s,O],function(e,t,n){function r(r){function i(){var e,t;return e=o.call(this,8),"IHDR"==e.type?(t=e.start,{width:c.LONG(t),height:c.LONG(t+=4)}):null}function a(){c&&(c.init(null),s=d=l=u=c=null)}function o(e){var t,n,r,i;return t=c.LONG(e),n=c.STRING(e+=4,4),r=e+=4,i=c.LONG(e+t),{length:t,type:n,start:r,CRC:i}}var s,c,l,u,d;s=r,c=new n,c.init(s),function(){var t=0,n=0,r=[35152,20039,3338,6666];for(n=0;n<r.length;n++,t+=2)if(r[n]!=c.SHORT(t))throw new e.ImageError(e.ImageError.WRONG_FORMAT)}(),d=i.call(this),t.extend(this,{type:"image/png",size:s.length,width:d.width,height:d.height,purge:function(){a.call(this)}}),a.call(this)}return r}),r(q,[s,p,j,F],function(e,t,n,r){return function(i){var a,o=[n,r];a=function(){for(var e=0;e<o.length;e++)try{return new o[e](i)}catch(n){}throw new t.ImageError(t.ImageError.WRONG_FORMAT)}(),e.extend(this,{type:"",size:0,width:0,height:0,setExif:function(){},writeHeaders:function(e){return e},stripHeaders:function(e){return e},purge:function(){}}),e.extend(this,a),this.purge=function(){a.purge(),a=null}}}),r(U,[],function(){function e(e,r,i){var a=e.naturalWidth,o=e.naturalHeight,s=i.width,c=i.height,l=i.x||0,u=i.y||0,d=r.getContext("2d");t(e)&&(a/=2,o/=2);var p=1024,f=document.createElement("canvas");f.width=f.height=p;for(var m=f.getContext("2d"),h=n(e,a,o),g=0;o>g;){for(var v=g+p>o?o-g:p,b=0;a>b;){var w=b+p>a?a-b:p;m.clearRect(0,0,p,p),m.drawImage(e,-b,-g);var y=b*s/a+l<<0,$=Math.ceil(w*s/a),x=g*c/o/h+u<<0,S=Math.ceil(v*c/o/h);d.drawImage(f,0,0,w,v,y,x,$,S),b+=p}g+=p}f=m=null}function t(e){var t=e.naturalWidth,n=e.naturalHeight;if(t*n>1048576){var r=document.createElement("canvas");r.width=r.height=1;var i=r.getContext("2d");return i.drawImage(e,-t+1,0),0===i.getImageData(0,0,1,1).data[3]}return!1}function n(e,t,n){var r=document.createElement("canvas");r.width=1,r.height=n;var i=r.getContext("2d");i.drawImage(e,0,0);for(var a=i.getImageData(0,0,1,n).data,o=0,s=n,c=n;c>o;){var l=a[4*(c-1)+3];0===l?s=c:o=c,c=s+o>>1}r=null;var u=c/n;return 0===u?1:u}return{isSubsampled:t,renderTo:e}}),r(H,[I,s,p,m,b,q,U,l,u],function(e,t,n,r,i,a,o,s,c){function l(){function e(){if(!w&&!v)throw new n.ImageError(n.DOMException.INVALID_STATE_ERR);return w||v}function l(e){return r.atob(e.substring(e.indexOf("base64,")+7))}function u(e,t){return"data:"+(t||"")+";base64,"+r.btoa(e)}function d(e){var t=this;v=new Image,v.onerror=function(){g.call(this),t.trigger("error",new n.ImageError(n.ImageError.WRONG_FORMAT))},v.onload=function(){t.trigger("load")},v.src=/^data:[^;]*;base64,/.test(e)?e:u(e,$.type)}function p(e,t){var r,i=this;return window.FileReader?(r=new FileReader,r.onload=function(){t(this.result)},r.onerror=function(){i.trigger("error",new n.FileException(n.FileException.NOT_READABLE_ERR))},void r.readAsDataURL(e)):t(e.getAsDataURL())}function f(n,r,i,a){var o,s,c,l,u,d,p=this,f=0,g=0;if(D=a,d=this.meta&&this.meta.tiff&&this.meta.tiff.Orientation||1,-1!==t.inArray(d,[5,6,7,8])){var v=n;n=r,r=v}return c=e(),s=i?Math.max:Math.min,o=s(n/c.width,r/c.height),o>1&&(!i||a)?void this.trigger("Resize"):(w||(w=document.createElement("canvas")),l=Math.round(c.width*o),u=Math.round(c.height*o),i?(w.width=n,w.height=r,l>n&&(f=Math.round((l-n)/2)),u>r&&(g=Math.round((u-r)/2))):(w.width=l,w.height=u),D||h(w.width,w.height,d),m.call(this,c,w,-f,-g,l,u),this.width=w.width,this.height=w.height,S=!0,void p.trigger("Resize"))}function m(e,t,n,r,i,a){if("iOS"===c.OS)o.renderTo(e,t,{width:i,height:a,x:n,y:r});else{var s=t.getContext("2d");s.drawImage(e,n,r,i,a)}}function h(e,t,n){switch(n){case 5:case 6:case 7:case 8:w.width=t,w.height=e;break;default:w.width=e,w.height=t}var r=w.getContext("2d");switch(n){case 2:r.translate(e,0),r.scale(-1,1);break;case 3:r.translate(e,t),r.rotate(Math.PI);break;case 4:r.translate(0,t),r.scale(1,-1);break;case 5:r.rotate(.5*Math.PI),r.scale(1,-1);break;case 6:r.rotate(.5*Math.PI),r.translate(0,-t);break;case 7:r.rotate(.5*Math.PI),r.translate(e,-t),r.scale(-1,1);break;case 8:r.rotate(-.5*Math.PI),r.translate(-e,0)}}function g(){b&&(b.purge(),b=null),y=v=w=$=null,S=!1}var v,b,w,y,$,x=this,S=!1,D=!0;t.extend(this,{loadFromBlob:function(e){var t=this,r=t.getRuntime(),i=arguments.length>1?arguments[1]:!0;if(!r.can("access_binary"))throw new n.RuntimeError(n.RuntimeError.NOT_SUPPORTED_ERR);return $=e,e.isDetached()?(y=e.getSource(),void d.call(this,y)):void p.call(this,e.getSource(),function(e){i&&(y=l(e)),d.call(t,e)})},loadFromImage:function(e,t){this.meta=e.meta,$=new i(null,{name:e.name,size:e.size,type:e.type}),d.call(this,t?y=e.getAsBinaryString():e.getAsDataURL())},getInfo:function(){var t,n=this.getRuntime();return!b&&y&&n.can("access_image_binary")&&(b=new a(y)),t={width:e().width||0,height:e().height||0,type:$.type||s.getFileMime($.name),size:y&&y.length||$.size||0,name:$.name||"",meta:b&&b.meta||this.meta||{}}},downsize:function(){f.apply(this,arguments)},getAsCanvas:function(){return w&&(w.id=this.uid+"_canvas"),w},getAsBlob:function(e,t){return e!==this.type&&f.call(this,this.width,this.height,!1),new i(null,{name:$.name||"",type:e,data:x.getAsBinaryString.call(this,e,t)})},getAsDataURL:function(e){var t=arguments[1]||90;if(!S)return v.src;if("image/jpeg"!==e)return w.toDataURL("image/png");try{return w.toDataURL("image/jpeg",t/100)}catch(n){return w.toDataURL("image/jpeg")}},getAsBinaryString:function(e,t){if(!S)return y||(y=l(x.getAsDataURL(e,t))),y;if("image/jpeg"!==e)y=l(x.getAsDataURL(e,t));else{var n;t||(t=90);try{n=w.toDataURL("image/jpeg",t/100)}catch(r){n=w.toDataURL("image/jpeg")}y=l(n),b&&(y=b.stripHeaders(y),D&&(b.meta&&b.meta.exif&&b.setExif({PixelXDimension:this.width,PixelYDimension:this.height}),y=b.writeHeaders(y)),b.purge(),b=null)}return S=!1,y},destroy:function(){x=null,g.call(this),this.getRuntime().getShim().removeInstance(this.uid)}})}return e.Image=l}),r(V,[s,u,d,p,h],function(e,t,n,r,i){function a(){var e;try{e=navigator.plugins["Shockwave Flash"],e=e.description}catch(t){try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")}catch(n){e="0.0"}}return e=e.match(/\d+/g),parseFloat(e[0]+"."+e[1])}function o(o){var l,u=this;o=e.extend({swf_url:t.swf_url},o),i.call(this,o,s,{access_binary:function(e){return e&&"browser"===u.mode},access_image_binary:function(e){return e&&"browser"===u.mode},display_media:i.capTrue,do_cors:i.capTrue,drag_and_drop:!1,report_upload_progress:function(){return"client"===u.mode},resize_image:i.capTrue,return_response_headers:!1,return_response_type:function(t){return"json"===t&&window.JSON?!0:!e.arrayDiff(t,["","text","document"])||"browser"===u.mode},return_status_code:function(t){return"browser"===u.mode||!e.arrayDiff(t,[200,404])},select_file:i.capTrue,select_multiple:i.capTrue,send_binary_string:function(e){return e&&"browser"===u.mode},send_browser_cookies:function(e){return e&&"browser"===u.mode},send_custom_headers:function(e){return e&&"browser"===u.mode},send_multipart:i.capTrue,slice_blob:i.capTrue,stream_upload:function(e){return e&&"browser"===u.mode},summon_file_dialog:!1,upload_filesize:function(t){return e.parseSizeStr(t)<=2097152||"client"===u.mode},use_http_method:function(t){return!e.arrayDiff(t,["GET","POST"])}},{access_binary:function(e){return e?"browser":"client"},access_image_binary:function(e){return e?"browser":"client"},report_upload_progress:function(e){return e?"browser":"client"},return_response_type:function(t){return e.arrayDiff(t,["","text","json","document"])?"browser":["client","browser"]},return_status_code:function(t){return e.arrayDiff(t,[200,404])?"browser":["client","browser"]},send_binary_string:function(e){return e?"browser":"client"},send_browser_cookies:function(e){return e?"browser":"client"},send_custom_headers:function(e){return e?"browser":"client"},stream_upload:function(e){return e?"client":"browser"},upload_filesize:function(t){return e.parseSizeStr(t)>=2097152?"client":"browser"}},"client"),a()<10&&(this.mode=!1),e.extend(this,{getShim:function(){return n.get(this.uid)},shimExec:function(e,t){var n=[].slice.call(arguments,2);return u.getShim().exec(this.uid,e,t,n)},init:function(){var n,i,a;a=this.getShimContainer(),e.extend(a.style,{position:"absolute",top:"-8px",left:"-8px",width:"9px",height:"9px",overflow:"hidden"}),n='<object id="'+this.uid+'" type="application/x-shockwave-flash" data="'+o.swf_url+'" ',"IE"===t.browser&&(n+='classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" '),n+='width="100%" height="100%" style="outline:0"><param name="movie" value="'+o.swf_url+'" /><param name="flashvars" value="uid='+escape(this.uid)+"&target="+t.global_event_dispatcher+'" /><param name="wmode" value="transparent" /><param name="allowscriptaccess" value="always" /></object>',"IE"===t.browser?(i=document.createElement("div"),a.appendChild(i),i.outerHTML=n,i=a=null):a.innerHTML=n,l=setTimeout(function(){u&&!u.initialized&&u.trigger("Error",new r.RuntimeError(r.RuntimeError.NOT_INIT_ERR))},5e3)},destroy:function(e){return function(){e.call(u),clearTimeout(l),o=l=e=u=null}}(this.destroy)},c)}var s="flash",c={};return i.addConstructor(s,o),c}),r(z,[V,v],function(e,t){var n={slice:function(e,n,r,i){var a=this.getRuntime();return 0>n?n=Math.max(e.size+n,0):n>0&&(n=Math.min(n,e.size)),0>r?r=Math.max(e.size+r,0):r>0&&(r=Math.min(r,e.size)),e=a.shimExec.call(this,"Blob","slice",n,r,i||""),e&&(e=new t(a.uid,e)),e}};return e.Blob=n}),r(G,[V],function(e){var t={init:function(e){this.getRuntime().shimExec.call(this,"FileInput","init",{name:e.name,accept:e.accept,multiple:e.multiple}),this.trigger("ready")}};return e.FileInput=t}),r(X,[V,m],function(e,t){function n(e,n){switch(n){case"readAsText":return t.atob(e,"utf8");case"readAsBinaryString":return t.atob(e);case"readAsDataURL":return e}return null}var r="",i={read:function(e,t){var i=this,a=i.getRuntime();return"readAsDataURL"===e&&(r="data:"+(t.type||"")+";base64,"),i.bind("Progress",function(t,i){i&&(r+=n(i,e))}),a.shimExec.call(this,"FileReader","readAsBase64",t.uid)},getResult:function(){return r},destroy:function(){r=null}};return e.FileReader=i}),r(W,[V,m],function(e,t){function n(e,n){switch(n){case"readAsText":return t.atob(e,"utf8");case"readAsBinaryString":return t.atob(e);case"readAsDataURL":return e}return null}var r={read:function(e,t){var r,i=this.getRuntime();return(r=i.shimExec.call(this,"FileReaderSync","readAsBase64",t.uid))?("readAsDataURL"===e&&(r="data:"+(t.type||"")+";base64,"+r),n(r,e,t.type)):null}};return e.FileReaderSync=r}),r(Y,[V,s,v,b,D,_,k],function(e,t,n,r,i,a,o){var s={send:function(e,r){function i(){e.transport=u.mode,u.shimExec.call(l,"XMLHttpRequest","send",e,r)}function s(e,t){u.shimExec.call(l,"XMLHttpRequest","appendBlob",e,t.uid),r=null,i()}function c(e,t){var n=new o;n.bind("TransportingComplete",function(){t(this.result)}),n.transport(e.getSource(),e.type,{ruid:u.uid})}var l=this,u=l.getRuntime();if(t.isEmptyObj(e.headers)||t.each(e.headers,function(e,t){u.shimExec.call(l,"XMLHttpRequest","setRequestHeader",t,e.toString())}),r instanceof a){var d;if(r.each(function(e,t){e instanceof n?d=t:u.shimExec.call(l,"XMLHttpRequest","append",t,e)}),r.hasBlob()){var p=r.getBlob();p.isDetached()?c(p,function(e){p.destroy(),s(d,e)}):s(d,p)}else r=null,i()}else r instanceof n?r.isDetached()?c(r,function(e){r.destroy(),r=e.uid,i()}):(r=r.uid,i()):i()},getResponse:function(e){var n,a,o=this.getRuntime();if(a=o.shimExec.call(this,"XMLHttpRequest","getResponseAsBlob")){if(a=new r(o.uid,a),"blob"===e)return a;try{if(n=new i,~t.inArray(e,["","text"]))return n.readAsText(a);if("json"===e&&window.JSON)return JSON.parse(n.readAsText(a))}finally{a.destroy()}}return null},abort:function(e){var t=this.getRuntime();t.shimExec.call(this,"XMLHttpRequest","abort"),this.dispatchEvent("readystatechange"),this.dispatchEvent("abort")}};return e.XMLHttpRequest=s}),r(J,[V,v],function(e,t){var n={getAsBlob:function(e){var n=this.getRuntime(),r=n.shimExec.call(this,"Transporter","getAsBlob",e);return r?new t(n.uid,r):null}};return e.Transporter=n}),r(Z,[V,s,k,v,D],function(e,t,n,r,i){var a={loadFromBlob:function(e){function t(e){i.shimExec.call(r,"Image","loadFromBlob",e.uid),r=i=null}var r=this,i=r.getRuntime();if(e.isDetached()){var a=new n;a.bind("TransportingComplete",function(){t(a.result.getSource())}),a.transport(e.getSource(),e.type,{ruid:i.uid})}else t(e.getSource())},loadFromImage:function(e){var t=this.getRuntime();return t.shimExec.call(this,"Image","loadFromImage",e.uid)},getAsBlob:function(e,t){var n=this.getRuntime(),i=n.shimExec.call(this,"Image","getAsBlob",e,t);return i?new r(n.uid,i):null},getAsDataURL:function(){var e,t=this.getRuntime(),n=t.Image.getAsBlob.apply(this,arguments);return n?(e=new i,e.readAsDataURL(n)):null}};return e.Image=a}),r(K,[s,u,d,p,h],function(e,t,n,r,i){function a(e){var t,n,r,i,a,o=!1,s=null,c=0;try{try{s=new ActiveXObject("AgControl.AgControl"),s.IsVersionSupported(e)&&(o=!0),s=null}catch(l){var u=navigator.plugins["Silverlight Plug-In"];if(u){for(t=u.description,"1.0.30226.2"===t&&(t="2.0.30226.2"),n=t.split(".");n.length>3;)n.pop();for(;n.length<4;)n.push(0);for(r=e.split(".");r.length>4;)r.pop();do i=parseInt(r[c],10),a=parseInt(n[c],10),c++;while(c<r.length&&i===a);a>=i&&!isNaN(i)&&(o=!0)}}}catch(d){o=!1}return o}function o(o){var l,u=this;o=e.extend({xap_url:t.xap_url},o),i.call(this,o,s,{access_binary:i.capTrue,access_image_binary:i.capTrue,display_media:i.capTrue,do_cors:i.capTrue,drag_and_drop:!1,report_upload_progress:i.capTrue,resize_image:i.capTrue,return_response_headers:function(e){return e&&"client"===u.mode},return_response_type:function(e){return"json"!==e?!0:!!window.JSON},return_status_code:function(t){return"client"===u.mode||!e.arrayDiff(t,[200,404])},select_file:i.capTrue,select_multiple:i.capTrue,send_binary_string:i.capTrue,send_browser_cookies:function(e){return e&&"browser"===u.mode},send_custom_headers:function(e){return e&&"client"===u.mode},send_multipart:i.capTrue,slice_blob:i.capTrue,stream_upload:!0,summon_file_dialog:!1,upload_filesize:i.capTrue,use_http_method:function(t){return"client"===u.mode||!e.arrayDiff(t,["GET","POST"])}},{return_response_headers:function(e){return e?"client":"browser"},return_status_code:function(t){return e.arrayDiff(t,[200,404])?"client":["client","browser"]},send_browser_cookies:function(e){return e?"browser":"client"},send_custom_headers:function(e){return e?"client":"browser"},use_http_method:function(t){return e.arrayDiff(t,["GET","POST"])?"client":["client","browser"]}}),a("2.0.31005.0")&&"Opera"!==t.browser||(this.mode=!1),e.extend(this,{getShim:function(){return n.get(this.uid).content.Moxie},shimExec:function(e,t){var n=[].slice.call(arguments,2);return u.getShim().exec(this.uid,e,t,n)},init:function(){var e;e=this.getShimContainer(),e.innerHTML='<object id="'+this.uid+'" data="data:application/x-silverlight," type="application/x-silverlight-2" width="100%" height="100%" style="outline:none;"><param name="source" value="'+o.xap_url+'"/><param name="background" value="Transparent"/><param name="windowless" value="true"/><param name="enablehtmlaccess" value="true"/><param name="initParams" value="uid='+this.uid+",target="+t.global_event_dispatcher+'"/></object>',l=setTimeout(function(){u&&!u.initialized&&u.trigger("Error",new r.RuntimeError(r.RuntimeError.NOT_INIT_ERR))},"Windows"!==t.OS?1e4:5e3)},destroy:function(e){return function(){e.call(u),clearTimeout(l),o=l=e=u=null}}(this.destroy)},c)}var s="silverlight",c={};return i.addConstructor(s,o),c}),r(Q,[K,s,z],function(e,t,n){return e.Blob=t.extend({},n)}),r(ee,[K],function(e){var t={init:function(e){function t(e){for(var t="",n=0;n<e.length;n++)t+=(""!==t?"|":"")+e[n].title+" | *."+e[n].extensions.replace(/,/g,";*.");return t}this.getRuntime().shimExec.call(this,"FileInput","init",t(e.accept),e.name,e.multiple),this.trigger("ready")}};return e.FileInput=t}),r(te,[K,d,A],function(e,t,n){var r={init:function(){var e,r=this,i=r.getRuntime();return e=i.getShimContainer(),n.addEvent(e,"dragover",function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="copy"},r.uid),n.addEvent(e,"dragenter",function(e){e.preventDefault();var n=t.get(i.uid).dragEnter(e);n&&e.stopPropagation()},r.uid),n.addEvent(e,"drop",function(e){e.preventDefault();var n=t.get(i.uid).dragDrop(e);n&&e.stopPropagation()},r.uid),i.shimExec.call(this,"FileDrop","init")}};return e.FileDrop=r}),r(ne,[K,s,X],function(e,t,n){return e.FileReader=t.extend({},n)}),r(re,[K,s,W],function(e,t,n){return e.FileReaderSync=t.extend({},n)}),r(ie,[K,s,Y],function(e,t,n){return e.XMLHttpRequest=t.extend({},n)}),r(ae,[K,s,J],function(e,t,n){return e.Transporter=t.extend({},n)}),r(oe,[K,s,Z],function(e,t,n){return e.Image=t.extend({},n,{getInfo:function(){var e=this.getRuntime(),n=["tiff","exif","gps"],r={meta:{}},i=e.shimExec.call(this,"Image","getInfo");return i.meta&&t.each(n,function(e){var t,n,a,o,s=i.meta[e];if(s&&s.keys)for(r.meta[e]={},n=0,a=s.keys.length;a>n;n++)t=s.keys[n],o=s[t],o&&(/^(\d|[1-9]\d+)$/.test(o)?o=parseInt(o,10):/^\d*\.\d+$/.test(o)&&(o=parseFloat(o)),r.meta[e][t]=o)}),r.width=parseInt(i.width,10),r.height=parseInt(i.height,10),r.size=parseInt(i.size,10),r.type=i.type,r.name=i.name,r}})}),r(se,[s,p,h,u],function(e,t,n,r){function i(t){var i=this,s=n.capTest,c=n.capTrue;n.call(this,t,a,{access_binary:s(window.FileReader||window.File&&File.getAsDataURL),access_image_binary:!1,display_media:s(o.Image&&(r.can("create_canvas")||r.can("use_data_uri_over32kb"))),do_cors:!1,drag_and_drop:!1,filter_by_extension:s(function(){return"Chrome"===r.browser&&r.version>=28||"IE"===r.browser&&r.version>=10}()),resize_image:function(){return o.Image&&i.can("access_binary")&&r.can("create_canvas")},report_upload_progress:!1,return_response_headers:!1,return_response_type:function(t){return"json"===t&&window.JSON?!0:!!~e.inArray(t,["text","document",""])},return_status_code:function(t){return!e.arrayDiff(t,[200,404])},select_file:function(){return r.can("use_fileinput")},select_multiple:!1,send_binary_string:!1,send_custom_headers:!1,send_multipart:!0,slice_blob:!1,stream_upload:function(){return i.can("select_file")},summon_file_dialog:s(function(){return"Firefox"===r.browser&&r.version>=4||"Opera"===r.browser&&r.version>=12||!!~e.inArray(r.browser,["Chrome","Safari"])}()),upload_filesize:c,use_http_method:function(t){return!e.arrayDiff(t,["GET","POST"])}}),e.extend(this,{init:function(){this.trigger("Init")},destroy:function(e){return function(){e.call(i),e=i=null}}(this.destroy)}),e.extend(this.getShim(),o)}var a="html4",o={};return n.addConstructor(a,i),o}),r(ce,[se,s,d,A,l,u],function(e,t,n,r,i,a){function o(){function e(){var i,u,d,p,f,m,h=this,g=h.getRuntime();m=t.guid("uid_"),i=g.getShimContainer(),o&&(d=n.get(o+"_form"),d&&t.extend(d.style,{top:"100%"})),p=document.createElement("form"),p.setAttribute("id",m+"_form"),p.setAttribute("method","post"),p.setAttribute("enctype","multipart/form-data"),p.setAttribute("encoding","multipart/form-data"),t.extend(p.style,{overflow:"hidden",position:"absolute",top:0,left:0,width:"100%",height:"100%"}),f=document.createElement("input"),f.setAttribute("id",m),f.setAttribute("type","file"),f.setAttribute("name",s.name||"Filedata"),f.setAttribute("accept",l.join(",")),t.extend(f.style,{fontSize:"999px",opacity:0}),p.appendChild(f),i.appendChild(p),t.extend(f.style,{position:"absolute",top:0,left:0,width:"100%",height:"100%"}),"IE"===a.browser&&a.version<10&&t.extend(f.style,{filter:"progid:DXImageTransform.Microsoft.Alpha(opacity=0)"}),f.onchange=function(){var t;this.value&&(t=this.files?this.files[0]:{name:this.value},c=[t],this.onchange=function(){},e.call(h),h.bind("change",function r(){var e,t=n.get(m),i=n.get(m+"_form");h.unbind("change",r),h.files.length&&t&&i&&(e=h.files[0],t.setAttribute("id",e.uid),i.setAttribute("id",e.uid+"_form"),i.setAttribute("target",e.uid+"_iframe")),t=i=null},998),f=p=null,h.trigger("change"))},g.can("summon_file_dialog")&&(u=n.get(s.browse_button),r.removeEvent(u,"click",h.uid),r.addEvent(u,"click",function(e){f&&!f.disabled&&f.click(),e.preventDefault()},h.uid)),o=m,i=d=u=null}var o,s,c=[],l=[];t.extend(this,{init:function(t){var a,o=this,c=o.getRuntime();s=t,l=t.accept.mimes||i.extList2mimes(t.accept,c.can("filter_by_extension")),a=c.getShimContainer(),function(){var e,i,s;e=n.get(t.browse_button),c.can("summon_file_dialog")&&("static"===n.getStyle(e,"position")&&(e.style.position="relative"),i=parseInt(n.getStyle(e,"z-index"),10)||1,e.style.zIndex=i,a.style.zIndex=i-1),s=c.can("summon_file_dialog")?e:a,r.addEvent(s,"mouseover",function(){o.trigger("mouseenter")},o.uid),r.addEvent(s,"mouseout",function(){o.trigger("mouseleave")},o.uid),r.addEvent(s,"mousedown",function(){o.trigger("mousedown")},o.uid),r.addEvent(n.get(t.container),"mouseup",function(){o.trigger("mouseup")},o.uid),e=null}(),e.call(this),a=null,o.trigger({type:"ready",async:!0})},getFiles:function(){return c},disable:function(e){var t;(t=n.get(o))&&(t.disabled=!!e)},destroy:function(){var e=this.getRuntime(),t=e.getShim(),i=e.getShimContainer();r.removeAllEvents(i,this.uid),r.removeAllEvents(s&&n.get(s.container),this.uid),r.removeAllEvents(s&&n.get(s.browse_button),this.uid),i&&(i.innerHTML=""),t.removeInstance(this.uid),o=c=l=s=i=t=null}})}return e.FileInput=o}),r(le,[se,M],function(e,t){return e.FileReader=t}),r(ue,[se,s,d,S,p,A,v,_],function(e,t,n,r,i,a,o,s){function c(){function e(e){var t,r,i,o,s=this,c=!1;if(u){if(t=u.id.replace(/_iframe$/,""),r=n.get(t+"_form")){for(i=r.getElementsByTagName("input"),o=i.length;o--;)switch(i[o].getAttribute("type")){case"hidden":i[o].parentNode.removeChild(i[o]);break;case"file":c=!0}i=[],c||r.parentNode.removeChild(r),r=null}setTimeout(function(){a.removeEvent(u,"load",s.uid),u.parentNode&&u.parentNode.removeChild(u);var t=s.getRuntime().getShimContainer();t.children.length||t.parentNode.removeChild(t),t=u=null,e()},1)}}var c,l,u;t.extend(this,{send:function(d,p){function f(){var n=w.getShimContainer()||document.body,i=document.createElement("div");i.innerHTML='<iframe id="'+m+'_iframe" name="'+m+'_iframe" src="javascript:&quot;&quot;" style="display:none"></iframe>',u=i.firstChild,n.appendChild(u),a.addEvent(u,"load",function(){var n;try{n=u.contentWindow.document||u.contentDocument||window.frames[u.id].document,/^4(0[0-9]|1[0-7]|2[2346])\s/.test(n.title)?c=n.title.replace(/^(\d+).*$/,"$1"):(c=200,l=t.trim(n.body.innerHTML),b.trigger({type:"progress",loaded:l.length,total:l.length}),v&&b.trigger({type:"uploadprogress",loaded:v.size||1025,total:v.size||1025}))}catch(i){if(!r.hasSameOrigin(d.url))return void e.call(b,function(){b.trigger("error")});c=404}e.call(b,function(){b.trigger("load")})},b.uid)}var m,h,g,v,b=this,w=b.getRuntime();if(c=l=null,p instanceof s&&p.hasBlob()){if(v=p.getBlob(),m=v.uid,g=n.get(m),h=n.get(m+"_form"),!h)throw new i.DOMException(i.DOMException.NOT_FOUND_ERR)}else m=t.guid("uid_"),h=document.createElement("form"),h.setAttribute("id",m+"_form"),h.setAttribute("method",d.method),h.setAttribute("enctype","multipart/form-data"),h.setAttribute("encoding","multipart/form-data"),h.setAttribute("target",m+"_iframe"),w.getShimContainer().appendChild(h);p instanceof s&&p.each(function(e,n){if(e instanceof o)g&&g.setAttribute("name",n);else{var r=document.createElement("input");t.extend(r,{type:"hidden",
name:n,value:e}),g?h.insertBefore(r,g):h.appendChild(r)}}),h.setAttribute("action",d.url),f(),h.submit(),b.trigger("loadstart")},getStatus:function(){return c},getResponse:function(e){if("json"===e&&"string"===t.typeOf(l)&&window.JSON)try{return JSON.parse(l.replace(/^\s*<pre[^>]*>/,"").replace(/<\/pre>\s*$/,""))}catch(n){return null}return l},abort:function(){var t=this;u&&u.contentWindow&&(u.contentWindow.stop?u.contentWindow.stop():u.contentWindow.document.execCommand?u.contentWindow.document.execCommand("Stop"):u.src="about:blank"),e.call(this,function(){t.dispatchEvent("abort")})}})}return e.XMLHttpRequest=c}),r(de,[se,H],function(e,t){return e.Image=t}),a([s,c,l,u,d,p,f,m,h,g,v,b,w,y,$,x,S,D,_,E,k,R,A])}(this),function(){"use strict";var e={},t=moxie.core.utils.Basic.inArray;return function n(r){var i,a;for(i in r)a=typeof r[i],"object"!==a||~t(i,["Exceptions","Env","Mime"])?"function"===a&&(e[i]=r[i]):n(r[i])}(window.moxie),e.Env=window.moxie.core.utils.Env,e.Mime=window.moxie.core.utils.Mime,e.Exceptions=window.moxie.core.Exceptions,window.mOxie=e,window.o||(window.o=e),e}(),function(e,t,n){function r(e){function t(e,t,n){var i={chunks:"slice_blob",jpgresize:"send_binary_string",pngresize:"send_binary_string",progress:"report_upload_progress",multi_selection:"select_multiple",dragdrop:"drag_and_drop",drop_element:"drag_and_drop",headers:"send_custom_headers",canSendBinary:"send_binary",triggerDialog:"summon_file_dialog"};i[e]?r[i[e]]=t:n||(r[e]=t)}var n=e.required_features,r={};return"string"==typeof n?o.each(n.split(/\s*,\s*/),function(e){t(e,!0)}):"object"==typeof n?o.each(n,function(e,n){t(n,e)}):n===!0&&(e.multipart||(r.send_binary_string=!0),e.chunk_size>0&&(r.slice_blob=!0),e.resize.enabled&&(r.send_binary_string=!0),o.each(e,function(e,n){t(n,!!e,!0)})),r}var i=e.setTimeout,a={},o={VERSION:"2.1.1",STOPPED:1,STARTED:2,QUEUED:1,UPLOADING:2,FAILED:4,DONE:5,GENERIC_ERROR:-100,HTTP_ERROR:-200,IO_ERROR:-300,SECURITY_ERROR:-400,INIT_ERROR:-500,FILE_SIZE_ERROR:-600,FILE_EXTENSION_ERROR:-601,FILE_DUPLICATE_ERROR:-602,IMAGE_FORMAT_ERROR:-700,IMAGE_MEMORY_ERROR:-701,IMAGE_DIMENSIONS_ERROR:-702,mimeTypes:t.mimes,ua:t.ua,typeOf:t.typeOf,extend:t.extend,guid:t.guid,get:function(e){var n,r=[];"array"!==t.typeOf(e)&&(e=[e]);for(var i=e.length;i--;)n=t.get(e[i]),n&&r.push(n);return r.length?r:null},each:t.each,getPos:t.getPos,getSize:t.getSize,xmlEncode:function(e){var t={"<":"lt",">":"gt","&":"amp",'"':"quot","'":"#39"},n=/[<>&\"\']/g;return e?(""+e).replace(n,function(e){return t[e]?"&"+t[e]+";":e}):e},toArray:t.toArray,inArray:t.inArray,addI18n:t.addI18n,translate:t.translate,isEmptyObj:t.isEmptyObj,hasClass:t.hasClass,addClass:t.addClass,removeClass:t.removeClass,getStyle:t.getStyle,addEvent:t.addEvent,removeEvent:t.removeEvent,removeAllEvents:t.removeAllEvents,cleanName:function(e){var t,n;for(n=[/[\300-\306]/g,"A",/[\340-\346]/g,"a",/\307/g,"C",/\347/g,"c",/[\310-\313]/g,"E",/[\350-\353]/g,"e",/[\314-\317]/g,"I",/[\354-\357]/g,"i",/\321/g,"N",/\361/g,"n",/[\322-\330]/g,"O",/[\362-\370]/g,"o",/[\331-\334]/g,"U",/[\371-\374]/g,"u"],t=0;t<n.length;t+=2)e=e.replace(n[t],n[t+1]);return e=e.replace(/\s+/g,"_"),e=e.replace(/[^a-z0-9_\-\.]+/gi,"")},buildUrl:function(e,t){var n="";return o.each(t,function(e,t){n+=(n?"&":"")+encodeURIComponent(t)+"="+encodeURIComponent(e)}),n&&(e+=(e.indexOf("?")>0?"&":"?")+n),e},formatSize:function(e){function t(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}if(e===n||/\D/.test(e))return o.translate("N/A");var r=Math.pow(1024,4);return e>r?t(e/r,1)+" "+o.translate("tb"):e>(r/=1024)?t(e/r,1)+" "+o.translate("gb"):e>(r/=1024)?t(e/r,1)+" "+o.translate("mb"):e>1024?Math.round(e/1024)+" "+o.translate("kb"):e+" "+o.translate("b")},parseSize:t.parseSizeStr,predictRuntime:function(e,n){var r,i;return r=new o.Uploader(e),i=t.Runtime.thatCan(r.getOption().required_features,n||e.runtimes),r.destroy(),i},addFileFilter:function(e,t){a[e]=t}};o.addFileFilter("mime_types",function(e,t,n){e.length&&!e.regexp.test(t.name)?(this.trigger("Error",{code:o.FILE_EXTENSION_ERROR,message:o.translate("File extension error."),file:t}),n(!1)):n(!0)}),o.addFileFilter("max_file_size",function(e,t,n){var r;e=o.parseSize(e),t.size!==r&&e&&t.size>e?(this.trigger("Error",{code:o.FILE_SIZE_ERROR,message:o.translate("File size error."),file:t}),n(!1)):n(!0)}),o.addFileFilter("prevent_duplicates",function(e,t,n){if(e)for(var r=this.files.length;r--;)if(t.name===this.files[r].name&&t.size===this.files[r].size)return this.trigger("Error",{code:o.FILE_DUPLICATE_ERROR,message:o.translate("Duplicate file error."),file:t}),void n(!1);n(!0)}),o.Uploader=function(e){function s(){var e,t,n=0;if(this.state==o.STARTED){for(t=0;t<C.length;t++)e||C[t].status!=o.QUEUED?n++:(e=C[t],this.trigger("BeforeUpload",e)&&(e.status=o.UPLOADING,this.trigger("UploadFile",e)));n==C.length&&(this.state!==o.STOPPED&&(this.state=o.STOPPED,this.trigger("StateChanged")),this.trigger("UploadComplete",C))}}function c(e){e.percent=e.size>0?Math.ceil(e.loaded/e.size*100):100,l()}function l(){var e,t;for(k.reset(),e=0;e<C.length;e++)t=C[e],t.size!==n?(k.size+=t.origSize,k.loaded+=t.loaded*t.origSize/t.size):k.size=n,t.status==o.DONE?k.uploaded++:t.status==o.FAILED?k.failed++:k.queued++;k.size===n?k.percent=C.length>0?Math.ceil(k.uploaded/C.length*100):0:(k.bytesPerSec=Math.ceil(k.loaded/((+new Date-E||1)/1e3)),k.percent=k.size>0?Math.ceil(k.loaded/k.size*100):0)}function u(){var e=T[0]||P[0];return e?e.getRuntime().uid:!1}function d(e,n){if(e.ruid){var r=t.Runtime.getInfo(e.ruid);if(r)return r.can(n)}return!1}function p(){this.bind("FilesAdded",g),this.bind("CancelUpload",$),this.bind("BeforeUpload",v),this.bind("UploadFile",b),this.bind("UploadProgress",w),this.bind("StateChanged",y),this.bind("QueueChanged",l),this.bind("Error",S),this.bind("FileUploaded",x),this.bind("Destroy",D)}function f(e,n){var r=this,i=0,a=[],s={accept:e.filters.mime_types,runtime_order:e.runtimes,required_caps:e.required_features,preferred_caps:A,swf_url:e.flash_swf_url,xap_url:e.silverlight_xap_url};o.each(e.runtimes.split(/\s*,\s*/),function(t){e[t]&&(s[t]=e[t])}),e.browse_button&&o.each(e.browse_button,function(n){a.push(function(a){var c=new t.FileInput(o.extend({},s,{name:e.file_data_name,multiple:e.multi_selection,container:e.container,browse_button:n}));c.onready=function(){var e=t.Runtime.getInfo(this.ruid);t.extend(r.features,{chunks:e.can("slice_blob"),multipart:e.can("send_multipart"),multi_selection:e.can("select_multiple")}),i++,T.push(this),a()},c.onchange=function(){r.addFile(this.files)},c.bind("mouseenter mouseleave mousedown mouseup",function(r){M||(e.browse_button_hover&&("mouseenter"===r.type?t.addClass(n,e.browse_button_hover):"mouseleave"===r.type&&t.removeClass(n,e.browse_button_hover)),e.browse_button_active&&("mousedown"===r.type?t.addClass(n,e.browse_button_active):"mouseup"===r.type&&t.removeClass(n,e.browse_button_active)))}),c.bind("error runtimeerror",function(){c=null,a()}),c.init()})}),e.drop_element&&o.each(e.drop_element,function(e){a.push(function(n){var a=new t.FileDrop(o.extend({},s,{drop_zone:e}));a.onready=function(){var e=t.Runtime.getInfo(this.ruid);r.features.dragdrop=e.can("drag_and_drop"),i++,P.push(this),n()},a.ondrop=function(){r.addFile(this.files)},a.bind("error runtimeerror",function(){a=null,n()}),a.init()})}),t.inSeries(a,function(){"function"==typeof n&&n(i)})}function m(e,n,r){var i=new t.Image;try{i.onload=function(){i.downsize(n.width,n.height,n.crop,n.preserve_headers)},i.onresize=function(){r(this.getAsBlob(e.type,n.quality)),this.destroy()},i.onerror=function(){r(e)},i.load(e)}catch(a){r(e)}}function h(e,n,i){function a(e,t,n){var r=_[e];switch(e){case"max_file_size":"max_file_size"===e&&(_.max_file_size=_.filters.max_file_size=t);break;case"chunk_size":(t=o.parseSize(t))&&(_[e]=t);break;case"filters":"array"===o.typeOf(t)&&(t={mime_types:t}),n?o.extend(_.filters,t):_.filters=t,t.mime_types&&(_.filters.mime_types.regexp=function(e){var t=[];return o.each(e,function(e){o.each(e.extensions.split(/,/),function(e){/^\s*\*\s*$/.test(e)?t.push("\\.*"):t.push("\\."+e.replace(new RegExp("["+"/^$.*+?|()[]{}\\".replace(/./g,"\\$&")+"]","g"),"\\$&"))})}),new RegExp("("+t.join("|")+")$","i")}(_.filters.mime_types));break;case"resize":n?o.extend(_.resize,t,{enabled:!0}):_.resize=t;break;case"prevent_duplicates":_.prevent_duplicates=_.filters.prevent_duplicates=!!t;break;case"browse_button":case"drop_element":t=o.get(t);case"container":case"runtimes":case"multi_selection":case"flash_swf_url":case"silverlight_xap_url":_[e]=t,n||(c=!0);break;default:_[e]=t}n||s.trigger("OptionChanged",e,t,r)}var s=this,c=!1;"object"==typeof e?o.each(e,function(e,t){a(t,e,i)}):a(e,n,i),i?(_.required_features=r(o.extend({},_)),A=r(o.extend({},_,{required_features:!0}))):c&&(s.trigger("Destroy"),f.call(s,_,function(e){e?(s.runtime=t.Runtime.getInfo(u()).type,s.trigger("Init",{runtime:s.runtime}),s.trigger("PostInit")):s.trigger("Error",{code:o.INIT_ERROR,message:o.translate("Init error.")})}))}function g(e,t){[].push.apply(C,t),e.trigger("QueueChanged"),e.refresh()}function v(e,t){if(_.unique_names){var n=t.name.match(/\.([^.]+)$/),r="part";n&&(r=n[1]),t.target_name=t.id+"."+r}}function b(e,n){function r(){u-- >0?i(a,1e3):(n.loaded=f,e.trigger("Error",{code:o.HTTP_ERROR,message:o.translate("HTTP Error."),file:n,response:R.responseText,status:R.status,responseHeaders:R.getAllResponseHeaders()}))}function a(){var d,m,h,g;n.status!=o.DONE&&n.status!=o.FAILED&&e.state!=o.STOPPED&&(h={name:n.target_name||n.name},l&&p.chunks&&s.size>l?(g=Math.min(l,s.size-f),d=s.slice(f,f+g)):(g=s.size,d=s),l&&p.chunks&&(e.settings.send_chunk_number?(h.chunk=Math.ceil(f/l),h.chunks=Math.ceil(s.size/l)):(h.offset=f,h.total=s.size)),R=new t.XMLHttpRequest,R.upload&&(R.upload.onprogress=function(t){n.loaded=Math.min(n.size,f+t.loaded),e.trigger("UploadProgress",n)}),R.onload=function(){return R.status>=400?void r():(u=e.settings.max_retries,g<s.size?(d.destroy(),f+=g,n.loaded=Math.min(f,s.size),e.trigger("ChunkUploaded",n,{offset:n.loaded,total:s.size,response:R.responseText,status:R.status,responseHeaders:R.getAllResponseHeaders()}),"Android Browser"===t.Env.browser&&e.trigger("UploadProgress",n)):n.loaded=n.size,d=m=null,!f||f>=s.size?(n.size!=n.origSize&&(s.destroy(),s=null),e.trigger("UploadProgress",n),n.status=o.DONE,e.trigger("FileUploaded",n,{response:R.responseText,status:R.status,responseHeaders:R.getAllResponseHeaders()})):i(a,1),void 0)},R.onerror=function(){r()},R.onloadend=function(){this.destroy(),R=null},e.settings.multipart&&p.multipart?(h.name=n.target_name||n.name,R.open("post",c,!0),o.each(e.settings.headers,function(e,t){R.setRequestHeader(t,e)}),m=new t.FormData,o.each(o.extend(h,e.settings.multipart_params),function(e,t){m.append(t,e)}),m.append(e.settings.file_data_name,d),R.send(m,{runtime_order:e.settings.runtimes,required_caps:e.settings.required_features,preferred_caps:A,swf_url:e.settings.flash_swf_url,xap_url:e.settings.silverlight_xap_url})):(c=o.buildUrl(e.settings.url,o.extend(h,e.settings.multipart_params)),R.open("post",c,!0),R.setRequestHeader("Content-Type","application/octet-stream"),o.each(e.settings.headers,function(e,t){R.setRequestHeader(t,e)}),R.send(d,{runtime_order:e.settings.runtimes,required_caps:e.settings.required_features,preferred_caps:A,swf_url:e.settings.flash_swf_url,xap_url:e.settings.silverlight_xap_url})))}var s,c=e.settings.url,l=e.settings.chunk_size,u=e.settings.max_retries,p=e.features,f=0;n.loaded&&(f=n.loaded=l*Math.floor(n.loaded/l)),s=n.getSource(),e.settings.resize.enabled&&d(s,"send_binary_string")&&~t.inArray(s.type,["image/jpeg","image/png"])?m.call(this,s,e.settings.resize,function(e){s=e,n.size=e.size,a()}):a()}function w(e,t){c(t)}function y(e){if(e.state==o.STARTED)E=+new Date;else if(e.state==o.STOPPED)for(var t=e.files.length-1;t>=0;t--)e.files[t].status==o.UPLOADING&&(e.files[t].status=o.QUEUED,l())}function $(){R&&R.abort()}function x(e){l(),i(function(){s.call(e)},1)}function S(e,t){t.file&&(t.file.status=o.FAILED,c(t.file),e.state==o.STARTED&&(e.trigger("CancelUpload"),i(function(){s.call(e)},1)))}function D(e){e.stop(),o.each(C,function(e){e.destroy()}),C=[],T.length&&(o.each(T,function(e){e.destroy()}),T=[]),P.length&&(o.each(P,function(e){e.destroy()}),P=[]),A={},M=!1,E=R=null,k.reset()}var _,E,k,R,I=o.guid(),C=[],A={},T=[],P=[],M=!1;_={runtimes:t.Runtime.order,max_retries:0,chunk_size:0,multipart:!0,multi_selection:!0,file_data_name:"file",flash_swf_url:"js/Moxie.swf",silverlight_xap_url:"js/Moxie.xap",filters:{mime_types:[],prevent_duplicates:!1,max_file_size:0},resize:{enabled:!1,preserve_headers:!0,crop:!1},send_chunk_number:!0},h.call(this,e,null,!0),k=new o.QueueProgress,o.extend(this,{id:I,uid:I,state:o.STOPPED,features:{},runtime:null,files:C,settings:_,total:k,init:function(){var e=this;return"function"==typeof _.preinit?_.preinit(e):o.each(_.preinit,function(t,n){e.bind(n,t)}),_.browse_button&&_.url?(p.call(this),void f.call(this,_,function(n){"function"==typeof _.init?_.init(e):o.each(_.init,function(t,n){e.bind(n,t)}),n?(e.runtime=t.Runtime.getInfo(u()).type,e.trigger("Init",{runtime:e.runtime}),e.trigger("PostInit")):e.trigger("Error",{code:o.INIT_ERROR,message:o.translate("Init error.")})})):void this.trigger("Error",{code:o.INIT_ERROR,message:o.translate("Init error.")})},setOption:function(e,t){h.call(this,e,t,!this.runtime)},getOption:function(e){return e?_[e]:_},refresh:function(){T.length&&o.each(T,function(e){e.trigger("Refresh")}),this.trigger("Refresh")},start:function(){this.state!=o.STARTED&&(this.state=o.STARTED,this.trigger("StateChanged"),s.call(this))},stop:function(){this.state!=o.STOPPED&&(this.state=o.STOPPED,this.trigger("StateChanged"),this.trigger("CancelUpload"))},disableBrowse:function(){M=arguments[0]!==n?arguments[0]:!0,T.length&&o.each(T,function(e){e.disable(M)}),this.trigger("DisableBrowse",M)},getFile:function(e){var t;for(t=C.length-1;t>=0;t--)if(C[t].id===e)return C[t]},addFile:function(e,n){function r(e,n){var r=[];t.each(l.settings.filters,function(t,n){a[n]&&r.push(function(r){a[n].call(l,t,e,function(e){r(!e)})})}),t.inSeries(r,n)}function s(e){var a=t.typeOf(e);if(e instanceof t.File){if(!e.ruid&&!e.isDetached()){if(!c)return!1;e.ruid=c,e.connectRuntime(c)}s(new o.File(e))}else e instanceof t.Blob?(s(e.getSource()),e.destroy()):e instanceof o.File?(n&&(e.name=n),d.push(function(t){r(e,function(n){n||(p.push(e),l.trigger("FileFiltered",e)),i(t,1)})})):-1!==t.inArray(a,["file","blob"])?s(new t.File(null,e)):"node"===a&&"filelist"===t.typeOf(e.files)?t.each(e.files,s):"array"===a&&(n=null,t.each(e,s))}var c,l=this,d=[],p=[];c=u(),s(e),d.length&&t.inSeries(d,function(){p.length&&l.trigger("FilesAdded",p)})},removeFile:function(e){for(var t="string"==typeof e?e:e.id,n=C.length-1;n>=0;n--)if(C[n].id===t)return this.splice(n,1)[0]},splice:function(e,t){var r=C.splice(e===n?0:e,t===n?C.length:t),i=!1;return this.state==o.STARTED&&(i=!0,this.stop()),this.trigger("FilesRemoved",r),o.each(r,function(e){e.destroy()}),this.trigger("QueueChanged"),this.refresh(),i&&this.start(),r},bind:function(e,t,n){var r=this;o.Uploader.prototype.bind.call(this,e,function(){var e=[].slice.call(arguments);return e.splice(0,1,r),t.apply(this,e)},0,n)},destroy:function(){this.trigger("Destroy"),_=k=null,this.unbindAll()}})},o.Uploader.prototype=t.EventTarget.instance,o.File=function(){function e(e){o.extend(this,{id:o.guid(),name:e.name||e.fileName,type:e.type||"",size:e.size||e.fileSize,origSize:e.size||e.fileSize,loaded:0,percent:0,status:o.QUEUED,lastModifiedDate:e.lastModifiedDate||(new Date).toLocaleString(),getNative:function(){var e=this.getSource().getSource();return-1!==t.inArray(t.typeOf(e),["blob","file"])?e:null},getSource:function(){return n[this.id]?n[this.id]:null},destroy:function(){var e=this.getSource();e&&(e.destroy(),delete n[this.id])}}),n[this.id]=e}var n={};return e}(),o.QueueProgress=function(){var e=this;e.size=0,e.loaded=0,e.uploaded=0,e.failed=0,e.queued=0,e.percent=0,e.bytesPerSec=0,e.reset=function(){e.size=e.loaded=e.uploaded=e.failed=e.queued=e.percent=e.bytesPerSec=0}},e.plupload=o}(window,mOxie),define("plupload",function(){});var Qiniu=new QiniuJsSDK;define("qiniu",function(){}),function(e,t,n){"use strict";t.module("ngCookies",["ng"]).factory("$cookies",["$rootScope","$browser",function(e,r){function i(){var e,i,a,c;for(e in s)u(o[e])&&r.cookies(e,n);for(e in o)i=o[e],t.isString(i)||(i=""+i,o[e]=i),i!==s[e]&&(r.cookies(e,i),c=!0);if(c){c=!1,a=r.cookies();for(e in o)o[e]!==a[e]&&(u(a[e])?delete o[e]:o[e]=a[e],c=!0)}}var a,o={},s={},c=!1,l=t.copy,u=t.isUndefined;return r.addPollFn(function(){var t=r.cookies();a!=t&&(a=t,l(t,s),l(t,o),c&&e.$apply())})(),c=!0,e.$watch(i),o}]).factory("$cookieStore",["$cookies",function(e){return{get:function(n){var r=e[n];return r&&(r=r.replace(/^\"*/,""),r=r.replace(/\"*$/,"")),r?t.fromJson(r):r},put:function(n,r){e[n]=t.toJson(r)},remove:function(t){delete e[t]}}}])}(window,window.angular),define("ngCookies",["angular"],function(){}),define("p2pSofa/services/common/commonService",["angular"],function(e){mod_services.service("commonService",["$http","$q","$location","$anchorScroll","$compile","$templateCache","$window","$rootScope","$cookieStore",function(t,n,r,i,a,o,s,c,l){var u,d;return u={getIndex:function(e,t){var n=0;t=t||1;for(var r=1;t>r;r++)e=e.parentNode;for(;null!=(e=e.previousSibling);)1==e.nodeType&&n++;return n},getBrowser:function(){function e(e){e=e.toLowerCase();var a=t.exec(e)||n.exec(e)||r.exec(e)||e.indexOf("compatible")<0&&i.exec(e)||[];return{browser:a[1]||"",version:a[2]||"0"}}var t=/(webkit)[ \/]([\w.]+)/,n=/(opera)(?:.*version)?[ \/]([\w.]+)/,r=/(msie) ([\w.]+)/,i=/(mozilla)(?:.*? rv:([\w.]+))?/,a=s.navigator.userAgent;return e(a)},isIE8:function(){var e=this.getBrowser();return"msie"==e.browser&&"8.0"==e.version?!0:!1},GetCurrentStyle:function(e,t){if(e.currentStyle)return t=t.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()}),e.currentStyle[t];if(document.defaultView&&document.defaultView.getComputedStyle){var n=t.replace(/([A-Z])/g,"-$1");return n=t.toLowerCase(),document.defaultView.getComputedStyle(e,null)[n]}return null},getElementAbsPos:function(e){for(var t=e.offsetTop,n=e.offsetLeft;e=e.offsetParent;)t+=e.offsetTop,n+=e.offsetLeft;return{left:n,top:t}},removeInlineStyle:function(e,t){var n,r=0,i=0,a=["-left","-top","-right","-bottom"];for("string"==typeof t&&(t=[t]),r;r<t.length;r++)if(e.style.removeProperty)e.style.removeProperty(t[r]);else if(t[r].match(/border/))for(i;i<a.length;i++)n=t[r].replace(/(border)/,"$1"+a[i]),n=n.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()}),e.style.removeAttribute(n);else t[r]=t[r].replace(/\-(\w)/g,function(e,t){return t.toUpperCase()}),e.style.removeAttribute(t[r])},addCookie:function(t,n,r){l.put(t,n),r||(r=.5),n=e.toJson(n);var i=t+"="+n;if(r>0){var a=new Date,o=3600*r*1e3;a.setTime(a.getTime()+o),i+="; expires="+a.toGMTString()}document.cookie=i},deepExtend:function(e,t){for(var n in t)t[n]&&t[n].constructor&&t[n].constructor===Object?(e[n]=e[n]||{},arguments.callee(e[n],t[n])):e[n]=t[n];return e},ajax:function(e){function n(){r&&(r.status="pending",i?r.html(i):r.val(a),r[0].disabled=!1)}for(var r,i,a,o=c.singletonButtonList||[],s=0;s<o.length;s++)if("ready"==o[s].status){r=o[s],r.status="running",i=r.oriHtml,a=r.oriValue;break}var l={method:"get",headers:{"Content-Type":"application/x-www-form-urlencoded","x-requested-with":"XMLHttpRequest"}};return e=u.deepExtend(l,e),t(e).success(function(){n()}).error(function(){n()})},gotoAnchor:function(e){r.hash(e),i()},popupDialog:function(t,n,r,i){t=t&&o.get(t)?o.get(t):t;var s=e.extend({wait:!0,type:"no-icon"},r||{});s.wait&&(n.alert_wait=!0,t='<i ng-show="alert_wait">loading...</i><div ng-show="!alert_wait">'+t+"</div>");var c=a(t)(n),l=alert('<div id="popupDialog" class="'+s.wrapClass+'"></div>',s,i),u=e.element(document.getElementById("popupDialog")).append(c);return n.$$phase||n.$apply(),s.css&&u.css(s.css),"function"==typeof s.ajax?s.ajax.call(u).then(function(){n.alert_wait=!1},function(){l.close(l)}):n.alert_wait=!1,d=l,l},removePopupDialog:function(){try{d.close(d),d=null}catch(e){}},updateUserMessage:function(e,t,n,r){return this.ajax({url:"user/message",method:"get"}).success(function(e){c.user.isNotReadedMessage=e;var t=c.user;l.put("curUser",t)})}}}])}),define("p2pSofa/directives/common/commonDirectives",["angular","p2pSofa/services/common/commonService"],function(e){mod_directives.directive("cpCommonInclude",["uiService","$templateCache","$compile",function(t,n,r){return{link:function(t,a,o){function s(){var e,n=t.$eval(o.vars);if("object"==typeof n)for(e in n)t[e]=n[e]}function c(o){var s,c,l,u=e.element("<div></div>");for(i=0,o=o instanceof Array?o:[o];i<o.length;i++)s=n.get(o[i]),c=e.element(s),u.append(c);l=u.children(),a.html(""),a.append(l),r(l)(t)}var l=t.$eval(o.cpCommonInclude),u=o.varWatch;void 0!=u&&t.$watch(u,function(e,t){e&&s()}),c(l)}}}]).directive("cpUiPlaceholder",["commonService",function(t){return{require:"ngModel",link:function(n,r,i,a){function o(){t.removeInlineStyle(r[0],["height","border-color","background-color","position","z-index"]),c.css("display","none"),r[0].focus()}function s(){r.css({height:"0px","border-color":"transparent","background-color":"transparent",position:"absolute",left:0,"z-index":-1}),c.css("display","")}var c,l=i.cpUiPlaceholder,u=!1;a.$viewValue||r.val();r.parent().css({position:"relative"}),c=e.element(document.createElement("input")),c.val(l).css({color:"#999",display:"none"}),c.attr("class",r.attr("class")),c.attr("size",r.attr("size")),c.attr("type","text"),r[0].parentNode.insertBefore(c[0],r[0]);var d=(t.GetCurrentStyle(r[0],"height"),t.GetCurrentStyle(r[0],"border-left-color"),t.GetCurrentStyle(r[0],"position"),t.GetCurrentStyle(r[0],"zIndex"));(!d||0>d)&&(d=0),r.on("blur",function(e){r.val()||s(),u=!1}),r.on("keydown",function(e){u=!0}),c.on("focus",function(){r.attr("readonly",!1),o()}),n.$watch(a.$name,function(){a.$viewValue?(o(),!u&&r[0].blur()):u||s()})}}}]).directive("cpCommonSingletonButton",["$rootScope",function(t){return{restrict:"A",priority:1e3,require:"?^form",link:function(n,r,i,a){function o(){return"ready"==r.status||"running"==r.status?!1:(r.status="ready","input"==r[0].tagName.toLowerCase()?(r.oriValue=r.val(),r.val(r.oriValue+"...")):(r.oriHtml=r.html(),r.html(r.oriHtml+"...")),r[0].disabled=!0,!0)}t.singletonButtonList=t.singletonButtonList||[],t.singletonButtonList.push(r);var s,c=r[0].type;if("submit"==c){for(s=r[0];(s=s.parentNode)&&"form"!=s.tagName.toLowerCase(););e.element(s).on("submit",function(e){a.$valid&&o()})}else r.on("click",function(e){o()})}}}])}),define("p2pSofa/services/list/listService",["angular","p2pSofa/services/common/commonService"],function(e){mod_services.service("listService",["commonService","$parse","$templateCache","$compile","$rootScope","$cookieStore",function(t,n,r,i,a,o){var s,c=1,l=10;return s={listAjax:function(r,i,a,o){function s(i){var a,o,c=i.page,l=i.rows;if(!h)return t.ajax({method:y,url:g,params:i}).success(function(t,i,a,o){if(0!=n($)(r,{data:t,status:i,headers:a,config:o})){for(m=0;m<E.length-1;m++)""!=E[m]&&(t=t[E[m]]);b&&(t.rows?r[b]=t.rows:r[b]=t instanceof Array?t:t?[t]:[],r[b].reload=function(t){t=t||{},t.remainPage||(t.page=1),s(e.extend(D,t))}),w&&d(t)}}).error(function(e,t,i,a){!n(x)(r,{data:e,status:t,headers:i,config:a})});for(o=[],a=(c-1)*l;c*l>a&&h[a];a++)o.push(h[a]);r[b]=o,w&&d({offset:c,total:h.length})}function u(e){var t,n,i;for(t=0;t<e.length;t++)n=e[t],i=b+n.replace(/^[\w]/,function(e){return e.toUpperCase()}),r[i]=S[n],r.$watch(i,function(e){return function(t,n){t!=n&&(D.page=1,D[e]=t,s(D))}}(n))}function d(e){r[b+"Page"]=e.offset,r[b+"Total"]=e.total}"object"!=typeof o&&(o={}),"object"!=typeof o.params&&(o.params={}),o.params=e.extend({page:a.page||c,rows:a.pageSize||l},o.params,a.params?r.$eval(a.params):{});var p,f,m,h=r.$eval(a.data)||o.data,g=a.url||o.url,v=a.pagination||o.pagination,b=a.varName||o.varName,w=0!=v&&b,y=a.method||o.method||"get",$=a.success||o.success,x=a.fail||o.fail,S=o.params,D={},_=a.watches?r.$eval(a.watches):o.watches,E=[];if(void 0!=g||h){b&&(E=b.split("."),b=E[E.length-1]),w&&(r[b+"Page"]=S.page,r[b+"PageSize"]=S.rows,r[b+"Total"]=0,r[b+"PageSearch"]=function(e){D.page=e,s(D)});for(p in S)f=S[p],D[p]=f;return _&&u(_),s(D)}},investList:function(t,n,r,i){return this.listAjax(t,n,r,e.extend({url:"borrows/invest",params:{status:void 0!=r.status?r.status:-1,type:void 0!=r.type?r.type:-1,categoryId:void 0!=r.categoryId?r.categoryId:-1,timeLimitSearch:void 0!=r.timeLimitSearch?r.timeLimitSearch:-1,rateYearSearch:void 0!=r.rateYearSearch?r.rateYearSearch:-1},watches:["status","type","rateYearSearch","timeLimitSearch","categoryId"]},i))},bondList:function(t,n,r,i){return this.listAjax(t,n,r,e.extend({url:"bond/bonds/bondList",params:{status:void 0!=r.status?r.status:-1,rateYearSearch:void 0!=r.rateYearSearch?r.rateYearSearch:-1},watches:["status","rateYearSearch"]},i))},recommendList:function(t,n,r,i){return this.listAjax(t,n,r,e.extend({url:"borrows/index"},i))},accountRecommendList:function(t,n,r,i){return this.listAjax(t,n,r,e.extend({url:"borrows/recommend"},i))},rechargeList:function(t,n,r,i){return this.listAjax(t,n,r,e.extend({url:"account/recharge/rechargeList"},i))},withdrawList:function(t,n,r,i){return this.listAjax(t,n,r,e.extend({url:"account/cash/cashList"},i))},myinvestList:function(t,n,r,i){return this.listAjax(t,n,r,e.extend({url:"investments/investItem"},i))},myinvestRecordList:function(t,n,r,i){return this.listAjax(t,n,r,e.extend({url:"investments",params:{status:void 0!=r.status?r.status:0},watches:["status"]},i))},borrowCollectionList:function(t,n,r,i){return this.listAjax(t,n,r,e.extend({url:"borrowCollections",method:"post"},i))},myRedPacketList:function(t,n,r,i){return this.listAjax(t,n,r,e.extend({url:"user/myfavourable",method:"post",params:{type:"-1",activityType:"-1",usedStatus:"-1"},watches:["type","activityType","usedStatus"]},i))},userInviteList:function(t,n,r,i){return this.listAjax(t,n,r,e.extend({url:"userInvite",method:"post"},i))},userInviteLinkList:function(t,n,r,i){return this.listAjax(t,n,r,e.extend({url:"userInvite"},i))},myBorrowList:function(t,n,r,i){return this.listAjax(t,n,r,e.extend({url:"borrows/myBorrows",method:"get",params:{status:"",timeSearch:"-1",startTime:"",endTime:""},watches:["status","timeSearch"]},i))},repaymentList:function(t,n,r,i){return this.listAjax(t,n,r,e.extend({url:"repayments",method:"get",params:{status:"",time:"-1"},watches:["status"]},i))},accountlogsList:function(t,n,r,i){return this.listAjax(t,n,r,e.extend({url:"account/accountlogs",method:"post",params:{time:"-1",startTime:"",endTime:""}},i))},creditApplyList:function(t,n,r,i){return this.listAjax(t,n,r,e.extend({url:"user/creditapply",method:"get"},i))},saleableBondList:function(t,n,r,i){return this.listAjax(t,n,r,e.extend({url:"bond/userBonds/saleableBondList",method:"get"},i))},sellingBond:function(t,n,r,i){return this.listAjax(t,n,r,e.extend({url:"bond/userBonds/sellingBond",method:"get"},i))},soldBondList:function(t,n,r,i){return this.listAjax(t,n,r,e.extend({url:"bond/userBonds/soldBondList",method:"get"},i))},boughtBondList:function(t,n,r,i){return this.listAjax(t,n,r,e.extend({url:"bond/userBonds/boughtBondList",method:"get"},i))},soldBondDetailList:function(t,n,r,i){return this.listAjax(t,n,r,e.extend({url:"bond/userBonds/sellBondDetail",method:"get"},i))},boughtBondDetailList:function(t,n,r,i){return this.listAjax(t,n,r,e.extend({url:"bond/userBonds/boughtBondDetail",method:"get"},i))},stopBondRecordList:function(t,n,r,i){return this.listAjax(t,n,r,e.extend({url:"bond/userBonds/bondRemoveRecord",method:"get"},i))},linksList:function(t,n,r,i){return this.listAjax(t,n,r,e.extend({url:"column/links",method:"get",pagination:!1},i))},borrowInvestmentRecordList:function(t,n,r,i){return this.listAjax(t,n,r,e.extend({url:"investments/borrow",method:"get"},i))},borrowInvestmentRankList:function(t,n,r,i){return this.listAjax(t,n,r,e.extend({url:"investments/rankings",method:"get"},i))},borrowCollectionsList:function(t,n,r,i){return this.listAjax(t,n,r,e.extend({url:"borrowCollections",method:"post"},i))},userMessageList:function(n,r,i,a){return this.listAjax(n,r,i,e.extend({url:"user/message",method:"post",success:function(e,n){t.updateUserMessage()}},a||{}))},bondRepayPlanList:function(t,n,r,i){return this.listAjax(t,n,r,e.extend({url:"bond/bonds/borrowCollectionList",method:"get"},i||{}))},bondTransferRecordList:function(t,n,r,i){return this.listAjax(t,n,r,e.extend({url:"bond/bonds/investmentList",method:"get"},i||{}))},industryInformationList:function(t,n,r,i){return this.listAjax(t,n,r,e.extend({url:"column/articles/2",method:"post"},i))},websiteAnnouncementList:function(t,n,r,i){return this.listAjax(t,n,r,e.extend({url:"column/articles/1",method:"post"},i))}}}])}),define("p2pSofa/directives/list/listDirectives",["angular","p2pSofa/services/list/listService"],function(){mod_directives.directive("cpList",["listService",function(e){return{link:function(t,n,r){e.listAjax(t,n,r,{})}}}]).directive("cpListBorrow",["listService",function(e){return{link:function(t,n,r){e.investList(t,n,r,{})}}}]).directive("cpListBond",["listService",function(e){return{link:function(t,n,r){e.bondList(t,n,r,{})}}}]).directive("cpRecommendBorrow",["listService",function(e){return{link:function(t,n,r){e.recommendList(t,n,r,{})}}}]).directive("cpListAccountRecommend",["listService",function(e){return{link:function(t,n,r){e.accountRecommendList(t,n,r)}}}]).directive("cpListAccountNav",["navData","$rootScope","$cookieStore",function(e,t,n){return{link:function(r,i,a){var o=a.varName;o&&(r[o]=[],!t.user.id&&n.get("curUser")&&(t.user=n.get("curUser")),t.user.canBorrow?r[o]=e[0].subState:angular.forEach(e[0].subState,function(e,t){var n=e.className.split(" ");-1==n.indexOf("borrow")&&r[o].push(e)}))}}}]).directive("cpListRecharge",["listService",function(e){return{link:function(t,n,r){e.rechargeList(t,n,r)}}}]).directive("cpListWithdraw",["listService",function(e){return{link:function(t,n,r){e.withdrawList(t,n,r)}}}]).directive("cpListMyinvest",["listService",function(e){return{link:function(t,n,r){e.myinvestList(t,n,r)}}}]).directive("cpListMyinvestRecord",["listService",function(e){return{link:function(t,n,r){e.myinvestRecordList(t,n,r)}}}]).directive("cpListBorrowCollection",["listService",function(e){return{link:function(t,n,r){e.borrowCollectionList(t,n,r)}}}]).directive("cpListMyRedPacket",["listService",function(e){return{link:function(t,n,r){e.myRedPacketList(t,n,r)}}}]).directive("cpListUserInvite",["listService",function(e){return{link:function(t,n,r){e.userInviteList(t,n,r)}}}]).directive("cpListUserInviteLink",["listService",function(e){return{link:function(t,n,r){e.userInviteLinkList(t,n,r)}}}]).directive("cpListMyBorrow",["listService",function(e){return{link:function(t,n,r){e.myBorrowList(t,n,r)}}}]).directive("cpListRepayment",["listService",function(e){return{link:function(t,n,r){e.repaymentList(t,n,r)}}}]).directive("cpListAccountLogs",["listService",function(e){return{link:function(t,n,r){e.accountlogsList(t,n,r)}}}]).directive("cpListCreditApply",["listService",function(e){return{link:function(t,n,r){e.creditApplyList(t,n,r)}}}]).directive("cpListSaleableBond",["listService","$rootScope",function(e,t){return{link:function(n,r,i){e.saleableBondList(n,r,i,{success:function(e,n){t._bondConfig=n.data.bondConfig,t._discountRate=n.data.bondConfig.discountRateMin}})}}}]).directive("cpListSellingBond",["listService",function(e){return{link:function(t,n,r){e.sellingBond(t,n,r)}}}]).directive("cpListSoldBond",["listService",function(e){return{link:function(t,n,r){e.soldBondList(t,n,r)}}}]).directive("cpListBoughtBond",["listService",function(e){return{link:function(t,n,r){e.boughtBondList(t,n,r)}}}]).directive("cpListSoldBondDetail",["listService",function(e){return{link:function(t,n,r){
e.soldBondDetailList(t,n,r)}}}]).directive("cpListBoughtBondDetail",["listService",function(e){return{link:function(t,n,r){e.boughtBondDetailList(t,n,r)}}}]).directive("cpListStopBondRecord",["listService",function(e){return{link:function(t,n,r){e.stopBondRecordList(t,n,r)}}}]).directive("cpListLinks",["listService",function(e){return{link:function(t,n,r){e.linksList(t,n,r)}}}]).directive("cpListArticleNav",[function(){return{link:function(e,t,n){var r=n.varName,i=[{name:"平台简介",type:"5",state:"article.aboutus"},{name:"网站公告",type:"1",state:"article.webtips"},{name:"前沿资讯",type:"2",state:"article.news"},{name:"常见问题",type:"3",state:"article.faq"},{name:"法律声明",type:"4",state:"article.law"},{name:"联系我们",type:"6",state:"article.contactus"},{name:"安全保障",type:"7",state:"article"},{name:"招贤纳士",type:"8",state:"article"}];e[r]=i}}}]).directive("cpListBorrowInvestmentRecord",["listService",function(e){return{link:function(t,n,r){var i=t.$eval(r.cpListBorrowInvestmentRecord);e.borrowInvestmentRecordList(t,n,r,{params:{borrowId:i}})}}}]).directive("cpListBorrowInvestmentRank",["listService",function(e){return{link:function(t,n,r){var i=t.$eval(r.cpListBorrowInvestmentRank);e.borrowInvestmentRankList(t,n,r,{params:{borrowId:i}})}}}]).directive("cpListBorrowCollections",["listService","$rootScope",function(e,t){return{link:function(t,n,r){e.borrowCollectionsList(t,n,r)}}}]).directive("cpListUserMessage",["listService","$rootScope",function(e,t){return{link:function(t,n,r){e.userMessageList(t,n,r)}}}]).directive("cpListBondRepayPlan",["listService","$rootScope",function(e,t){return{link:function(t,n,r){t.$watch(r.cpListBondRepayPlan,function(i,a){"object"==typeof i&&e.bondRepayPlanList(t,n,r,{params:{borrowId:i.bond.borrowId,investmentId:i.bond.borrowInvestmentId,bondId:i.bond.id,bondStatus:i.bond.status}})})}}}]).directive("cpListBondTransferRecord",["listService","$rootScope",function(e,t){return{link:function(t,n,r){var i=t.$eval(r.cpListBondTransferRecord);e.bondTransferRecordList(t,n,r,{params:{bondId:i}})}}}]).directive("cpListIndustryInformation",["listService",function(e){return{link:function(t,n,r){e.industryInformationList(t,n,r)}}}]).directive("cpListWebsiteAnnouncement",["listService",function(e){return{link:function(t,n,r){e.websiteAnnouncementList(t,n,r)}}}])}),define("p2pSofa/services/form/formService",["angular","p2pSofa/services/common/commonService"],function(angular){mod_services.service("formService",["commonService","$parse","validationManager",function(cService,$parse,validationManager){var service;return service={formAjax:function(e,t,n,r,i){function a(){var e,n,r,i,a,o=["input","select","textarea"];for(i=0;i<o.length;i++)for(e=t.find(o[i]),a=0;a<e.length;a++)n=e[a],r=n.getAttribute("name"),void 0!=r&&n.value&&("capitalStr"==r||"investCapitalStr"==r?p[r]=fieldRSA(angular.element(n)):p[r]=n.value)}for(var o,s=["beforeSubmit","submitSuccess","submitFail"],c=[],l=void 0==n.action,u=n.url||i.url,d=n.ajaxMethod||i.method||"post",p=i.ajaxParams||{},f=0;f<s.length;f++)o=s[f],c[o]=n[o]||i[o];t[0].setAttribute("novalidate",!0),void 0!=n.disableEnter&&t.on("keypress",function(e){var t=e.keyCode||e.which;return 13==t?(e.preventDefault(),!1):void 0}),t.on("submit",function(n){if(r.$valid){if(0==$parse(c.beforeSubmit)(e,{form:r}))return;if(l&&(a(),cService.ajax({method:d,url:u,params:p}).success(function(t,n,r,i){$parse(c.submitSuccess)(e,{data:t,status:n,headers:r,config:i})}).error(function(t,n,r,i){$parse(c.submitFail)(e,{data:t,status:n,headers:r,config:i})})),e.investBorrowForm){console.log(e.investBorrowForm);var i=document.getElementsByTagName("input");if(i.length>0)for(var o in i){var s=document.getElementsByTagName("input")[o].type;"submit"==s&&(document.getElementsByTagName("input")[o].disabled=!0)}}}else validationManager.validateForm(t),n.preventDefault?n.preventDefault():n.returnValue=!1})},register:function(e,t,n,r,i){this.formAjax(e,t,n,r,angular.extend({url:"users/register"},i||{}))},investBorrow:function(e,t,n,r,i){t.on("submit",function(n){if(r.$valid){e.paid=!1,e.formUrl="investments";var i=angular.element(document.getElementById("investFunds")),a=fieldRSA(i);e.capitalStr=a;r.passwordDirect&&r.passwordDirect.$modelValue&&(e.passwordDirect=r.passwordDirect.$modelValue),cService.ajax({url:"investments/investCheck",method:"post",params:{capitalStr:e.capitalStr,borrowId:e.borrowData.id,redPacketIds:e.redPacketIds,passwordDirect:e.passwordDirect,token:e.borrowData.token}}).success(function(t,n,r,i){cService.removePopupDialog(),cService.popupDialog("template_investPay",e,{buttons:[],closeBtn:!1,wait:!1})})}else validationManager.validateForm(t),n.preventDefault?n.preventDefault():n.returnValue=!1})},investBond:function(e,t,n,r,i){t.on("submit",function(n){if(r.$valid){e.paid=!1,e.formUrl="bond/userBonds/investBond";var i=angular.element(document.getElementById("investFunds")),a=fieldRSA(i);e.capitalStr=a,r.passwordDirect&&r.passwordDirect.$modelValue&&(e.passwordDirect=r.passwordDirect.$modelValue),cService.ajax({url:"bond/userBonds/investBondCheck",method:"post",params:{investCapitalStr:e.capitalStr,id:e.bondData.bond.id,userId:e.bondData.bond.userId,token:e.bondData.bond.token}}).success(function(t,n,r,i){cService.removePopupDialog(),cService.popupDialog("template_bond_investPay",e,{buttons:[],closeBtn:!1,wait:!1})})}else validationManager.validateForm(t),n.preventDefault?n.preventDefault():n.returnValue=!1})},login:function(e,t,n,r,i){this.formAjax(e,t,n,r,angular.extend({url:"users/login",method:"post"},i||{}))},recharge:function(e,t,n,r,i){this.formAjax(e,t,n,r,angular.extend({url:"account/recharge/recharge",method:"get"},i||{}))},withdraw:function(e,t,n,r,i){this.formAjax(e,t,n,r,angular.extend({url:"account/cash/cashform",method:"get"},i||{}))},publishBond:function(e,t,n,r,i){this.formAjax(e,t,n,r,angular.extend({url:"bond/userBonds/publishBond",method:"post"},i||{}))},Credit:function(e,t,n,r,i){this.formAjax(e,t,n,r,angular.extend({url:"user/creditapply",method:"post"},i||{}))},getbackFirst:function(e,t,n,r,i){this.formAjax(e,t,n,r,angular.extend({url:"users/getPassword",method:"post"},i||{}))},getbackSecond:function(e,t,n,r,i){this.formAjax(e,t,n,r,angular.extend({url:"users/checkCode",method:"post"},i||{}))},getbackModifyPsw:function(e,t,n,r,i){this.formAjax(e,t,n,r,angular.extend({url:"users/modifyPassword",method:"post"},i||{}))},borrow:function(e,t,n,r,i){this.formAjax(e,t,n,r,angular.extend({url:"borrows/borrowApply",method:"post"},i||{}))},modifyPsw:function(e,t,n,r,i){this.formAjax(e,t,n,r,angular.extend({url:"users/updatePassword",method:"post"},i||{}))},bindEmail:function(e,t,n,r,i){this.formAjax(e,t,n,r,angular.extend({url:"users/emailAuth",method:"post"},i||{}))},modifyEmailFirst:function(e,t,n,r,i){this.formAjax(e,t,n,r,angular.extend({url:"users/checkCode",method:"post"},i||{}))},modifyEmailSecond:function(e,t,n,r,i){this.formAjax(e,t,n,r,angular.extend({url:"users/modifyEmail",method:"post"},i||{}))},paymentAccount:function(e,t,n,r,i){t.on("submit",function(){r.$valid&&(e.identified=!1,cService.ajax({url:"account/paymentaccount/paymentAccountCheck",method:"post",params:{realName:e.formParams.realName,idNo:e.formParams.idNo}}).success(function(t,n,r,i){cService.removePopupDialog(),cService.popupDialog("template_accountIdentify",e,{buttons:[],wait:!1})}))})},paymentAccountCorp:function(e,t,n,r,i){t.on("submit",function(){r.$valid&&(e.identified=!1,cService.ajax({url:"account/paymentaccount/paymentAccountCheck",method:"post",params:{corpName:e.formParams.corpName,businessLicenceCode:e.formParams.businessLicenceCode}}).success(function(t,n,r,i){cService.removePopupDialog(),cService.popupDialog("template_accountIdentify",e,{buttons:[],wait:!1})}))})},modifyPhoneFirst:function(e,t,n,r,i){this.formAjax(e,t,n,r,angular.extend({url:"users/phoneAuth",method:"post"},i||{}))},modifyPhoneSecond:function(e,t,n,r,i){this.formAjax(e,t,n,r,angular.extend({url:"users/phoneModify",method:"post"},i||{}))},withdrawalsPay:function(scope,elem,attrs,form,opts){elem.on("click",function(e){if(scope.form1.$valid){var xmlHttpRequest=null;window.ActiveXObject?xmlHttpRequest=new ActiveXObject("Microsoft.XMLHTTP"):window.XMLHttpRequest&&(xmlHttpRequest=new XMLHttpRequest),xmlHttpRequest.onreadystatechange=function(){if(4==xmlHttpRequest.readyState)if(200==xmlHttpRequest.status)document.form1.submit(),alert("<div id='popupDialog'>请前往新打开窗口去完成提现操作，提现完成前不要关掉本窗口！</div>",{buttons:[{type:"button",value:"提现成功",callBack:function(){window.location.reload()}},{type:"button",value:"提现失败",callBack:function(){window.location.reload()}}]});else{var json=eval("("+xmlHttpRequest.responseText+")");alert(json.message)}};var url="cashStr="+scope.formData.cashStr+"&token="+scope.token;scope.formData.bankId&&(url+="&bankId="+scope.formData.bankId),xmlHttpRequest.open("POST","account/cash/cashCheck?"+url,!1),xmlHttpRequest.setRequestHeader("X-Requested-With","XMLHttpRequest"),xmlHttpRequest.send(null)}})},rechargePay:function(scope,elem,attrs,form,opts){elem.on("click",function(e){if(scope.form2.$valid){var xmlHttpRequest=null;window.ActiveXObject?xmlHttpRequest=new ActiveXObject("Microsoft.XMLHTTP"):window.XMLHttpRequest&&(xmlHttpRequest=new XMLHttpRequest),xmlHttpRequest.onreadystatechange=function(){if(4==xmlHttpRequest.readyState)if(200==xmlHttpRequest.status)document.form2.submit(),alert("<div id='popupDialog'>请前往新打开窗口去完成充值操作，充值完成前不要关掉本窗口！</div>",{buttons:[{type:"button",value:"充值成功",callBack:function(){window.location.reload()}},{type:"button",value:"充值失败",callBack:function(){window.location.reload()}}]});else{var json=eval("("+xmlHttpRequest.responseText+")");alert(json.message)}},xmlHttpRequest.open("POST","account/recharge/rechargeCheck?cashStr="+scope.formData1.cashStr+"&rechargeType="+scope.formData1.rechargeType+"&token="+scope.token,!1),xmlHttpRequest.setRequestHeader("X-Requested-With","XMLHttpRequest"),xmlHttpRequest.send(null)}})}}}])}),define("p2pSofa/services/do/doService",["angular","p2pSofa/services/common/commonService"],function(e){mod_services.service("doService",["commonService","$parse","$rootScope",function(t,n,r){var i;return i={doAjax:function(r,i,a,o){function s(){return n(u.beforeDo)(r,{}),t.ajax({method:p,url:d,params:f}).success(function(e,t,i,a){n(u.doSuccess)(r,{data:e}),m&&(e.reload=s,r[m]=e)}).error(function(e,i,a,o){t.removePopupDialog(),n(u.doFail)(r,{data:e})})}"object"!=typeof o&&(o={}),"object"!=typeof o.params&&(o.params={}),o.params=e.extend(o.params,a.params?r.$eval(a.params):{});for(var c,l=["beforeDo","doSuccess","doFail"],u=[],d=a.url||o.url,p=a.method||o.method||"get",f=o.params,m=a.varName||o.varName,h=0;h<l.length;h++)c=l[h],u[c]=a[c]||o[c];return s()},gotoEmail:function(e,t,n,r){var i=r.match(/@([\w\W]*)\./);i&&(i=i[1],window.open("http://mail."+i+".com"))},sendActivateEmail:function(e,t,n,r){return this.doAjax(e,t,n,{url:"users/sentActivateEmail",method:"get",params:{username:r}})},stopBond:function(t,n,r,i){return this.doAjax(t,n,r,e.extend({url:"bond/userBonds/stopBond/"+i.bondId,method:"post"},i))},registerProtocol:function(t,n,r,i){return this.doAjax(t,n,r,e.extend({url:"users/getRegisterProtocolContext",method:"get"},i))},sendCode:function(e,t,n,i){"borrow"==n.sendcodeType?this.sendBorrowCode(e,t,n,i):"register"==n.sendcodeType?this.sendRegisterCode(e,t,n,i):"getbackEmail"==n.sendcodeType?(i[n.cpDoSendCode]=r.getbackEmail,this.sendGetbackCode(e,t,n,i)):"getbackPhone"==n.sendcodeType?(i[n.cpDoSendCode]=r.getbackPhone,this.sendGetbackCode(e,t,n,i)):"accountSetBindEmail"==n.sendcodeType?this.sendAccountSetBindEmailCode(e,t,n,i):"accountSetModifyEmailFirst"==n.sendcodeType?this.sendAccountSetModifyEmailFirst(e,t,n,i):"accountSetModifyEmailSecond"==n.sendcodeType?this.accountSetModifyEmailSecond(e,t,n,i):"modifyPhoneFirst"==n.sendcodeType?(i[n.cpDoSendCode]=r.user.phone,this.modifyPhoneFirst(e,t,n,i)):"modifyPhoneSecond"==n.sendcodeType&&this.modifyPhoneSecond(e,t,n,i)},sendRegisterCode:function(t,n,r,i){return this.doAjax(t,n,r,e.extend({params:i},{url:"users/sendCode",method:"post"}))},sendGetbackCode:function(t,n,r,i){return this.doAjax(t,n,r,e.extend({params:i},{url:"users/getPasswordCode",method:"post"}))},sendBorrowCode:function(t,n,r,i){return i.phone=i[r.cpDoSendCode],delete i[r.cpDoSendCode],this.doAjax(t,n,r,e.extend({params:i},{url:"borrows/sendCode",method:"get"},i||{}))},borrowsPayback:function(t,n,r,i){return this.doAjax(t,n,r,e.extend({url:"repayments/corpRepay?id="+i.backId+"&token="+i.token,method:"get"},i))},sendAccountSetBindEmailCode:function(t,n,r,i){return this.doAjax(t,n,r,e.extend({params:i},{url:"users/sendBindCode",method:"post"}))},sendAccountSetModifyEmailFirst:function(t,n,r,i){return this.doAjax(t,n,r,e.extend({params:i},{url:"users/sendCheckCode",method:"post"}))},accountSetModifyEmailSecond:function(t,n,r,i){return this.doAjax(t,n,r,e.extend({params:i},{url:"users/sendCheckCodeSecond",method:"post"}))},operateUserMessage:function(t,n,r,i){return this.doAjax(t,n,r,e.extend({url:"user/message/"+i.arr.join(",")+"/"+i.operate,method:"get"},i||{}))},viewUserMessage:function(t,n,r,i){return this.doAjax(t,n,r,e.extend({url:"user/message/"+i.id,method:"get"},i||{}))},modifyPhoneFirst:function(t,n,r,i){return this.doAjax(t,n,r,e.extend({params:i},{url:"users/sendPhoneCode",method:"post"}))},modifyPhoneSecond:function(t,n,r,i){return this.doAjax(t,n,r,e.extend({params:i},{url:"users/sendPhoneCode",method:"post"}))},bondDetailProtocolPreview:function(t,n,r,i){return this.doAjax(t,n,r,e.extend({url:"bond/userBonds/bondProtocolPreviewSell",method:"get"},i||{}))}}}])}),define("p2pSofa/directives/form/formDirectives",["angular","p2pSofa/services/form/formService","p2pSofa/services/do/doService","p2pSofa/services/common/commonService"],function(e){function t(e){var t,n;for(t=0,n="";e>t;t++)n+="*";return n}function n(e,n,r){var i;return i=e.substr(0,n),i+t(r)+e.substr(r+i.length)}function r(e){var t=e.indexOf("@");return str1=e.substr(0,t),n(str1,1,str1.length-2)+e.substr(t)}mod_directives.directive("cpForm",["formService",function(e){return{require:"?form",link:function(t,n,r,i){e.formAjax(t,n,r,i,{url:r.url,method:r.method})}}}]).directive("cpFormRegister",["formService","$state","$cookieStore","$rootScope",function(e,t,n,r){return{require:"?form",link:function(i,a,o,s){e.register(i,a,o,s,{submitSuccess:function(e,i){r.user=i.data,r.login.beforeLogin=!1,r.login.afterLogin=!0,n.put("curUser",i.data),t.go("register.activateEmailSucc")}})}}}]).directive("cpFormInvestBorrow",["formService","commonService",function(e,t){return{require:"?form",link:function(t,n,r,i){e.investBorrow(t,n,r,i)}}}]).directive("cpFormInvestBond",["formService","commonService",function(e,t){return{require:"?form",link:function(n,r,i,a){e.investBond(n,r,i,a,{submitSuccess:function(e,n){e.payUrl=n.data,t.popupDialog("template_investPay",e,{buttons:[],closeBtn:!1})}})}}}]).directive("cpFormLogin",["formService",function(e){return{require:"?form",link:function(t,n,r,i){e.login(t,n,r,i)}}}]).directive("cpFormRecharge",["formService",function(e){return{require:"?form",link:function(t,n,r,i){e.recharge(t,n,r,i)}}}]).directive("cpFormWithdraw",["formService",function(e){return{require:"?form",link:function(t,n,r,i){e.withdraw(t,n,r,i)}}}]).directive("cpFormPublishBond",["formService","$rootScope",function(e,t){return{require:"?form",link:function(n,r,i,a){e.publishBond(n,r,i,a,{beforeSubmit:function(){t._showSellBondForm=!1},submitSuccess:function(e,n){alert("发布成功"),t._sellableBondData&&t._sellableBondData.reload()}})}}}]).directive("cpFormCredit",["formService",function(e){return{require:"?form",link:function(t,n,r,i){e.Credit(t,n,r,i,{submitSuccess:function(e,t){alert("申请成功",{buttons:[{type:"button",value:"确定",callBack:function(){location.reload()}}]})}})}}}]).directive("cpFormGetbackEmailFirst",["formService","$rootScope","$cookieStore",function(e,t,n){return{require:"?form",link:function(r,i,a,o){e.getbackFirst(r,i,a,o,{submitSuccess:function(){t.getbackEma=!0,i.find("img")[0].setAttribute("src","validCode?t="+Math.random()),t.getbackEmail=o.email.$viewValue,n.put(a.cpFormGetbackEmailFirst,60)},submitFail:function(){i.find("img")[0].setAttribute("src","validCode?t="+Math.random())}})}}}]).directive("cpFormGetbackEmailSecond",["formService","$rootScope","$state",function(e,t,n){return{require:"?form",link:function(t,r,i,a){e.getbackSecond(t,r,i,a,{submitSuccess:function(){n.go("login.modifyPsw")}})}}}]).directive("cpFormGetbackPhoneFirst",["formService","$rootScope","$cookieStore",function(e,t,n){return{require:"?form",link:function(r,i,a,o){e.getbackFirst(r,i,a,o,{submitSuccess:function(){t.getbackMob=!0,i.find("img")[0].setAttribute("src","validCode?t="+Math.random()),t.getbackPhone=o.phone.$viewValue,n.put(a.cpFormGetbackPhoneFirst,60)},submitFail:function(){i.find("img")[0].setAttribute("src","validCode?t="+Math.random())}})}}}]).directive("cpFormGetbackPhoneSecond",["formService","$rootScope","$state",function(e,t,n){return{require:"?form",link:function(t,r,i,a){e.getbackSecond(t,r,i,a,{submitSuccess:function(){n.go("login.modifyPsw")}})}}}]).directive("cpFormGetbackModifyPsw",["formService","$state",function(e,t){return{require:"?form",link:function(n,r,i,a){e.getbackModifyPsw(n,r,i,a,{submitSuccess:function(){t.go("login.modifySuc")}})}}}]).directive("cpFormBorrow",["formService","$state",function(e,t){return{require:"?form",link:function(n,r,i,a){e.borrow(n,r,i,a,{submitSuccess:function(){alert("您好！您的借款申请已成功提交，请耐心等待业务人员联系您!",{closeBtn:!1,buttons:[{type:"button",value:"确定",callBack:function(){t.go("home")}}]})}})}}}]).directive("cpFormModifyPsw",["formService",function(e){return{require:"?form",link:function(t,n,r,i){e.modifyPsw(t,n,r,i,{submitSuccess:function(e){t.showPsw=!1,confirm("修改登录密码成功",{},2e3),n[0].reset()}})}}}]).directive("cpFormBindEmail",["formService","$rootScope","$cookieStore",function(e,t,n){return{require:"?form",link:function(t,i,a,o){e.bindEmail(t,i,a,o,{submitSuccess:function(e){t.bindEma=!1,t.isEmail=!0;var i=n.get("curUser");i.email=o.email.$viewValue,i.emailStatus=!0,n.put("curUser",i),t.validCode="",t.bindEmail=r(o.email.$viewValue),confirm("邮箱绑定成功",{})}})}}}]).directive("cpFormModifyEmailFirst",["formService","$rootScope","$cookieStore",function(e,t,n){return{require:"?form",link:function(t,n,r,i){e.modifyEmailFirst(t,n,r,i,{submitSuccess:function(e){e&&(t.emailFir=!0,t.emailSec=!0,t.email="",t.validCode="")}})}}}]).directive("cpFormModifyEmailSecond",["formService","$rootScope","$cookieStore",function(e,t,n){return{require:"?form",link:function(i,a,o,s){e.modifyEmailSecond(i,a,o,s,{submitSuccess:function(e){i.emailFir=!1,i.emailSec=!1,i.showEma=!1,t.user.email=s.email.$viewValue;var a=t.user;n.put("curUser",a),i.bindEmail=r(s.email.$viewValue),i.email="",i.validCode="",confirm("修改邮箱成功",{})}})}}}]).directive("cpFormPaymentAccount",["formService","commonService","$cookieStore","$state","$rootScope",function(e,t,n,r,i){return{require:"?form",link:function(t,n,r,i){e.paymentAccount(t,n,r,i)}}}]).directive("cpFormPaymentAccountCorp",["formService","commonService","$cookieStore","$state","$rootScope",function(e,t,n,r,i){return{require:"?form",link:function(t,n,r,i){e.paymentAccountCorp(t,n,r,i)}}}]).directive("cpFormModifyPhoneFirst",["formService","$rootScope",function(e,t){return{require:"?form",link:function(t,n,r,i){e.modifyPhoneFirst(t,n,r,i,{submitSuccess:function(){t.validCode1="",t.MobileModify=!1}})}}}]).directive("cpFormModifyPhoneSecond",["formService","$rootScope","$cookieStore",function(e,t,r){return{require:"?form",link:function(i,a,o,s){e.modifyPhoneSecond(i,a,o,s,{submitSuccess:function(){t.user.phone=i.phone,r.put("curUser",t.user),i.userPhone=n(i.phone,5,4),i.phone="",i.validCode1="",s.$setPristine(),i.MobileModify=!0,i.showMob=!1,confirm("手机号码修改成功！",{})}})}}}]).directive("cpFormWithdrawalsPay",["formService","commonService",function(e,t){return{require:"?form",link:function(t,n,r,i){e.withdrawalsPay(t,n,r,i)}}}]).directive("cpFormRechargePay",["formService","commonService",function(e,t){return{require:"?form",link:function(t,n,r,i){e.rechargePay(t,n,r,i)}}}]).directive("cpFormRealName",["formService","commonService",function(e,t){return{require:"?form",link:function(t,n,r,i){e.realName(t,n,r,i)}}}]).directive("cpFormCorpName",["formService","commonService",function(e,t){return{require:"?form",link:function(t,n,r,i){e.corpName(t,n,r,i)}}}])}),define("p2pSofa/services/valid/validService",["angular","p2pSofa/services/common/commonService"],function(e){mod_services.service("validService",["commonService",function(t){var n,r=/^(?![0-9]+$)(?![a-zA-Z]+$)[a-zA-Z0-9]{4,16}$/,i=/^(?![0-9]+$)(?![a-zA-Z]+$)[a-zA-Z0-9]{4,16}$|^$/,a=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})$/,o=/^(?![a-zA-Z]+$)(?!\d+$)[0-9A-Za-z]{8,16}$/,s=/^(?!\.)[\d]*[.]?[\d]*$/,c=/^1[3|4|5|7|8]\d{9}$/;return n={validators:{min:function(t,n,r,i,a){a=e.extend({errorName:"cp-valid-min"},a||{});var o,s=a.errorName,c=a.attrName;return function(e){return o=t.$eval(c),i.$setValidity(s,e>=o),e}},max:function(t,n,r,i,a){a=e.extend({errorName:"cp-valid-max"},a||{});var o,s=a.errorName,c=a.attrName;return function(e){return o=t.$eval(c),i.$setValidity(s,o>=e),e}},number:function(t,n,r,i,a){a=e.extend({errorName:"cp-valid-number"},a||{});var o=a.errorName;return function(e){return i.$setValidity(o,e&&e.match(s)),e}}},captcha:function(e,t,n){function r(){t[0].setAttribute("src","validCode?t="+Math.random())}t.on("click",function(){r()}),r()},refreshCaptcha:function(e){e.src="validCode?t="+Math.random()},pattern:function(t,n,r,i,a){function o(e){return e=e||"",e.match(s)?i.$setValidity(c,!0):i.$setValidity(c,!1),e}var a=e.extend({},a||{}),s=a.reg,c=a.errorName;i.$parsers.push(o),i.$formatters.push(o)},remote:function(n,r,i,a,o){var o=e.extend({url:"",method:"post"},o||{}),s=o.url,c=o.method,l=o.params||{},u=o.errorName;r.on("focus",function(){a.$setValidity(u,!0)}),r.on("blur",function(){a.$valid&&a.$viewValue&&(newVal=this.value,l[this.name]=a.$viewValue,t.ajax({url:s,method:c,params:l}).success(function(e){"true"==e||""==e?a.$setValidity(u,!0):a.$setValidity(u,!1)}).error(function(){a.$setValidity(u,!1)}))})},username:function(e,t,n,i){this.pattern(e,t,n,i,{reg:r,errorName:n.usernameErrorType||"cp-valid-username"})},invite:function(e,t,n,r){this.pattern(e,t,n,r,{reg:i,errorName:n.usernameErrorType||"cp-valid-username"})},remoteUsername:function(e,t,n,r){this.remote(e,t,n,r,{url:"users/checkUsername",errorName:n.remoteUsernameErrorType||"cp-valid-remote-username"})},remoteInvite:function(e,t,n,r){this.remote(e,t,n,r,{url:"users/checkInviteUser",errorName:n.remoteInviteErrorType||"cp-valid-remote-friend"})},email:function(e,t,n,r){this.pattern(e,t,n,r,{reg:a,errorName:n.emailErrorType||"cp-valid-email"})},remoteEmail:function(e,t,n,r){this.remote(e,t,n,r,{url:"users/checkEmail",errorName:n.remoteUsernameErrorType||"cp-valid-remote-email"})},password:function(e,t,n,r){this.pattern(e,t,n,r,{reg:o,errorName:n.passwordErrorType||"cp-valid-password"})},phone:function(e,t,n,r){this.pattern(e,t,n,r,{reg:c,errorName:n.phoneErrorType||"cp-valid-phone"})},remotePhone:function(e,t,n,r){this.remote(e,t,n,r,{url:"users/checkPhone",errorName:n.remotePhoneErrorType||"cp-valid-remote-phone"})}}}])}),define("p2pSofa/directives/valid/validDirectives",["angular","p2pSofa/services/valid/validService","p2pSofa/services/common/commonService"],function(){mod_directives.directive("cpValidCaptcha",["validService",function(e){return{link:function(t,n,r){e.captcha(t,n,r)}}}]).directive("cpValidPattern",["validService",function(e){return{restrict:"A",require:"ngModel",link:function(t,n,r,i){e.pattern(t,n,r,i,{reg:new RegExp(r.pattern),errorName:r.patternErrorType})}}}]).directive("cpValidUsername",["validService",function(e){return{restrict:"A",require:"ngModel",link:function(t,n,r,i){e.username(t,n,r,i),"false"!=r.noRepeat&&e.remoteUsername(t,n,r,i)}}}]).directive("cpValidInvite",["validService",function(e){return{restrict:"A",require:"ngModel",link:function(t,n,r,i){e.invite(t,n,r,i),"false"!=r.noRepeat&&e.remoteInvite(t,n,r,i)}}}]).directive("cpValidEmail",["validService","commonService",function(e,t){return{restrict:"A",require:"ngModel",link:function(n,r,i,a){function o(e){s.style.display=e||void 0==e?"block":"none"}var s,c,l=void 0!=i.noRepeat&&"false"!=i.noRepeat,u=void 0!=i.showTipbox&&"false"!=i.showTipbox,d=["qq","126","163","sohu","sina","gmail"],p=r[0];e.email(n,r,i,a),l&&e.remoteEmail(n,r,i,a),u&&(c=p.parentNode,c.style.position="relative",s=document.createElement("ul"),s.className="cp-validate-email-tipbox",t.setStyle(s,{display:"none",position:"absolute","box-sizing":"border-box",width:p.offsetWidth+"px","background-color":t.GetCurrentStyle(p,"background-color"),border:t.GetCurrentStyle(p,"border"),"border-top":"none","z-index":999}),c.appendChild(s),r.on("keyup",function(e){for(var t=0,n="",r=/@[.\w]*$/;t<d.length;t++)n+="<li><a>"+this.value.replace(r,"")+"@"+d[t]+".com</a></li>";s.innerHTML=n,o(),angular.element(s).find("a").on("click",function(){p.value=this.textContent?this.textContent:this.innerText,o(!1),a.$setViewValue(p.value)})}).on("dblclick",function(){o()}).on("blur",function(){setTimeout(function(){o(!1)},300)}))}}}]).directive("cpValidPassword",["validService",function(e){return{restrict:"A",require:"ngModel",link:function(t,n,r,i){e.password(t,n,r,i)}}}]).directive("cpValidPhone",["validService",function(e){return{restrict:"A",require:"ngModel",link:function(t,n,r,i){e.phone(t,n,r,i),"false"!=r.noRepeat&&e.remotePhone(t,n,r,i)}}}]).directive("cpValidConfirm",[function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,r){function i(){return r.$setValidity(n.confirmErrorType||"cp-valid-confirm",r.$viewValue==e.$eval(n.cpValidConfirm)),r.$viewValue}e.$watch(n.cpValidConfirm,i),r.$parsers.push(i)}}}]).directive("cpValidMin",["validService",function(e){return{restrict:"A",require:"ngModel",compile:function(t,n){var r=n.cpValidMin.replace(/[{}]/g,"");return function(t,n,i,a){t.$watch(r,function(){a.$viewValue||0==a.$viewValue&&a.$setViewValue(a.$viewValue)});var o=[],s=0;for(o.push(e.validators.min(t,n,i,a,{attrName:r})),o.push(e.validators.number(t,n,i,a,{}));s<o.length;s++)a.$parsers.push(o[s]),a.$formatters.push(o[s])}}}}]).directive("cpValidMax",["validService",function(e){return{restrict:"A",require:"ngModel",compile:function(t,n){var r=n.cpValidMax.replace(/[{}]/g,"");return function(t,n,i,a){t.$watch(r,function(){a.$viewValue||0==a.$viewValue&&a.$setViewValue(a.$viewValue)});var o=[],s=0;for(o.push(e.validators.max(t,n,i,a,{attrName:r})),o.push(e.validators.number(t,n,i,a,{}));s<o.length;s++)a.$parsers.push(o[s]),a.$formatters.push(o[s])}}}}]).directive("cpValidInvestValue",["validService","$rootScope",function(e,t){return{restrict:"A",require:"ngModel",link:function(e,n,r,i){function a(e){s=e,c=s.investMax,l=s.investMin,u=s.amountInvestable,d=s.useableBalanceAvailable,p=0==c?Math.min(u,d):Math.min(u,d,c),n.attr("investMax",c),n.attr("investMin",l),n.attr("amountInvestable",u),n.attr("limitMax",p)}function o(e){return t.user.id?(f=0,1!=t.user.realNameStatus?f=1:!e||l>e&&u>s.investMin?f=2:e>d?f=4:e>p&&(f=3),3==t.user.realNameStatus&&(f=5),i.$setValidity("cp-valid-invest-value",!f),n.attr("errorType",f),e):void 0}var s,c,l,u,d,p,f,m,h=!1;0!=r.forbidenEnter&&e.$watch(i.$name,function(t,n){3==f||4==f?h?e[i.$name]=m:(h=!0,m=t):h=!1}),e.$watch(r.cpValidInvestValue,function(e,t){"object"==typeof e&&a(e)}),i.$parsers.push(o),i.$formatters.push(o),e.validator=function(e){return t.user.id?(f=0,1!=t.user.realNameStatus?f=1:e>d&&(f=4),3==t.user.realNameStatus&&(f=5),i.$setValidity("cp-valid-invest-value",!f),n.attr("errorType",f),e):void 0}}}}]).directive("cpValidInvestBondValue",["validService","$rootScope",function(e,t){return{restrict:"A",require:"ngModel",link:function(e,n,r,i){function a(e){s=e,s.account&&s.account.balanceAvailable?c=s.account.balanceAvailable:0}function o(e){return t.user.id?(l=0,1!=t.user.realNameStatus?l=1:e>c&&(l=4),3==t.user.realNameStatus&&(l=5),i.$setValidity("cp-valid-invest-bond-value",!l),n.attr("errorType",l),e):void 0}var s,c,l;e.$watch(r.cpValidInvestBondValue,function(e,t){"object"==typeof e&&a(e)}),i.$parsers.push(o),i.$formatters.push(o)}}}])}),define("p2pSofa/services/info/infoService",["angular","p2pSofa/services/do/doService","p2pSofa/services/common/commonService"],function(e){mod_services.service("infoService",["commonService","$parse","doService","$rootScope","$cookieStore",function(t,n,r,i,a){var o,s="account/cashAccount",c="account/recharge/getBank",l="account/recharge/getRechargeBanks",u="userInvite",d="bond/userBonds/bondProtocolPreviewSell",p="bond/userBonds/bondProtocolPreviewSell",f="bond/userBonds/bondSellProtocol",m="bond/userBonds/bondBuyProtocolPreview",h="bond/userBonds/bondBuyProtocol",g="borrows",v="bond/bonds/bondDetail",b="borrows/borrowProtocolPreview",w="borrows/investorProtocolDownload";return o={accountCash:function(t,n,i,a){return r.doAjax(t,n,i,e.extend({url:s,method:"get"},a||{}))},accountBank:function(t,n,i,a){return r.doAjax(t,n,i,e.extend({url:c,method:"get"},a||{}))},rechargeBanks:function(t,n,i,a){return r.doAjax(t,n,i,e.extend({url:l,method:"get"},a||{}))},userInviteLink:function(t,n,i,a){return r.doAjax(t,n,i,e.extend({url:u,method:"get"},a||{}))},sellBondProtocol:function(t,n,i,a){return r.doAjax(t,n,i,e.extend({url:d,method:"get",params:{borrowInvestmentId:a.bond.borrowInvestmentId}},a||{}))},soldBondProtocol:function(t,n,i,a){return r.doAjax(t,n,i,e.extend({url:p,method:"get",params:{bondId:a.bond.id,userId:a.bond.userId}},a||{}))},borrowsBorrowProtocol:function(t,n,i,a){return r.doAjax(t,n,i,e.extend({url:b,method:"get",params:{borrowId:a.bond.borrowId,investmentId:a.bond.id}},a||{}))},borrowsSeeProtocol:function(t,n,i,a){return r.doAjax(t,n,i,e.extend({url:b,method:"get",params:{borrowId:a.bond.id,investmentId:a.bond.investmentId,isBorrowProtocol:1}},a||{}))},borrowsBorrowDownload:function(t,n,i,a){return r.doAjax(t,n,i,e.extend({url:w,method:"get",params:{borrowId:a.bond.borrowId,investmentId:a.bond.id}},a||{}))},borrowsRepayment:function(t,n,i,a){return r.doAjax(t,n,i,e.extend({url:"repayments",method:"post",params:{id:a.back.id}},a||{}))},soldBondProtocolDownload:function(t,n,i,a){return r.doAjax(t,n,i,e.extend({url:f,method:"get",params:{bondId:a.bond.id,userId:a.bond.userId}},a||{}))},boughtBondProtocol:function(t,n,i,a){return r.doAjax(t,n,i,e.extend({url:m,method:"get",params:{bondInvestmentId:a.bond.id}},a||{}))},boughtBondProtocolDownload:function(t,n,i,a){return r.doAjax(t,n,i,e.extend({url:h,method:"get",params:{bondInvestmentId:a.bond.id}},a||{}))},borrowProtocol:function(t,n,i,a){return r.doAjax(t,n,i,e.extend({url:"borrows/borrowProtocolPreview",method:"get",params:{borrowId:a.id}},a||{}))},borrowDetail:function(t,n,i,a){return r.doAjax(t,n,i,e.extend({url:g+"/"+a.id,method:"get"},a||{}))},bondDetail:function(t,n,i,a){return r.doAjax(t,n,i,e.extend({url:v,method:"get"},a||{}))},userInfo:function(t,n,o,s){return r.doAjax(t,n,o,e.extend({url:"users/userInfo",method:"get",doSucess:function(e,t){i.user=t.data,a.put("curUser",t.data)}},s||{}))}}}])}),define("p2pSofa/directives/do/doDirectives",["angular","p2pSofa/services/do/doService","p2pSofa/services/info/infoService","p2pSofa/services/common/commonService"],function(e){var t=null;mod_directives.directive("cpDo",["doService",function(e){return{link:function(t,n,r){n.on("click",function(){e.doAjax({url:r.url,method:r.method})})}}}]).directive("cpDoGotoEmail",["doService","$rootScope",function(e,t){return{link:function(n,r,i){var a=(t.cookie("regParams"),"test@qq.com");r.on("click",function(){e.gotoEmail(n,r,i,a)})}}}]).directive("cpDoSendActivateEmail",["doService",function(e){return{link:function(t,n,r){n.on("click",function(){var i="zhua1";e.sendActivateEmail(t,n,r,i)})}}}]).directive("cpDoSellBond",["doService","$rootScope",function(e,t){return{link:function(e,n,r){n.on("click",function(){t._sellableBondData=e.$eval(r.sellableBondData),
t._selectedBond=e.$eval(r.cpDoSellBond),t._showSellBondForm=!0,e.$apply()}),e.$on("$destroy",function(){t._sellableBondData=null,t._selectedBond=null,t._showSellBondForm=!1})}}}]).directive("cpDoBackSellableBondList",["doService","$rootScope",function(e,t){return{link:function(e,n,r){n.on("click",function(){t._showSellBondForm=!1,e.$apply(),e.reload()})}}}]).directive("cpDoStopBond",["doService",function(e){return{link:function(t,n,r){n.on("click",function(){e.stopBond(t,n,r,{bondId:t.$eval(r.cpDoStopBond).id,doSuccess:function(){alert("撤销成功"),t.bondData&&t.bondData.reload()}})})}}}]).directive("cpDoSellBondProtocolPreview",["commonService","$rootScope",function(e,n){return{link:function(r,i,a){i.on("click",function(){n._selectedBond=r.$eval(a.cpDoSellBondProtocolPreview),e.removePopupDialog(),t=e.popupDialog("template_sellBondProtocolPreview",r,{type:"no-icon",buttons:[],css:{width:"1000px"}})})}}}]).directive("cpDoSoldBondProtocolPreview",["commonService","$rootScope",function(e,n){return{link:function(r,i,a){i.on("click",function(){n._selectedBond=r.$eval(a.cpDoSoldBondProtocolPreview),e.removePopupDialog(),t=e.popupDialog("template_soldBondProtocolPreview",r,{type:"no-icon",buttons:[],css:{width:"1000px"}})})}}}]).directive("cpDoBoughtBondProtocolPreview",["commonService","$rootScope",function(e,n){return{link:function(r,i,a){i.on("click",function(){n._selectedBond=r.$eval(a.cpDoBoughtBondProtocolPreview),e.removePopupDialog(),t=e.popupDialog("template_boughtBondProtocolPreview",r,{type:"no-icon",buttons:[],css:{width:"1000px"}})})}}}]).directive("cpDoBorrowsBorrowProtocolPreview",["commonService","$rootScope",function(e,n){return{link:function(r,i,a){i.on("click",function(){n._selectedRecord=r.$eval(a.cpDoBorrowsBorrowProtocolPreview),e.removePopupDialog(),t=e.popupDialog("template_borrowsBorrowProtocolPreview",r,{type:"no-icon",buttons:[],css:{width:"1000px",height:"440px"}})})}}}]).directive("cpDoBorrowsProtocolPreview",["commonService","$rootScope",function(e,n){return{link:function(r,i,a){i.on("click",function(){n._selectedRecord=r.$eval(a.cpDoBorrowsProtocolPreview),e.removePopupDialog(),t=e.popupDialog("template_borrowsProtocolPreview",r,{type:"no-icon",buttons:[],css:{width:"1000px",height:"440px"}})})}}}]).directive("cpDoBorrowsBorrowProtocolDownload",["commonService","$rootScope",function(e,n){return{link:function(r,i,a){i.on("click",function(){n._selectedRecord=r.$eval(a.cpDoBorrowsBorrowProtocolDownload),e.removePopupDialog(),t=e.popupDialog("template_borrowsBorrowProtocolDownloadTip",r,{type:"no-icon",buttons:[],css:{}})})}}}]).directive("cpDoBorrowsSeeProtocolDownload",["commonService","$rootScope",function(e,n){return{link:function(r,i,a){i.on("click",function(){n._selectedRecord=r.$eval(a.cpDoBorrowsSeeProtocolDownload),e.removePopupDialog(),t=e.popupDialog("template_borrowsSeeProtocolDownloadTip",r,{type:"no-icon",buttons:[],css:{width:"350px"}})})}}}]).directive("cpDoBorrowCollections",["commonService","$rootScope",function(e,n){return{link:function(r,i,a){i.on("click",function(){n._selectedRecord=r.$eval(a.cpDoBorrowCollections),e.removePopupDialog(),t=e.popupDialog("template_backRecord",r,{type:"no-icon",buttons:[],css:{width:"1000px",height:"400px"}})})}}}]).directive("cpDoBorrowsRepayment",["cService","$rootScope","commonService",function(e,n,r){return{link:function(i,a,o){n._selectedRepayment=i.$eval(o.cpDoBorrowsRepayment),a.on("click",function(){e.ajax({url:"repayments",method:"post",params:{id:o.itemId}}).success(function(e,a,s,c){i.repaymentData=e,n._selectedRepayment=i.$eval(o.cpDoBorrowsRepayment),r.removePopupDialog(),i.paid=!1,t=r.popupDialog("template_payBack",i,{title:"还款提示",type:"no-icon",buttons:[],css:{width:"350px"}})})})}}}]).directive("cpDoBorrowsPayback",["doService",function(e){return{link:function(n,r,i){r.on("click",function(){e.borrowsPayback(n,r,i,{backId:n.$eval(i.cpDoBorrowsPayback).id,token:n.$eval(i.cpDoBorrowsPayback).token,doSuccess:function(){t.close(t),alert("恭喜您，已成功完成还款！",{buttons:[{type:"button",value:"确定",callBack:function(){location.reload()}}]})}})})}}}]).directive("cpDoClosePopupdialog",["commonService","$rootScope",function(e,t){return{link:function(t,n,r){n.on("click",function(){e.removePopupDialog()})}}}]).directive("cpDoReloadPopupdialog",["commonService","$rootScope",function(e,t){return{link:function(e,t,n){t.on("click",function(){location.reload()})}}}]).directive("cpDoSoldBondProtocolDownload",["commonService","$rootScope",function(e,n){return{link:function(r,i,a){i.on("click",function(){n._selectedBond=r.$eval(a.cpDoSoldBondProtocolDownload),e.removePopupDialog(),t=e.popupDialog("template_soldBondProtocolDownloadTip",r,{type:"no-icon",buttons:[],css:{width:"350px"}})})}}}]).directive("cpDoBoughtBondProtocolDownload",["commonService","$rootScope",function(e,n){return{link:function(r,i,a){i.on("click",function(){n._selectedBond=r.$eval(a.cpDoBoughtBondProtocolDownload),e.removePopupDialog(),t=e.popupDialog("template_boughtBondProtocolDownloadTip",r,{type:"no-icon",buttons:[],css:{width:"350px"}})})}}}]).directive("cpDoShowSoldBondDetail",["commonService","$rootScope",function(e,n){return{link:function(r,i,a){i.on("click",function(){n._selectedBond=r.$eval(a.cpDoShowSoldBondDetail),e.removePopupDialog(),t=e.popupDialog("template_soldBondDetail",r,{type:"no-icon",buttons:[],css:{width:"906px"}})})}}}]).directive("cpDoShowBoughtBondDetail",["commonService","$rootScope",function(e,n){return{link:function(r,i,a){i.on("click",function(){n._selectedBond=r.$eval(a.cpDoShowBoughtBondDetail),e.removePopupDialog(),t=e.popupDialog("template_boughtBondDetail",r,{buttons:[],addClassName:"detail"})})}}}]).directive("cpDoRegisterProtocol",["doService",function(e){return{link:function(t,n,r){n.on("click",function(){e.registerProtocol(t,n,r,{doSuccess:function(e,t){alert('<div style="height:450px;width:800px;overflow-y:scroll;text-align:left">'+t.data+"</div>",{title:'<h1 id="register-protocol-title">协议内容</h1>',buttons:[],type:"no-icon"})}})})}}}]).directive("cpDoSendCode",["doService","$cookieStore","$interval","$rootScope",function(e,t,n,r){return{require:"^form",link:function(r,i,a,o){function s(){var e;0>=c||(e=n(function(){c--,t.put(l,c),i.text(c+"秒后重新获取"),i.val(c+"秒后重新获取"),0>=c&&(n.cancel(e),i.text("重新获取"),i.val("重新获取"),u.removeAttribute("disabled"))},1e3))}var c,l=a.sendcodeType||"regValidCodeCountdown",u=i[0];c=t.get(l)||0,c>0&&(i.text(c+"秒后重新获取"),i.val(c+"秒后重新获取"),u.setAttribute("disabled","disabled"),s()),i.on("click",function(){if(!(c>0)){var t={};if(a.startCount)e.sendCode(r,i,a,t);else{var n=r.$eval(a.cpDoSendCode),l=a.cpDoSendCode;if(o[l].$setViewValue(o[l].$viewValue),!o[l].$valid)return;t[l]=n,e.sendCode(r,i,a,t)}u.setAttribute("disabled","disabled"),c=60,i.text(c+"秒后重新获取"),i.val(c+"秒后重新获取"),s()}})}}}]).directive("cpDoBorrowProtocolPreview",["commonService","$rootScope",function(e,t){return{link:function(t,n,r){var i=t.$eval(r.cpDoBorrowProtocolPreview);n.on("click",function(){e.popupDialog("",t,{wrapClass:"protocol-dialog",css:{width:"700px",height:"400px",overflow:"auto"},ajax:function(){var t=this;return e.ajax({url:"borrows/borrowProtocolPreview",method:"get",params:{borrowId:i}}).success(function(e){t.append(e)})}})})}}}]).directive("cpDoBondDetailProtocolPreview",["commonService","doService",function(e,t){return{link:function(t,n,r){var i=t.$eval(r.cpDoBondDetailProtocolPreview);n.on("click",function(){e.popupDialog("",t,{css:{width:"700px",height:"400px",overflow:"auto"},ajax:function(){var t=this;return e.ajax({url:"bond/userBonds/bondProtocolPreviewSell",method:"get",params:{bondId:i}}).success(function(e){t.append(e)})}})})}}}]).directive("cpDoFillInvite",["$location",function(e){return{require:"ngModel",link:function(t,n,r,i){e.$$search.ui&&(t[i.$name]=e.$$search.ui)}}}]).directive("cpDoSelectRedpacket",["commonService",function(t){return{link:function(n,r,i){n.redpacketTotal=0,n.redpacketPlaceholder="请选择红包",n.rInvalidateRatio=!1,n.getRedPacketIds=function(e){for(var t=[],n=0;n<e.length;n++)e[n].checked&&t.push(e[n].id);return t.join(",")},n.selectRedpacket=function(e,t,r,i){var a=e.amount;n.rInvalidateRatio=!1,e.checked?(n.redpacketTotal-=a,e.checked=!1):n.redpacketTotal+a<=t*i?(n.redpacketTotal+=a,e.checked=!0):(e.checked=!1,n.rInvalidateRatio=!0),n.redPacketIds=n.getRedPacketIds(r);var o=n.cashStr-n.redpacketTotal;n.validator(o)},n.clearRedp=function(t){n.redpacketTotal>0&&(e.forEach(t,function(e,t){e.checked=!1,n.validator(n.cashStr)}),n.rRedpAll=!1,n.redpacketTotal=0,n.redPacketIds="")},n.selectAllRedp=function(t,r,i){var a=e.element(t.target),o=0,s=a.prop("checked");n.rInvalidateRatio=!1,s?(e.forEach(r,function(e,t){o+=e.amount}),o<=n.investValue*i?(e.forEach(r,function(e,t){s&&(e.checked=!0)}),n.redpacketTotal=o):(a.prop("checked",!1),s=!1,n.rInvalidateRatio=!0),n.redPacketIds=n.getRedPacketIds(r)):n.clearRedp(r),n.rRedpAll=s;var c=n.cashStr-n.redpacketTotal;n.validator(c)},r.on("click",function(){var r=n.borrowData=n.$eval(i.cpDoSelectRedpacket),a=n.investValue=n.$eval(i.investValue);if(0!=r.redPacketResArrays.length){if(!a)return void alert("请输入投资金额",{type:"info"});n.closeRedpDialog=t.removePopupDialog,t.popupDialog("template_selectRedpacket",n,{title:"请选择可使用红包",css:{width:"600px",overflow:"auto"},closeBtn:!1,buttons:[{value:"确定"},{value:"取消",callBack:function(){n.redpacketTotal>0&&(e.forEach(r.redPacketResArrays,function(e,t){e.checked=!1,n.validator(n.cashStr)}),n.$apply(function(){n.rRedpAll=!1,n.redpacketTotal=0,n.redPacketIds=""}))}}],wait:!1})}})}}}]).directive("cpDoOperateUserMessage",["doService","commonService",function(t,n){return{link:function(r,i,a){function o(){var t=[];return e.forEach(s,function(e,n){e.checked&&t.push(e.id)}),t}var s=[];r.$watch(a.cpDoOperateUserMessage,function(e,t){"object"==typeof e&&(s=e)}),r.signRow=function(e){var n=o(),c="";switch(e){case 1:c="确定要将选中项删除吗？";break;case 2:c="确定将选中项标记为未读吗？";break;case 3:c="确定将选中项标记为已读吗？"}n.length>0?alert(c,{buttons:[{type:"submit",value:"确定",callBack:function(){t.operateUserMessage(r,i,a,{arr:n,operate:e,doSuccess:function(t,n){s.reload({remainPage:1!=e?!0:!1}),t.bAll=!1}})}},{type:"submit",value:"取消",className:"cancel"}]}):alert("至少选择一条消息")},r.expandRow=function(e,o){e.expand=o,o&&1==e.isReaded&&t.viewUserMessage(r,i,a,{id:e.id,doSuccess:function(t,r){e.content=r.data,e.isReaded=2,n.updateUserMessage()}})},r.checkedAll=function(t){e.forEach(s,function(e,n){e.checked=t}),r.bAll=t}}}}])}),define("p2pSofa/directives/info/infoDirectives",["angular","p2pSofa/services/info/infoService"],function(e){mod_directives.directive("cpInfoAccountCash",["infoService",function(e){return{link:function(t,n,r){e.accountCash(t,n,r,{})}}}]).directive("cpInfoAccountBank",["infoService",function(e){return{link:function(t,n,r){e.accountBank(t,n,r,{})}}}]).directive("cpInfoRechargeBanks",["infoService",function(e){return{link:function(t,n,r){e.rechargeBanks(t,n,r,{})}}}]).directive("cpInfoUserInviteLink",["infoService",function(e){return{link:function(t,n,r){e.userInviteLink(t,n,r,{})}}}]).directive("cpInfoSellBondProtocol",["infoService",function(e){return{link:function(t,n,r){e.sellBondProtocol(t,n,r,{bond:t.$eval(r.cpInfoSellBondProtocol)})}}}]).directive("cpInfoSoldBondProtocol",["infoService",function(e){return{link:function(t,n,r){e.soldBondProtocol(t,n,r,{bond:t.$eval(r.cpInfoSoldBondProtocol)})}}}]).directive("cpInfoBorrowsBorrowProtocol",["infoService",function(e){return{link:function(t,n,r){e.borrowsBorrowProtocol(t,n,r,{bond:t.$eval(r.cpInfoBorrowsBorrowProtocol)})}}}]).directive("cpInfoBorrowsSeeProtocol",["infoService",function(e){return{link:function(t,n,r){e.borrowsSeeProtocol(t,n,r,{bond:t.$eval(r.cpInfoBorrowsSeeProtocol)})}}}]).directive("cpInfoBorrowsBorrowProtocolDownload",["infoService",function(e){return{link:function(t,n,r){e.borrowsBorrowDownload(t,n,r,{bond:t.$eval(r.cpInfoBorrowsBorrowProtocolDownload)})}}}]).directive("cpInfoBorrowsRepayment",["infoService",function(e){return{link:function(t,n,r){e.borrowsRepayment(t,n,r,{back:t.$eval(r.cpInfoBorrowsRepayment)})}}}]).directive("cpInfoSoldBondProtocolDownload",["infoService","$rootScope",function(e,t){return{link:function(t,n,r){e.soldBondProtocolDownload(t,n,r,{bond:t.$eval(r.cpInfoSoldBondProtocolDownload)})}}}]).directive("cpInfoBoughtBondProtocol",["infoService",function(e){return{link:function(t,n,r){e.boughtBondProtocol(t,n,r,{bond:t.$eval(r.cpInfoBoughtBondProtocol)})}}}]).directive("cpInfoBoughtBondProtocolDownload",["infoService",function(e){return{link:function(t,n,r){e.boughtBondProtocolDownload(t,n,r,{bond:t.$eval(r.cpInfoBoughtBondProtocolDownload)})}}}]).directive("cpInfoCookie",["$cookieStore",function(e){return{link:function(t,n,r){var i=r.varName,a=r.cpInfoCookie;t[i]=e.get(a)}}}]).directive("cpInfoBorrowDetail",["infoService","$stateParams",function(e,t){return{link:function(n,r,i){var a=t.id;e.borrowDetail(n,r,i,{id:a})}}}]).directive("cpInfoBondDetail",["infoService","$stateParams",function(e,t){return{link:function(n,r,i){var a=t.id,o=t.userId;e.bondDetail(n,r,i,{params:{id:a,userId:o}})}}}]).directive("cpInfoBorrowProtocol",["infoService",function(e){return{link:function(t,n,r){e.borrowProtocol(t,n,r,{id:t.$eval(r.cpInfoBorrowProtocol)})}}}]).directive("cpInfoBorrowStatus",["$rootScope",function(e){function t(t,n,r){var i=t.$eval(r.cpInfoBorrowStatus),a=r.varName;a&&(1==e.user.userType||2==e.user.userType?t[a]=6:i.status>=3?t[a]=2:e.user.id==i.userId?t[a]=3:i.investAble?t[a]=1:t[a]=4,1==i.status||3==i.status||4==i.status||8==i.status?t.borrowExist=!0:t.borrowExist=!1,i.amountBorrow-i.amountInvested<=i.investMin&&(t.disabledInvest=!0,t.cashStr=i.amountInvestable))}return{link:function(e,n,r){e.$watch(r.cpInfoBorrowStatus,function(i,a){"object"==typeof i&&t(e,n,r)})}}}]).directive("cpInfoBondStatus",["$rootScope",function(e){function t(t,n,r){var i=t.$eval(r.cpInfoBondStatus),a=r.varName,o=i.bond.status;a&&(1==e.user.userType||2==e.user.userType?t[a]=6:o>=3?t[a]=2:e.user.id==i.bond.userId?t[a]=3:e.user.id==i.borrow.userId?t[a]=5:t[a]=1)}return{link:function(e,n,r){e.$watch(r.cpInfoBondStatus,function(i,a){"object"==typeof i&&t(e,n,r)})}}}]).directive("cpInfoInitAccountset",["$rootScope","$cookieStore",function(e,t){return{scope:!0,link:function(n,r,i){function a(e){var t,n;for(t=0,n="";e>t;t++)n+="*";return n}function o(e,t,n){var r;return r=e.substr(0,t),r+a(n)+e.substr(n+r.length)}function s(e){var t=e.indexOf("@");return str1=e.substr(0,t),o(str1,1,str1.length-2)+e.substr(t)}n.MobileModify=!0,n.showPsw=!1,n.bindEma=!1,n.showEma=!1;var c=t.get("curUser");if(void 0==c.email||""==c.email?n.isEmail=!1:(n.isEmail=!0,n.bindEmail=s(c.email)),c.realName){var l=c.realName.length,u=o(c.realName,1,l-1);n.idNo=u+"    "+c.idNo}n.userPhone=o(c.phone,3,4),1==e.user.realNameStatus?(n.idIdentify=!1,n.score="100",n.grade="高",n.modifyMob=!1,document.getElementById("progress").style.backgroundPosition="0px -15px",document.getElementById("safety-color").style.color="#70bc31"):(n.idIdentify=!0,n.grade="中",n.score="75",n.modifyMob=!0,document.getElementById("progress").style.backgroundPosition="0px 0px",document.getElementById("safety-color").style.color="#f39800")}}}])}),define("p2pSofa/services/ui/uiService",["angular","p2pSofa/services/common/commonService"],function(e){mod_services.service("uiService",["commonService","$parse",function(t,n){var r;return r={switchTo:function(r,i,a,o){function s(t){var n=0;return e.forEach(f,function(e,r){return e.getAttribute("value")==t?(n=r,!1):void 0}),n}function c(e){var t=f[e].getAttribute("value");f.removeClass(d),f.eq(e).addClass(d),n(u)(r,{index:e,value:t}),l&&(r[l]=t,r.$$phase||r.$apply())}var o=e.extend({},o||{}),l=a.varName||o.varName,u=a.switchAction||o.switchAction,d=a.activeClass||o.activeClass||"active",p=r.$eval(a.initIndex||o.initIndex)||0,f=o.$switches,m=a.deep||o.deep,h=r.$eval(a.excludeValue)||"";f.on("click",function(e){c(t.getIndex(this,m))}),a.initValue?r.$watch(a.initValue,function(e,t){e!=h&&c(s(e))}):a.initIndex?r.$watch(a.initIndex,function(e,t){c(r.$eval(a.initIndex)||0)}):c(p)},animate:function(e,n,r,i,a,o,s){function c(){clearInterval(e.timer),e.timer=null,u?t.isIE8()?e.style.filter="alpha(opacity="+(d+l)+")":e.style[n]=d+l:e.style[n]=d+l+"px","function"==typeof a&&a()}var l,u="opacity"==n,d=parseFloat(t.GetCurrentStyle(e,n)),p=i/20,f=o,s=s||void 0,m=e.children.length,h=0;!d&&(d=0),u&&t.isIE8()&&!d&&(d=100),u&&!t.isIE8()&&(r/=100),l=r-d,e.timer&&(clearInterval(e.timer),e.timer=null),e.timer=setInterval(function(){h++,u?t.isIE8()?e.style.filter="alpha(opacity="+(d+l*h/p)+")":e.style[n]=d+l*h/p:0==f&&"CW"==s||f==m-1&&"CCW"==s?e.style[n]=d+l+"px":e.style[n]=d+l*h/p+"px",h>=p&&e.timer&&c()},5)}}}])}),define("p2pSofa/directives/ui/uiDirectives",["angular","p2pSofa/services/ui/uiService","p2pSofa/services/common/commonService"],function(e){mod_directives.directive("cpUiSwitch",["uiService",function(e){return{link:function(t,n,r){function i(){e.switchTo(t,n,r,{$switches:n.children()})}var a=r.watches;a?t.$watch(a,function(e,n){e&&setTimeout(function(){i(),t.$apply()},0)}):i()}}}]).directive("cpUiTab",["uiService","$parse",function(e,t){return{link:function(n,r,i){function a(){var a=r.children().eq(0).find("a"),o=r.children().eq(1).children();e.switchTo(n,r,i,{$switches:a,switchAction:function(e,n){o.css("display","none"),o[n.index]&&(o[n.index].style.display="block"),t(i.switchAction)(e,n)}})}var o,s=i.watches,c=n.$eval(s),l=0;if(s)for(c=c.split(","),l;l<c.length;l++)o=c[l],n.$watch(o,function(e,t){a()});else a()}}}]).directive("cpUiOperateDiscountRate",["uiService","$rootScope",function(e,t){return{link:function(e,n,r){n.on("click",function(){var n,i=t._bondConfig,a=e.$eval(r.cpUiOperateDiscountRate),o=.1,s=i.discountRateMin;discountRateMax=i.discountRateMax,discountRate=t._discountRate,n=a?(discountRate+o).toFixed(2):(discountRate-o).toFixed(2),n=parseFloat(n),a&&n<=discountRateMax?t._discountRate=n:!a&&n>=s&&(t._discountRate=n),e.$apply()})}}}]).directive("cpUiFly",["uiService","commonService","$interval",function(t,n,r){function i(e,t){e.moveTime=e.moveTime||1e3,e.delayTime=e.delayTime||3e3,e.moveName=void 0==e.moveName?"top":e.moveName,e.itemTag=e.itemTag||"li"}function a(i,a,o){function s(e){var n=m.children();d=i.moveDistance,v&&(d=f[0][0].offsetHeight),b&&(d=f[0][0].offsetWidth),t.animate(a[0],i.moveName,-d*e,i.moveTime,function(){h=e}),n.removeClass("active"),n.eq(e).addClass("active")}function c(){r.cancel(i.timer),i.timer=r(function(){i.triggers?((0==h&&g||h==f.length-1&&!g)&&(g=!g),s(g?--h:++h)):(d=i.moveDistance,v&&(d=f[0][0].offsetHeight),b&&(d=f[0][0].offsetWidth),t.animate(a[0],i.moveName,-d,i.moveTime,function(){f[0].parent().append(f[0]),a.css(i.moveName,"0px"),f.push(f.shift())}))},i.delayTime)}var l,u,d,p,f=[],m=e.element('<ul class="'+i.triggersClass+'"></ul>'),h=0,g=!1,v="top"==i.moveName||"bottom"==i.moveName,b="left"==i.moveName||"right"==i.moveName;"opacity"==i.moveName;a.css("position","relative"),e.forEach(a.find(i.itemTag),function(t,a){t=e.element(t),void 0!=t.attr("rd-fly-item")&&(f.push(t),i.$eval(i.triggers)&&(u=e.element("<li></li>").on("mouseenter",function(){r.cancel(i.timer),targetIndex=n.getIndex(this,m.children()),s(targetIndex)}).on("mouseleave",function(){c()}),m.append(u),1==m.children().length&&u.addClass("active")))}),i.$eval(i.triggerBtn)&&($triggerBtnPrev=e.element('<button class="prev"></button>').on("click",function(){r.cancel(i.timer),targetIndex=h-1,s(targetIndex)}).on("mouseleave",function(){c()}),$triggerBtnNext=e.element('<button class="next"></button>').on("click",function(){r.cancel(i.timer),targetIndex=h+1,s(targetIndex)}).on("mouseleave",function(){c()}),$triggerBtn.append($triggerBtnPrev),$triggerBtn.append($triggerBtnNext),a.parent().parent().append($triggerBtn)),l=f.length,1>=l||(b&&(p=f[0][0].offsetWidth+1,a.css("width",p*l+"px")),i.$eval(i.triggers)&&l>1&&(a.parent().append(m),m.css("margin-left",-m[0].offsetWidth/2+"px")),setTimeout(function(){(v&&a[0].offsetHeight>a.parent()[0].offsetHeight||b&&a[0].offsetWidth>a.parent()[0].offsetWidth)&&(c(),a.on("mouseenter",function(){r.cancel(i.timer)}).on("mouseleave",function(){c()}))},100))}function o(e,t,n){i(e,n),a(e,t,n)}return{scope:{moveTime:"@",delayTime:"@",moveName:"@",items:"=",itemTag:"@",triggers:"@",triggersClass:"@",moveDistance:"="},link:function(e,t,n){e.$watch("items",function(r,i){r!=i&&o(e,t,n)}),e.$on("$destroy",function(){r.cancel(e.timer)})}}}]).directive("cpUiFlyStatic",["uiService","commonService","$interval",function(t,n,r){function i(e,t){e.moveTime=e.moveTime||1e3,e.delayTime=e.delayTime||3e3,e.moveName=void 0==e.moveName?"top":e.moveName,e.itemTag=e.itemTag||"li"}function a(i,a,o){function s(e){var n=m.children();d=i.moveDistance,y&&(d=f[0][0].offsetHeight),$&&(d=f[0][0].offsetWidth),0>e?e=l-1:e>=l&&(e=0),(0==g&&e==f.length-1&&w||g==f.length-1&&0==e&&!w)&&(w=!w,b=w?"CCW":"CW"),t.animate(a[0],i.moveName,-d*e,i.moveTime,function(){g=e},g,b),n.removeClass("active"),n.eq(e).addClass("active")}function c(){var e=0;r.cancel(i.timer),i.timer=r(function(){l-1>e?e+=1:e=0,i.$eval(i.triggers)?((0==g&&v||g==f.length-1&&!v)&&(v=!v),s(v?--g:++g)):(d=i.moveDistance,y&&(d=f[0][0].offsetHeight),$&&(d=f[0][0].offsetWidth),t.animate(a[0],i.moveName,-d*e,i.moveTime,function(){g=e?e:1}))},i.delayTime)}var l,u,d,p,f=[],m=e.element('<ul class="'+i.triggersClass+'"></ul>'),h=e.element('<div class="cp-ui-fly-btn"></div>'),g=0,v=!1,b="CW",w=!1,y="top"==i.moveName||"bottom"==i.moveName,$="left"==i.moveName||"right"==i.moveName;"opacity"==i.moveName;a.css("position","relative"),e.forEach(a.find(i.itemTag),function(t,a){t=e.element(t),void 0!=t.attr("rd-fly-item")&&(f.push(t),i.$eval(i.triggers)&&(u=e.element('<li class="li'+(a+1)+'"></li>').on("mouseenter",function(){r.cancel(i.timer),targetIndex=n.getIndex(this,m.children()),s(targetIndex)}).on("mouseleave",function(){c()}),m.append(u),1==m.children().length&&u.addClass("active")))}),i.$eval(i.triggerBtn)&&($triggerBtnPrev=e.element('<button class="prev"></button>').on("click",function(){r.cancel(i.timer),targetIndex=g-1,s(targetIndex)}).on("mouseleave",function(){c()}),$triggerBtnNext=e.element('<button class="next"></button>').on("click",function(){r.cancel(i.timer),targetIndex=g+1,s(targetIndex)}).on("mouseleave",function(){c()}),h.append($triggerBtnPrev),h.append($triggerBtnNext),a.parent().parent().append(h)),l=f.length,1>=l||($&&(p=f[0][0].offsetWidth+1,a.css("width",p*l+"px")),i.$eval(i.triggers)&&l>1&&a.parent().parent().append(m),setTimeout(function(){(y&&a[0].offsetHeight>a.parent()[0].offsetHeight||$&&a[0].offsetWidth>a.parent()[0].offsetWidth)&&(c(),a.on("mouseenter",function(){r.cancel(i.timer)}).on("mouseleave",function(){c()}))},100))}function o(e,t,n){i(e,n),a(e,t,n)}return{scope:{moveTime:"@",delayTime:"@",moveName:"@",itemTag:"@",triggers:"@",triggersClass:"@",triggerBtn:"@",moveDistance:"="},link:function(e,t,n){o(e,t,n),e.$on("$destroy",function(){r.cancel(e.timer)})}}}]).directive("cpUiSedate",["uiService",function(t){return{link:function(t,n,r){var i,a=r.varName||"",o=n.find("input"),s=["startTime","endTime"];e.forEach(s,function(e,n){o.eq(n).on("blur",function(){i=a?a+s[n].replace(/^[w]/,function(e){return e.toUpperCase()}):s[n],t[i]=this.value})})}}}]).directive("cpUiKnob",["commonService",function(e){return{link:function(t,n,r){function i(e){!e&&(e=0);var t=e*Math.PI/50;a.clearRect(0,0,s,c),a.beginPath(),a.strokeStyle=l,a.lineWidth=d,a.arc(s/2,c/2,s/2-a.lineWidth,0,2*Math.PI,!1),a.stroke(),0!=t&&(a.beginPath(),a.strokeStyle=u,a.lineWidth=d,a.arc(s/2,c/2,s/2-a.lineWidth,0,t,!1),a.stroke())}var a,o=70,s=r.r||o,c=r.r||o,l=r.bgcolor||"#eaeaea",u=r.color||"#58bf8b",d=r.lineWidth||4,p=document.createElement("canvas");if(p.setAttribute("width",s),p.setAttribute("height",c),e.isIE8()){if(!G_vmlCanvasManager)return;G_vmlCanvasManager.initElement(p)}n.prepend(p),a=p.getContext("2d"),t.$watch(r.cpUiKnob,function(e,n){i(t.$eval(r.cpUiKnob))}),r.rdShow&&t.$watch(r.rdShow,function(){i(t.$eval(r.cpUiKnob))})}}}]).directive("cpUiImagePreview",["uiService",function(t){function n(t,n,r){function i(){c&&($box.remove(),c.remove(),o.remove(),c=null)}function a(t,n,r){var p=document.documentElement.offsetHeight,f=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop;document.documentElement.scrollLeft||window.pageXOffset||document.body.scrollLeft;s=e.element(document.body),$box=e.element('<div class="rd-image-preview-box"></div>'),o=e.element('<div class="rd-image-preview-conta"><img id="abc" src="'+t.attr("src").replace(/w\/[\d]+\/h\/[\d]+|w\/[\d]+$/,"")+'" /><div class="close_btn" id="close_btn">X</div></div>'),c=e.element('<div class="rd-mask"></div>').off("click").on("click",function(){i()}),$box.css({display:"block",top:f+50+"px"}),c.css({height:p+"px",display:"block"}),l=e.element('<a class="prev-btn"></a>').on("click",function(){n>0&&(i(),a(e.element(d[n-1]),n-1))}),u=e.element('<a class="next-btn"></a>').on("click",function(){n<d.length-1&&(i(),a(e.element(d[n+1]),n+1))}),n>0&&o.append(l),n<d.length-1&&o.append(u),s.append(c),$box.append(o),s.append($box),e.element(document.getElementById("close_btn")).off("click").on("click",function(){i()})}var o,s,c,l,u,d;t.src,parseInt(t.imageWidth)?t.imageWidth:1600,parseInt(t.imageHeight)?t.imageHeight:1200;d=n.find("img"),e.forEach(d,function(t,n){t=e.element(t),t.off("click").on("click",function(){a(t,n)})})}return{scope:{images:"=cpUiImagePreview",imageWidth:"@",imageHeight:"@"},link:function(e,t,r){e.$watch("images",function(i,a){n(e,t,r)})}}}]).directive("cpUiFixed",["commonService",function(t){return{scope:{},link:function(n,r,i){function a(e){function n(){r.removeClass("rd-fixed"),r[0].style.left=null,r[0].style.width=null,p=!1}e&&n(),s=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,c=t.getElementAbsPos(r[0]),l=c.top,u=c.left,d=r[0].offsetWidth,s>l?p||(r.addClass("rd-fixed").css({left:u+"px",width:d+"px",top:"0px"}),p=!0):p&&n()}function o(){a(!0)}var s,c,l,u,d,p=(t.GetCurrentStyle(r[0],"left"),t.GetCurrentStyle(r[0],"width"),!1);e.element(window).on("scroll",a),e.element(window).on("resize",o),n.$on("$destroy",function(){e.element(window).off("scroll",a),e.element(window).off("resize",o)})}}}]).directive("cpUiLimitDecimal",[function(){return{require:"ngModel",link:function(e,t,n,r){var i=r.$name,a=e.$eval(n.cpUiLimitDecimal),o=new RegExp("^[\\d]+\\.?[\\d]*$");rErrorDecimal=new RegExp("[\\d]+\\.[\\d]{"+(a+1)+",}"),okReg=new RegExp("[\\d]+\\.?[\\d]{"+a+","+a+"}"),e.$watch(i,function(t,n){t&&"string"==typeof t&&(!t.match(o)&&(e[i]=n),t.match(rErrorDecimal)&&(e[i]=t.match(okReg)[0]))})}}}]).directive("cpUiP2pArea",["$http",function(e){return{scope:{jsonUrl:"@jsonUrl",p2pProvince:"=p2pProvince",p2pCity:"=p2pCity"},restrict:"A",template:'<select ng-change="setCity()" class="form-control select1" name="province" ng-model="selected" ng-disabled="opProvinceDis" ng-options="list.p for list in areas track by list.p"></select><select id="city" name="city" class="form-control select2" ng-disabled="opCityDis" ng-model="selected1" ng-options="list.n for list in selected.c track by list.n"></select>',link:function(t,n,r){e({url:t.jsonUrl,headers:{"Content-Type":"application/x-www-form-urlencoded","x-requested-with":"XMLHttpRequest"}}).success(function(e,n,r,i){t.areas=e.citylist,t.selected=t.areas[0],t.selected1=t.selected.c[0],t.setCity=function(){t.selected1=t.selected.c[0]}}),t.$watch("selected1",function(e,n){e&&(t.p2pProvince=t.selected.p,t.p2pCity=t.selected1.n)})}}}]).directive("cpUiMax",[function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,r){var i,a=n.cpUiMax;"number"==parseInt(a)?i=parseInt(a):e.$watch(a,function(e,t){i=e}),e.$watch(r.$name,function(t,n){t>i&&(e[r.$name]=n)})}}}])}),define("p2pSofa/services/upload/uploadService",["angular"],function(e){mod_services.service("uploadService",["cService","$parse",function(e,t){var n;return n={}}])}),define("p2pSofa/directives/upload/uploadDirectives",["angular","p2pSofa/services/upload/uploadService"],function(e){}),define("p2pSofa/filters/filters",["angular"],function(angular){mod_filters.filter("cpFilterTrim",[function(){var e,t=/^[\s]*/,n=/[\s]$/,r=/^[\s]*|[\s]*$/,i=/[\s]/g;return function(a){return arguments.length>1&&("left"==arguments[1]&&(e=t),"right"==arguments[1]&&(e=n),"both"==arguments[1]&&(e=r),"all"==arguments[1]&&(e=i)),e?a.replace(e,""):a}}]).factory("nullModifier",[function(){function e(e,t){var n=angular.element('<s class="has-error error-msg">'+t+"</s>");e.parent().append(n)}function t(e){for(var t=e[0];t=t.nextSibling;)"string"==typeof t.className&&"s"==t.nodeName.toLowerCase()&&t.className.indexOf("has-error")>=0&&t.parentNode.removeChild(t)}function n(e,t){for(var n=e;(n=n.parent()).length;)n.hasClass("form-group")&&(0!=t?n.addClass("has-error"):n.removeClass("has-error"))}var r=function(e){},i=function(r,i){function a(i){var a="";switch(i){case 1:a='您还未实名认证，<a href="#/account/payAccount" class="recharge">点击实名认证</a>';break;case 2:a="投资金额不能小于最小投资额"+o+"元";break;case 3:a="投资金额需在"+o+"~"+s+"元范围内";break;case 4:a='余额不足，<a href="#/account/recharge" class="recharge">请充值</a>';break;case 5:a='您还未授权，<a href="#/account/payAccount" class="recharge">点击去授权</a>'}t(r),n(r,!1),i&&(e(r,a),n(r))}var o=(parseFloat(r.attr("investMax")),parseFloat(r.attr("investMin"))),s=(parseFloat(r.attr("amountInvestable")),parseFloat(r.attr("limitMax"))),c=parseFloat(r.attr("errorType"));a(c)},a=function(e){t(e),n(e,!1)};return{makeValid:r,makeInvalid:i,makeDefault:a,key:"nullModifier"}}]).filter("cpFilterHtml",["$sce",function(e){return function(t){return e.trustAsHtml(t)}}]).filter("cpFilterResource",["$sce",function(e){return function(t){return e.trustAsResourceUrl(t)}}]).filter("trimAnyThing",[function(){return function(input,regx){if(input){var output,regx=eval("/"+regx+"/g");return output=input.replace(regx,"")}}}])}),window.mod_directives=angular.module("mod_directives",["ng"]),window.mod_services=angular.module("mod_services",["ng"]).run(["$rootScope","commonService","validator","nullModifier",function(e,t,n,r){e.gotoAnchor=t.gotoAnchor,e.reload=function(){location.reload()},e.reload_corp=function(){t.ajax({url:"ufx/queryCorpRegisterStatus",method:"get",params:{type:10}}).success(function(e){location.reload()})},e.removeDialog=t.removePopupDialog,e.removeDialog_corp=function(){t.ajax({url:"ufx/queryCorpRegisterStatus",method:"get",params:{type:10}}),t.removePopupDialog},n.registerDomModifier(r.key,r),angular.element(document).on("keydown",function(e){var t=e.keyCode||e.which,n=e.target.tagName.toLowerCase();return 8==t&&"input"!=n&&"textarea"!=n?(e.preventDefault(),!1):void 0})}]),window.mod_filters=angular.module("mod_filters",["ng"]),define("angularP2pSofa",["angular","p2pSofa/directives/common/commonDirectives","p2pSofa/directives/list/listDirectives","p2pSofa/directives/form/formDirectives","p2pSofa/directives/valid/validDirectives","p2pSofa/directives/do/doDirectives","p2pSofa/directives/info/infoDirectives","p2pSofa/directives/ui/uiDirectives","p2pSofa/directives/upload/uploadDirectives","p2pSofa/filters/filters"],function(e){return function(e){}});var biRadixBase=2,biRadixBits=16,bitsPerDigit=biRadixBits,biRadix=65536,biHalfRadix=biRadix>>>1,biRadixSquared=biRadix*biRadix,maxDigitVal=biRadix-1,maxInteger=9999999999999998,maxDigits,ZERO_ARRAY,bigZero,bigOne;setMaxDigits(20);var dpl10=15,lr10=biFromNumber(1e15),hexatrigesimalToChar=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"),hexToChar=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"),highBitMasks=new Array(0,32768,49152,57344,61440,63488,64512,65024,65280,65408,65472,65504,65520,65528,65532,65534,65535),lowBitMasks=new Array(0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535);define("rsa",function(){}),define("htmlModule/app",["angular","ngAnimate","uiRouter","configs/config","autoValidate","components","text!base/templates/templates.html","dialog","plupload","qiniu","ngCookies","angularP2pSofa","rsa"],function(e,t,n,r,i,a,o){
"use strict";var s="investment",c=e.module(s,["ui.router","components","jcs-autoValidate","ngCookies","mod_services","mod_directives","mod_filters"]);return r(c),c.run(["$rootScope","$state","$stateParams","$compile","G","$location","$http","$cookieStore","$window","$cacheFactory",function(t,n,r,i,a,s,c,l,u,d){i(o),t.footer=!0,t.footerSimply=!1,t.header=!0,t.headerSimply=!1,t.$state=n,t.$state.preState="",t.$state.nxtState="",t.$state.change=!0,t.$stateParams=r,t.domain="",t.login={beforeLogin:!0,afterLogin:!1},t.user||(t.user={}),!t.user.id&&l.get("curUser")&&(t.user=l.get("curUser1")&&l.get("curUser1").id?l.get("curUser1"):l.get("curUser")),c({url:"qiniuDomain",method:"get",headers:{"Content-Type":"application/x-www-form-urlencoded","x-requested-with":"XMLHttpRequest"}}).success(function(e,n){t.domain=e}).error(function(e,t){}),c({url:"account/paymentaccount/getNamePhone",type:"get",headers:{"Content-Type":"application/x-www-form-urlencoded","x-requested-with":"XMLHttpRequest"}}).success(function(e){t.corpInfo=e;var n=e.serviceQQs;t.qqs=n.split(",");var r,i=t.qqs,a=i.length;for(r=0;a>r;r++)i[r]=i[r].split("#");t.qqs=i}),t.validate=[],t.$on("$stateChangeStart",function(r,i,a,o,s){function u(){t.user={},t.user.headPortraitUrl="resources/images/account-head.png",l.put("curUser",{}),l.put("curUser1",{});var o=!0;return i.name.indexOf("account")>=0&&(o=!1),e.forEach(t.validate,function(e,n){i.name!=e||t.user.id||(o=!1)}),o?void 0:(t.$state.change=!1,t.$state.nxtState=i,t.$state.nxtState.nextPrams=a,n.go("login"),r&&r.preventDefault?r.preventDefault():window.event.returnValue=!1,!1)}a.noCache=(new Date).getTime(),t.user.id?o.name||c({url:"canBorrow",method:"get",headers:{"Content-Type":"application/x-www-form-urlencoded","x-requested-with":"XMLHttpRequest"}}).success(function(e,n){"true"!=e&&"false"!=e?(t.login.beforeLogin=!0,t.login.afterLogin=!1,u()):(t.login.beforeLogin=!1,t.login.afterLogin=!0,c({url:"user/message",method:"get",headers:{"Content-Type":"application/x-www-form-urlencoded","x-requested-with":"XMLHttpRequest"}}).success(function(e,n){t.user.isNotReadedMessage=e}))}):u()}),t.$on("$stateChangeSuccess",function(e,r,i,a,o){"account.bankCard.cardShow"!=a.name&&"account.bankCard.formShow"!=a.name||"account.bankCard"!=r.name||n.go(a.name),"register"==r.name&&t.user.id&&n.go("account.myaccount"),"login"==r.name||"register"==r.name?(t.header=!0,t.headerSimply=!1,t.footer=!1,t.footerSimply=!0,"login"==r.name?t.stateName="登录":t.stateName="注册"):(t.footer=!0,t.footerSimply=!1,t.header=!0,t.headerSimply=!1),t.$state.preState=a,t.$state.preState.currentParams=o,window.scrollTo(0,0)})}]).config(["$stateProvider","$urlRouterProvider","$locationProvider","$httpProvider",function(e,t,n,r){e.state("account.bankCard.formShow",{url:"/formShow",templateUrl:"views/account/bankCardForm.html"}).state("account.bankCard.cardShow",{url:"/cardShow",templateUrl:"views/account/bankCardCard.html"}),t.when("","/home").when("/","/home").otherwise("/error/404")}]),{start:function(t){e.bootstrap(t||document,[s])}}}),require.config({baseUrl:"./",paths:{angular:"resources/plugins/angular/angular",ngCookies:"resources/plugins/angular/angular-cookies",ngAnimate:"resources/plugins/angular/angular-animate",uiRouter:"resources/plugins/angular-ui-router/release/angular-ui-router",components:"resources/js/directives/components",autoValidate:"resources/plugins/angular-auto-validate/dist/jcs-auto-validate",text:"resources/plugins/requirejs/text",dialog:"resources/js/common/dialog",plupload:"resources/plugins/qiniu/demo/js/plupload/plupload.full.min",qiniu:"resources/plugins/qiniu/demo/js/qiniu",echarts:"resources/plugins/echarts/echarts-plain-original",excanvas:"resources/js/common/excanvas",rsa:"resources/js/common/RSA_ready",WdatePicker:"resources/plugins/My97DatePicker/WdatePicker",angularP2pSofa:"base/angular-p2p-sofa/angular-p2p-sofa"},packages:[{name:"common",location:"resources/js/common"},{name:"services",location:"resources/js/services"},{name:"directives",location:"resources/js/directives"},{name:"modules",location:"resources/js/modules"},{name:"configs",location:"resources/js/configs"},{name:"interface",location:"resources/interface"},{name:"htmlModule",location:"views"},{name:"appCommon",location:"resources/js/common"},{name:"p2pSofa",location:"base/angular-p2p-sofa"}],urlArgs:"v=1457612997727",waitSeconds:0,shim:{angular:{exports:"angular"},ngCookies:{deps:["angular"]},uiRouter:{deps:["angular"],exports:"uiRouter"},components:{deps:["angular"]},ngAnimate:{deps:["angular"]},autoValidate:{deps:["angular"]},angularP2pSofa:{deps:["angular"]}}}),require(["htmlModule/app"],function(e){"use strict";e.start()}),define("views/main",function(){});